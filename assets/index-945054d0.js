var Or=Object.defineProperty;var Dr=(i,s,o)=>s in i?Or(i,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[s]=o;var En=(i,s,o)=>(Dr(i,typeof s!="symbol"?s+"":s,o),o),Xn=(i,s,o)=>{if(!s.has(i))throw TypeError("Cannot "+o)};var bt=(i,s,o)=>(Xn(i,s,"read from private field"),o?o.call(i):s.get(i)),Yt=(i,s,o)=>{if(s.has(i))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(i):s.set(i,o)},on=(i,s,o,a)=>(Xn(i,s,"write to private field"),a?a.call(i,o):s.set(i,o),o),Kn=(i,s,o,a)=>({set _(c){on(i,s,c,o)},get _(){return bt(i,s,a)}}),Jt=(i,s,o)=>(Xn(i,s,"access private method"),o);(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const _ of d.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&a(_)}).observe(document,{childList:!0,subtree:!0});function o(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerpolicy&&(d.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?d.credentials="include":c.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=o(c);fetch(c.href,d)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function getAugmentedNamespace(i){if(i.__esModule)return i;var s=i.default;if(typeof s=="function"){var o=function a(){if(this instanceof a){var c=[null];c.push.apply(c,arguments);var d=Function.bind.apply(s,c);return new d}return s.apply(this,arguments)};o.prototype=s.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(i).forEach(function(a){var c=Object.getOwnPropertyDescriptor(i,a);Object.defineProperty(o,a,c.get?c:{enumerable:!0,get:function(){return i[a]}})}),o}var jsxRuntimeExports={},jsxRuntime={get exports(){return jsxRuntimeExports},set exports(i){jsxRuntimeExports=i}},reactJsxRuntime_production_min={},reactExports={},react={get exports(){return reactExports},set exports(i){reactExports=i}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$3=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(i){return i===null||typeof i!="object"?null:(i=z$1&&i[z$1]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(i,s,o){this.props=i,this.context=s,this.refs=D$1,this.updater=o||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(i,s){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,s,"setState")};E$1.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(i,s,o){this.props=i,this.context=s,this.refs=D$1,this.updater=o||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(i,s,o){var a,c={},d=null,_=null;if(s!=null)for(a in s.ref!==void 0&&(_=s.ref),s.key!==void 0&&(d=""+s.key),s)J.call(s,a)&&!L$1.hasOwnProperty(a)&&(c[a]=s[a]);var j=arguments.length-2;if(j===1)c.children=o;else if(1<j){for(var $=Array(j),nt=0;nt<j;nt++)$[nt]=arguments[nt+2];c.children=$}if(i&&i.defaultProps)for(a in j=i.defaultProps,j)c[a]===void 0&&(c[a]=j[a]);return{$$typeof:l$2,type:i,key:d,ref:_,props:c,_owner:K$1.current}}function N$1(i,s){return{$$typeof:l$2,type:i.type,key:s,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$2}function escape$1(i){var s={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(o){return s[o]})}var P$1=/\/+/g;function Q$1(i,s){return typeof i=="object"&&i!==null&&i.key!=null?escape$1(""+i.key):s.toString(36)}function R$1(i,s,o,a,c){var d=typeof i;(d==="undefined"||d==="boolean")&&(i=null);var _=!1;if(i===null)_=!0;else switch(d){case"string":case"number":_=!0;break;case"object":switch(i.$$typeof){case l$2:case n$3:_=!0}}if(_)return _=i,c=c(_),i=a===""?"."+Q$1(_,0):a,I$1(c)?(o="",i!=null&&(o=i.replace(P$1,"$&/")+"/"),R$1(c,s,o,"",function(nt){return nt})):c!=null&&(O$1(c)&&(c=N$1(c,o+(!c.key||_&&_.key===c.key?"":(""+c.key).replace(P$1,"$&/")+"/")+i)),s.push(c)),1;if(_=0,a=a===""?".":a+":",I$1(i))for(var j=0;j<i.length;j++){d=i[j];var $=a+Q$1(d,j);_+=R$1(d,s,o,$,c)}else if($=A$1(i),typeof $=="function")for(i=$.call(i),j=0;!(d=i.next()).done;)d=d.value,$=a+Q$1(d,j++),_+=R$1(d,s,o,$,c);else if(d==="object")throw s=String(i),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return _}function S$1(i,s,o){if(i==null)return i;var a=[],c=0;return R$1(i,a,"","",function(d){return s.call(o,d,c++)}),a}function T$1(i){if(i._status===-1){var s=i._result;s=s(),s.then(function(o){(i._status===0||i._status===-1)&&(i._status=1,i._result=o)},function(o){(i._status===0||i._status===-1)&&(i._status=2,i._result=o)}),i._status===-1&&(i._status=0,i._result=s)}if(i._status===1)return i._result.default;throw i._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(i,s,o){S$1(i,function(){s.apply(this,arguments)},o)},count:function(i){var s=0;return S$1(i,function(){s++}),s},toArray:function(i){return S$1(i,function(s){return s})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$1;react_production_min.Fragment=p$4;react_production_min.Profiler=r$3;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(i,s,o){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var a=C$1({},i.props),c=i.key,d=i.ref,_=i._owner;if(s!=null){if(s.ref!==void 0&&(d=s.ref,_=K$1.current),s.key!==void 0&&(c=""+s.key),i.type&&i.type.defaultProps)var j=i.type.defaultProps;for($ in s)J.call(s,$)&&!L$1.hasOwnProperty($)&&(a[$]=s[$]===void 0&&j!==void 0?j[$]:s[$])}var $=arguments.length-2;if($===1)a.children=o;else if(1<$){j=Array($);for(var nt=0;nt<$;nt++)j[nt]=arguments[nt+2];a.children=j}return{$$typeof:l$2,type:i.type,key:c,ref:d,props:a,_owner:_}};react_production_min.createContext=function(i){return i={$$typeof:u$2,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t$2,_context:i},i.Consumer=i};react_production_min.createElement=M$1;react_production_min.createFactory=function(i){var s=M$1.bind(null,i);return s.type=i,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$2,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,s){return{$$typeof:x,type:i,compare:s===void 0?null:s}};react_production_min.startTransition=function(i){var s=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=s}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(i,s){return U$1.current.useCallback(i,s)};react_production_min.useContext=function(i){return U$1.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$1.current.useDeferredValue(i)};react_production_min.useEffect=function(i,s){return U$1.current.useEffect(i,s)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(i,s,o){return U$1.current.useImperativeHandle(i,s,o)};react_production_min.useInsertionEffect=function(i,s){return U$1.current.useInsertionEffect(i,s)};react_production_min.useLayoutEffect=function(i,s){return U$1.current.useLayoutEffect(i,s)};react_production_min.useMemo=function(i,s){return U$1.current.useMemo(i,s)};react_production_min.useReducer=function(i,s,o){return U$1.current.useReducer(i,s,o)};react_production_min.useRef=function(i){return U$1.current.useRef(i)};react_production_min.useState=function(i){return U$1.current.useState(i)};react_production_min.useSyncExternalStore=function(i,s,o){return U$1.current.useSyncExternalStore(i,s,o)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";(function(i){i.exports=react_production_min})(react);const React=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$2=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$2(i,s,o){var a,c={},d=null,_=null;o!==void 0&&(d=""+o),s.key!==void 0&&(d=""+s.key),s.ref!==void 0&&(_=s.ref);for(a in s)m$2.call(s,a)&&!p$3.hasOwnProperty(a)&&(c[a]=s[a]);if(i&&i.defaultProps)for(a in s=i.defaultProps,s)c[a]===void 0&&(c[a]=s[a]);return{$$typeof:k$1,type:i,key:d,ref:_,props:c,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;(function(i){i.exports=reactJsxRuntime_production_min})(jsxRuntime);const Fragment=jsxRuntimeExports.Fragment,jsx=jsxRuntimeExports.jsx,jsxs=jsxRuntimeExports.jsxs;var client={},reactDomExports={},reactDom={get exports(){return reactDomExports},set exports(i){reactDomExports=i}},reactDom_production_min={},schedulerExports={},scheduler={get exports(){return schedulerExports},set exports(i){schedulerExports=i}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function s(Rt,Bt){var Ht=Rt.length;Rt.push(Bt);e:for(;0<Ht;){var qt=Ht-1>>>1,Ct=Rt[qt];if(0<c(Ct,Bt))Rt[qt]=Bt,Rt[Ht]=Ct,Ht=qt;else break e}}function o(Rt){return Rt.length===0?null:Rt[0]}function a(Rt){if(Rt.length===0)return null;var Bt=Rt[0],Ht=Rt.pop();if(Ht!==Bt){Rt[0]=Ht;e:for(var qt=0,Ct=Rt.length,yt=Ct>>>1;qt<yt;){var mt=2*(qt+1)-1,xt=Rt[mt],Tt=mt+1,kt=Rt[Tt];if(0>c(xt,Ht))Tt<Ct&&0>c(kt,xt)?(Rt[qt]=kt,Rt[Tt]=Ht,qt=Tt):(Rt[qt]=xt,Rt[mt]=Ht,qt=mt);else if(Tt<Ct&&0>c(kt,Ht))Rt[qt]=kt,Rt[Tt]=Ht,qt=Tt;else break e}}return Bt}function c(Rt,Bt){var Ht=Rt.sortIndex-Bt.sortIndex;return Ht!==0?Ht:Rt.id-Bt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var _=Date,j=_.now();i.unstable_now=function(){return _.now()-j}}var $=[],nt=[],dt=1,ft=null,ht=3,pt=!1,ot=!1,b=!1,lt=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function et(Rt){for(var Bt=o(nt);Bt!==null;){if(Bt.callback===null)a(nt);else if(Bt.startTime<=Rt)a(nt),Bt.sortIndex=Bt.expirationTime,s($,Bt);else break;Bt=o(nt)}}function g(Rt){if(b=!1,et(Rt),!ot)if(o($)!==null)ot=!0,Ut(_e);else{var Bt=o(nt);Bt!==null&&Dt(g,Bt.startTime-Rt)}}function _e(Rt,Bt){ot=!1,b&&(b=!1,tt(rt),rt=-1),pt=!0;var Ht=ht;try{for(et(Bt),ft=o($);ft!==null&&(!(ft.expirationTime>Bt)||Rt&&!St());){var qt=ft.callback;if(typeof qt=="function"){ft.callback=null,ht=ft.priorityLevel;var Ct=qt(ft.expirationTime<=Bt);Bt=i.unstable_now(),typeof Ct=="function"?ft.callback=Ct:ft===o($)&&a($),et(Bt)}else a($);ft=o($)}if(ft!==null)var yt=!0;else{var mt=o(nt);mt!==null&&Dt(g,mt.startTime-Bt),yt=!1}return yt}finally{ft=null,ht=Ht,pt=!1}}var it=!1,gt=null,rt=-1,at=5,ct=-1;function St(){return!(i.unstable_now()-ct<at)}function wt(){if(gt!==null){var Rt=i.unstable_now();ct=Rt;var Bt=!0;try{Bt=gt(!0,Rt)}finally{Bt?Lt():(it=!1,gt=null)}}else it=!1}var Lt;if(typeof st=="function")Lt=function(){st(wt)};else if(typeof MessageChannel<"u"){var Mt=new MessageChannel,zt=Mt.port2;Mt.port1.onmessage=wt,Lt=function(){zt.postMessage(null)}}else Lt=function(){lt(wt,0)};function Ut(Rt){gt=Rt,it||(it=!0,Lt())}function Dt(Rt,Bt){rt=lt(function(){Rt(i.unstable_now())},Bt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Rt){Rt.callback=null},i.unstable_continueExecution=function(){ot||pt||(ot=!0,Ut(_e))},i.unstable_forceFrameRate=function(Rt){0>Rt||125<Rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):at=0<Rt?Math.floor(1e3/Rt):5},i.unstable_getCurrentPriorityLevel=function(){return ht},i.unstable_getFirstCallbackNode=function(){return o($)},i.unstable_next=function(Rt){switch(ht){case 1:case 2:case 3:var Bt=3;break;default:Bt=ht}var Ht=ht;ht=Bt;try{return Rt()}finally{ht=Ht}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Rt,Bt){switch(Rt){case 1:case 2:case 3:case 4:case 5:break;default:Rt=3}var Ht=ht;ht=Rt;try{return Bt()}finally{ht=Ht}},i.unstable_scheduleCallback=function(Rt,Bt,Ht){var qt=i.unstable_now();switch(typeof Ht=="object"&&Ht!==null?(Ht=Ht.delay,Ht=typeof Ht=="number"&&0<Ht?qt+Ht:qt):Ht=qt,Rt){case 1:var Ct=-1;break;case 2:Ct=250;break;case 5:Ct=1073741823;break;case 4:Ct=1e4;break;default:Ct=5e3}return Ct=Ht+Ct,Rt={id:dt++,callback:Bt,priorityLevel:Rt,startTime:Ht,expirationTime:Ct,sortIndex:-1},Ht>qt?(Rt.sortIndex=Ht,s(nt,Rt),o($)===null&&Rt===o(nt)&&(b?(tt(rt),rt=-1):b=!0,Dt(g,Ht-qt))):(Rt.sortIndex=Ct,s($,Rt),ot||pt||(ot=!0,Ut(_e))),Rt},i.unstable_shouldYield=St,i.unstable_wrapCallback=function(Rt){var Bt=ht;return function(){var Ht=ht;ht=Bt;try{return Rt.apply(this,arguments)}finally{ht=Ht}}}})(scheduler_production_min);(function(i){i.exports=scheduler_production_min})(scheduler);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$2(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,s){ha(i,s),ha(i+"Capture",s)}function ha(i,s){for(ea[i]=s,i=0;i<s.length;i++)da.add(s[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,s,o,a){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,s,o,a){if(s===null||typeof s>"u"||pa(i,s,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v$1(i,s,o,a,c,d,_){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=o,this.propertyName=i,this.type=s,this.sanitizeURL=d,this.removeEmptyString=_}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z[i]=new v$1(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];z[s]=new v$1(s,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z[i]=new v$1(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z[i]=new v$1(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z[i]=new v$1(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z[i]=new v$1(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z[i]=new v$1(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z[i]=new v$1(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z[i]=new v$1(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(ra,sa);z[s]=new v$1(s,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(ra,sa);z[s]=new v$1(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(ra,sa);z[s]=new v$1(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z[i]=new v$1(i,1,!1,i.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z[i]=new v$1(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,s,o,a){var c=z.hasOwnProperty(s)?z[s]:null;(c!==null?c.type!==0:a||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,o,c,a)&&(o=null),a||c===null?oa(s)&&(o===null?i.removeAttribute(s):i.setAttribute(s,""+o)):c.mustUseProperty?i[c.propertyName]=o===null?c.type===3?!1:"":o:(s=c.attributeName,a=c.attributeNamespace,o===null?i.removeAttribute(s):(c=c.type,o=c===3||c===4&&o===!0?"":""+o,a?i.setAttributeNS(a,s,o):i.setAttribute(s,o))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+i}var Na=!1;function Oa(i,s){if(!i||Na)return"";Na=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(nt){var a=nt}Reflect.construct(i,[],s)}else{try{s.call()}catch(nt){a=nt}i.call(s.prototype)}else{try{throw Error()}catch(nt){a=nt}i()}}catch(nt){if(nt&&a&&typeof nt.stack=="string"){for(var c=nt.stack.split(`
`),d=a.stack.split(`
`),_=c.length-1,j=d.length-1;1<=_&&0<=j&&c[_]!==d[j];)j--;for(;1<=_&&0<=j;_--,j--)if(c[_]!==d[j]){if(_!==1||j!==1)do if(_--,j--,0>j||c[_]!==d[j]){var $=`
`+c[_].replace(" at new "," at ");return i.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",i.displayName)),$}while(1<=_&&0<=j);break}}}finally{Na=!1,Error.prepareStackTrace=o}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return s=i.displayName||null,s!==null?s:Qa(i.type)||"Memo";case Ha:s=i._payload,i=i._init;try{return Qa(i(s))}catch{}}return null}function Ra(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(i){var s=Ta(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),a=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,d=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return c.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),a="";return i&&(a=Ta(i)?i.checked?"true":"false":i.value),i=a,i!==o?(s.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,s){var o=s.checked;return A({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??i._wrapperState.initialChecked})}function Za(i,s){var o=s.defaultValue==null?"":s.defaultValue,a=s.checked!=null?s.checked:s.defaultChecked;o=Sa(s.value!=null?s.value:o),i._wrapperState={initialChecked:a,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(i,s){s=s.checked,s!=null&&ta(i,"checked",s,!1)}function bb(i,s){ab(i,s);var o=Sa(s.value),a=s.type;if(o!=null)a==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+o):i.value!==""+o&&(i.value=""+o);else if(a==="submit"||a==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?cb(i,s.type,o):s.hasOwnProperty("defaultValue")&&cb(i,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function db(i,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var a=s.type;if(!(a!=="submit"&&a!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,o||s===i.value||(i.value=s),i.defaultValue=s}o=i.name,o!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,o!==""&&(i.name=o)}function cb(i,s,o){(s!=="number"||Xa(i.ownerDocument)!==i)&&(o==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+o&&(i.defaultValue=""+o))}var eb=Array.isArray;function fb(i,s,o,a){if(i=i.options,s){s={};for(var c=0;c<o.length;c++)s["$"+o[c]]=!0;for(o=0;o<i.length;o++)c=s.hasOwnProperty("$"+i[o].value),i[o].selected!==c&&(i[o].selected=c),c&&a&&(i[o].defaultSelected=!0)}else{for(o=""+Sa(o),s=null,c=0;c<i.length;c++){if(i[c].value===o){i[c].selected=!0,a&&(i[c].defaultSelected=!0);return}s!==null||i[c].disabled||(s=i[c])}s!==null&&(s.selected=!0)}}function gb(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(p$2(92));if(eb(o)){if(1<o.length)throw Error(p$2(93));o=o[0]}s=o}s==null&&(s=""),o=s}i._wrapperState={initialValue:Sa(o)}}function ib(i,s){var o=Sa(s.value),a=Sa(s.defaultValue);o!=null&&(o=""+o,o!==i.value&&(i.value=o),s.defaultValue==null&&i.defaultValue!==o&&(i.defaultValue=o)),a!=null&&(i.defaultValue=""+a)}function jb(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?kb(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,o,a,c){MSApp.execUnsafeLocalFunction(function(){return i(s,o,a,c)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ob(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),pb[s]=pb[i]})});function rb(i,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||pb.hasOwnProperty(i)&&pb[i]?(""+s).trim():s+"px"}function sb(i,s){i=i.style;for(var o in s)if(s.hasOwnProperty(o)){var a=o.indexOf("--")===0,c=rb(o,s[o],a);o==="float"&&(o="cssFloat"),a?i.setProperty(o,c):i[o]=c}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,s){if(s){if(tb[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p$2(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p$2(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p$2(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p$2(62))}}function vb(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p$2(280));var s=i.stateNode;s&&(s=Db(s),yb(i.stateNode,i.type,s))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,s=Ab;if(Ab=zb=null,Bb(i),s)for(i=0;i<s.length;i++)Bb(s[i])}}function Gb(i,s){return i(s)}function Hb(){}var Ib=!1;function Jb(i,s,o){if(Ib)return i(s,o);Ib=!0;try{return Gb(i,s,o)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,s){var o=i.stateNode;if(o===null)return null;var a=Db(o);if(a===null)return null;o=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(i=i.type,a=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!a;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(p$2(231,s,typeof o));return o}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,s,o,a,c,d,_,j,$){var nt=Array.prototype.slice.call(arguments,3);try{s.apply(o,nt)}catch(dt){this.onError(dt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,s,o,a,c,d,_,j,$){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,s,o,a,c,d,_,j,$){if(Tb.apply(this,arguments),Ob){if(Ob){var nt=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=nt)}}function Vb(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function Wb(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p$2(188))}function Yb(i){var s=i.alternate;if(!s){if(s=Vb(i),s===null)throw Error(p$2(188));return s!==i?null:i}for(var o=i,a=s;;){var c=o.return;if(c===null)break;var d=c.alternate;if(d===null){if(a=c.return,a!==null){o=a;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===o)return Xb(c),i;if(d===a)return Xb(c),s;d=d.sibling}throw Error(p$2(188))}if(o.return!==a.return)o=c,a=d;else{for(var _=!1,j=c.child;j;){if(j===o){_=!0,o=c,a=d;break}if(j===a){_=!0,a=c,o=d;break}j=j.sibling}if(!_){for(j=d.child;j;){if(j===o){_=!0,o=d,a=c;break}if(j===a){_=!0,a=d,o=c;break}j=j.sibling}if(!_)throw Error(p$2(189))}}if(o.alternate!==a)throw Error(p$2(190))}if(o.tag!==3)throw Error(p$2(188));return o.stateNode.current===o?i:s}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=$b(i);if(s!==null)return s;i=i.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,s){var o=i.pendingLanes;if(o===0)return 0;var a=0,c=i.suspendedLanes,d=i.pingedLanes,_=o&268435455;if(_!==0){var j=_&~c;j!==0?a=tc(j):(d&=_,d!==0&&(a=tc(d)))}else _=o&~c,_!==0?a=tc(_):d!==0&&(a=tc(d));if(a===0)return 0;if(s!==0&&s!==a&&!(s&c)&&(c=a&-a,d=s&-s,c>=d||c===16&&(d&4194240)!==0))return s;if(a&4&&(a|=o&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=a;0<s;)o=31-oc(s),c=1<<o,a|=i[o],s&=~c;return a}function vc(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,s){for(var o=i.suspendedLanes,a=i.pingedLanes,c=i.expirationTimes,d=i.pendingLanes;0<d;){var _=31-oc(d),j=1<<_,$=c[_];$===-1?(!(j&o)||j&a)&&(c[_]=vc(j,s)):$<=s&&(i.expiredLanes|=j),d&=~j}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,!(rc&4194240)&&(rc=64),i}function zc(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Ac(i,s,o){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-oc(s),i[s]=o}function Bc(i,s){var o=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var a=i.eventTimes;for(i=i.expirationTimes;0<o;){var c=31-oc(o),d=1<<c;s[c]=0,a[c]=-1,i[c]=-1,o&=~d}}function Cc(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var a=31-oc(o),c=1<<a;c&s|i[a]&s&&(i[a]|=s),o&=~c}}var C=0;function Dc(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,s){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(i,s,o,a,c,d){return i===null||i.nativeEvent!==d?(i={blockedOn:s,domEventName:o,eventSystemFlags:a,nativeEvent:d,targetContainers:[c]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),i):(i.eventSystemFlags|=a,s=i.targetContainers,c!==null&&s.indexOf(c)===-1&&s.push(c),i)}function Uc(i,s,o,a,c){switch(s){case"focusin":return Lc=Tc(Lc,i,s,o,a,c),!0;case"dragenter":return Mc=Tc(Mc,i,s,o,a,c),!0;case"mouseover":return Nc=Tc(Nc,i,s,o,a,c),!0;case"pointerover":var d=c.pointerId;return Oc.set(d,Tc(Oc.get(d)||null,i,s,o,a,c)),!0;case"gotpointercapture":return d=c.pointerId,Pc.set(d,Tc(Pc.get(d)||null,i,s,o,a,c)),!0}return!1}function Vc(i){var s=Wc(i.target);if(s!==null){var o=Vb(s);if(o!==null){if(s=o.tag,s===13){if(s=Wb(o),s!==null){i.blockedOn=s,Ic(i.priority,function(){Gc(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Yc(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(o===null){o=i.nativeEvent;var a=new o.constructor(o.type,o);wb=a,o.target.dispatchEvent(a),wb=null}else return s=Cb(o),s!==null&&Fc(s),i.blockedOn=o,!1;s.shift()}return!0}function Zc(i,s,o){Xc(i)&&o.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,s){i.blockedOn===s&&(i.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(i){function s(c){return ad(c,i)}if(0<Kc.length){ad(Kc[0],i);for(var o=1;o<Kc.length;o++){var a=Kc[o];a.blockedOn===i&&(a.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach(s),Pc.forEach(s),o=0;o<Qc.length;o++)a=Qc[o],a.blockedOn===i&&(a.blockedOn=null);for(;0<Qc.length&&(o=Qc[0],o.blockedOn===null);)Vc(o),o.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(i,s,o,a){var c=C,d=cd.transition;cd.transition=null;try{C=1,fd(i,s,o,a)}finally{C=c,cd.transition=d}}function gd(i,s,o,a){var c=C,d=cd.transition;cd.transition=null;try{C=4,fd(i,s,o,a)}finally{C=c,cd.transition=d}}function fd(i,s,o,a){if(dd){var c=Yc(i,s,o,a);if(c===null)hd(i,s,a,id,o),Sc(i,a);else if(Uc(c,i,s,o,a))a.stopPropagation();else if(Sc(i,a),s&4&&-1<Rc.indexOf(i)){for(;c!==null;){var d=Cb(c);if(d!==null&&Ec(d),d=Yc(i,s,o,a),d===null&&hd(i,s,a,id,o),d===c)break;c=d}c!==null&&a.stopPropagation()}else hd(i,s,a,null,o)}}var id=null;function Yc(i,s,o,a){if(id=null,i=xb(a),i=Wc(i),i!==null)if(s=Vb(i),s===null)i=null;else if(o=s.tag,o===13){if(i=Wb(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return id=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,s=ld,o=s.length,a,c="value"in kd?kd.value:kd.textContent,d=c.length;for(i=0;i<o&&s[i]===c[i];i++);var _=o-i;for(a=1;a<=_&&s[o-a]===c[d-a];a++);return md=c.slice(i,1<a?1-a:void 0)}function od(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function s(o,a,c,d,_){this._reactName=o,this._targetInst=c,this.type=a,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var j in i)i.hasOwnProperty(j)&&(o=i[j],this[j]=o?o(d):d[j]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Od[i])?!!s[i]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(i){if(i.key){var s=Md[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(i,s){switch(i){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function je(i,s){switch(i){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(fe=!0,ee);case"textInput":return i=s.data,i===ee&&fe?null:i;default:return null}}function ke(i,s){if(ie)return i==="compositionend"||!ae&&ge(i,s)?(i=nd(),md=ld=kd=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!le[i.type]:s==="textarea"}function ne(i,s,o,a){Eb(a),s=oe(s,"onChange"),0<s.length&&(o=new td("onChange","change",null,o,a),i.push({event:o,listeners:s}))}var pe=null,qe=null;function re(i){se(i,0)}function te(i){var s=ue(i);if(Wa(s))return i}function ve(i,s){if(i==="change")return s}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(i){if(i.propertyName==="value"&&te(qe)){var s=[];ne(s,qe,i,xb(i)),Jb(re,s)}}function Ce(i,s,o){i==="focusin"?(Ae(),pe=s,qe=o,pe.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te(qe)}function Ee(i,s){if(i==="click")return te(s)}function Fe(i,s){if(i==="input"||i==="change")return te(s)}function Ge(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(i,s){if(He(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),a=Object.keys(s);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var c=o[a];if(!ja.call(s,c)||!He(i[c],s[c]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke(i,s){var o=Je(i);i=0;for(var a;o;){if(o.nodeType===3){if(a=i+o.textContent.length,i<=s&&a>=s)return{node:o,offset:s-i};i=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Je(o)}}function Le(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Le(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Me(){for(var i=window,s=Xa();s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Xa(i.document)}return s}function Ne(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function Oe(i){var s=Me(),o=i.focusedElem,a=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&Le(o.ownerDocument.documentElement,o)){if(a!==null&&Ne(o)){if(s=a.start,i=a.end,i===void 0&&(i=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(i,o.value.length);else if(i=(s=o.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var c=o.textContent.length,d=Math.min(a.start,c);a=a.end===void 0?d:Math.min(a.end,c),!i.extend&&d>a&&(c=a,a=d,d=c),c=Ke(o,d);var _=Ke(o,a);c&&_&&(i.rangeCount!==1||i.anchorNode!==c.node||i.anchorOffset!==c.offset||i.focusNode!==_.node||i.focusOffset!==_.offset)&&(s=s.createRange(),s.setStart(c.node,c.offset),i.removeAllRanges(),d>a?(i.addRange(s),i.extend(_.node,_.offset)):(s.setEnd(_.node,_.offset),i.addRange(s)))}}for(s=[],i=o;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)i=s[o],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(i,s,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Te||Qe==null||Qe!==Xa(a)||(a=Qe,"selectionStart"in a&&Ne(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Se&&Ie(Se,a)||(Se=a,a=oe(Re,"onSelect"),0<a.length&&(s=new td("onSelect","select",null,s,o),i.push({event:s,listeners:a}),s.target=Qe)))}function Ve(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var s=We[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in Ye)return Xe[i]=s[o];return i}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,s){df.set(i,s),fa(s,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,s,o){var a=i.type||"unknown-event";i.currentTarget=o,Ub(a,s,void 0,i),i.currentTarget=null}function se(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var a=i[o],c=a.event;a=a.listeners;e:{var d=void 0;if(s)for(var _=a.length-1;0<=_;_--){var j=a[_],$=j.instance,nt=j.currentTarget;if(j=j.listener,$!==d&&c.isPropagationStopped())break e;nf(c,j,nt),d=$}else for(_=0;_<a.length;_++){if(j=a[_],$=j.instance,nt=j.currentTarget,j=j.listener,$!==d&&c.isPropagationStopped())break e;nf(c,j,nt),d=$}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D(i,s){var o=s[of];o===void 0&&(o=s[of]=new Set);var a=i+"__bubble";o.has(a)||(pf(s,i,2,!1),o.add(a))}function qf(i,s,o){var a=0;s&&(a|=4),pf(o,i,a,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function(o){o!=="selectionchange"&&(mf.has(o)||qf(o,!1,i),qf(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(i,s,o,a){switch(jd(s)){case 1:var c=ed;break;case 4:c=gd;break;default:c=fd}o=c.bind(null,s,o,i),c=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(c=!0),a?c!==void 0?i.addEventListener(s,o,{capture:!0,passive:c}):i.addEventListener(s,o,!0):c!==void 0?i.addEventListener(s,o,{passive:c}):i.addEventListener(s,o,!1)}function hd(i,s,o,a,c){var d=a;if(!(s&1)&&!(s&2)&&a!==null)e:for(;;){if(a===null)return;var _=a.tag;if(_===3||_===4){var j=a.stateNode.containerInfo;if(j===c||j.nodeType===8&&j.parentNode===c)break;if(_===4)for(_=a.return;_!==null;){var $=_.tag;if(($===3||$===4)&&($=_.stateNode.containerInfo,$===c||$.nodeType===8&&$.parentNode===c))return;_=_.return}for(;j!==null;){if(_=Wc(j),_===null)return;if($=_.tag,$===5||$===6){a=d=_;continue e}j=j.parentNode}}a=a.return}Jb(function(){var nt=d,dt=xb(o),ft=[];e:{var ht=df.get(i);if(ht!==void 0){var pt=td,ot=i;switch(i){case"keypress":if(od(o)===0)break e;case"keydown":case"keyup":pt=Rd;break;case"focusin":ot="focus",pt=Fd;break;case"focusout":ot="blur",pt=Fd;break;case"beforeblur":case"afterblur":pt=Fd;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pt=Vd;break;case $e:case af:case bf:pt=Hd;break;case cf:pt=Xd;break;case"scroll":pt=vd;break;case"wheel":pt=Zd;break;case"copy":case"cut":case"paste":pt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pt=Td}var b=(s&4)!==0,lt=!b&&i==="scroll",tt=b?ht!==null?ht+"Capture":null:ht;b=[];for(var st=nt,et;st!==null;){et=st;var g=et.stateNode;if(et.tag===5&&g!==null&&(et=g,tt!==null&&(g=Kb(st,tt),g!=null&&b.push(tf(st,g,et)))),lt)break;st=st.return}0<b.length&&(ht=new pt(ht,ot,null,o,dt),ft.push({event:ht,listeners:b}))}}if(!(s&7)){e:{if(ht=i==="mouseover"||i==="pointerover",pt=i==="mouseout"||i==="pointerout",ht&&o!==wb&&(ot=o.relatedTarget||o.fromElement)&&(Wc(ot)||ot[uf]))break e;if((pt||ht)&&(ht=dt.window===dt?dt:(ht=dt.ownerDocument)?ht.defaultView||ht.parentWindow:window,pt?(ot=o.relatedTarget||o.toElement,pt=nt,ot=ot?Wc(ot):null,ot!==null&&(lt=Vb(ot),ot!==lt||ot.tag!==5&&ot.tag!==6)&&(ot=null)):(pt=null,ot=nt),pt!==ot)){if(b=Bd,g="onMouseLeave",tt="onMouseEnter",st="mouse",(i==="pointerout"||i==="pointerover")&&(b=Td,g="onPointerLeave",tt="onPointerEnter",st="pointer"),lt=pt==null?ht:ue(pt),et=ot==null?ht:ue(ot),ht=new b(g,st+"leave",pt,o,dt),ht.target=lt,ht.relatedTarget=et,g=null,Wc(dt)===nt&&(b=new b(tt,st+"enter",ot,o,dt),b.target=et,b.relatedTarget=lt,g=b),lt=g,pt&&ot)t:{for(b=pt,tt=ot,st=0,et=b;et;et=vf(et))st++;for(et=0,g=tt;g;g=vf(g))et++;for(;0<st-et;)b=vf(b),st--;for(;0<et-st;)tt=vf(tt),et--;for(;st--;){if(b===tt||tt!==null&&b===tt.alternate)break t;b=vf(b),tt=vf(tt)}b=null}else b=null;pt!==null&&wf(ft,ht,pt,b,!1),ot!==null&&lt!==null&&wf(ft,lt,ot,b,!0)}}e:{if(ht=nt?ue(nt):window,pt=ht.nodeName&&ht.nodeName.toLowerCase(),pt==="select"||pt==="input"&&ht.type==="file")var _e=ve;else if(me(ht))if(we)_e=Fe;else{_e=De;var it=Ce}else(pt=ht.nodeName)&&pt.toLowerCase()==="input"&&(ht.type==="checkbox"||ht.type==="radio")&&(_e=Ee);if(_e&&(_e=_e(i,nt))){ne(ft,_e,o,dt);break e}it&&it(i,ht,nt),i==="focusout"&&(it=ht._wrapperState)&&it.controlled&&ht.type==="number"&&cb(ht,"number",ht.value)}switch(it=nt?ue(nt):window,i){case"focusin":(me(it)||it.contentEditable==="true")&&(Qe=it,Re=nt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ft,o,dt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ft,o,dt)}var gt;if(ae)e:{switch(i){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else ie?ge(i,o)&&(rt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(rt="onCompositionStart");rt&&(de&&o.locale!=="ko"&&(ie||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&ie&&(gt=nd()):(kd=dt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),it=oe(nt,rt),0<it.length&&(rt=new Ld(rt,i,null,o,dt),ft.push({event:rt,listeners:it}),gt?rt.data=gt:(gt=he(o),gt!==null&&(rt.data=gt)))),(gt=ce?je(i,o):ke(i,o))&&(nt=oe(nt,"onBeforeInput"),0<nt.length&&(dt=new Ld("onBeforeInput","beforeinput",null,o,dt),ft.push({event:dt,listeners:nt}),dt.data=gt))}se(ft,s)})}function tf(i,s,o){return{instance:i,listener:s,currentTarget:o}}function oe(i,s){for(var o=s+"Capture",a=[];i!==null;){var c=i,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=Kb(i,o),d!=null&&a.unshift(tf(i,d,c)),d=Kb(i,s),d!=null&&a.push(tf(i,d,c))),i=i.return}return a}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,s,o,a,c){for(var d=s._reactName,_=[];o!==null&&o!==a;){var j=o,$=j.alternate,nt=j.stateNode;if($!==null&&$===a)break;j.tag===5&&nt!==null&&(j=nt,c?($=Kb(o,d),$!=null&&_.unshift(tf(o,$,j))):c||($=Kb(o,d),$!=null&&_.push(tf(o,$,j)))),o=o.return}_.length!==0&&i.push({event:s,listeners:_})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,s,o){if(s=zf(s),zf(i)!==s&&o)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,s){var o=s,a=0;do{var c=o.nextSibling;if(i.removeChild(o),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(a===0){i.removeChild(c),bd(s);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=c}while(o);bd(s)}function Lf(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var s=i[Of];if(s)return s;for(var o=i.parentNode;o;){if(s=o[uf]||o[Of]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=Mf(i);i!==null;){if(o=i[Of])return o;i=Mf(i)}return s}i=o,o=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p$2(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,s){Tf++,Sf[Tf]=i.current,i.current=s}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,s){var o=i.type.contextTypes;if(!o)return Vf;var a=i.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===s)return a.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in o)c[d]=s[d];return a&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=c),c}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E(Wf),E(H)}function ag(i,s,o){if(H.current!==Vf)throw Error(p$2(168));G(H,s),G(Wf,o)}function bg(i,s,o){var a=i.stateNode;if(s=s.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var c in a)if(!(c in s))throw Error(p$2(108,Ra(i)||"Unknown",c));return A({},o,a)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,s,o){var a=i.stateNode;if(!a)throw Error(p$2(169));o?(i=bg(i,s,Xf),a.__reactInternalMemoizedMergedChildContext=i,E(Wf),E(H),G(H,i)):E(Wf),G(Wf,o)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,s=C;try{var o=eg;for(C=1;i<o.length;i++){var a=o[i];do a=a(!0);while(a!==null)}eg=null,fg=!1}catch(c){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),c}finally{C=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,s){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=s}function ug(i,s,o){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var a=rg;i=sg;var c=32-oc(a)-1;a&=~(1<<c),o+=1;var d=32-oc(s)+c;if(30<d){var _=c-c%5;d=(a&(1<<_)-1).toString(32),a>>=_,c-=_,rg=1<<32-oc(s)+c|o<<c|a,sg=d+i}else rg=1<<d|o<<c|a,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,s){var o=Bg(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=i,s=i.deletions,s===null?(i.deletions=[o],i.flags|=16):s.push(o)}function Cg(i,s){switch(i.tag){case 5:var o=i.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,xg=i,yg=Lf(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,xg=i,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=Bg(18,null,null,0),o.stateNode=s,o.return=i,i.child=o,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var s=yg;if(s){var o=s;if(!Cg(i,s)){if(Dg(i))throw Error(p$2(418));s=Lf(o.nextSibling);var a=xg;s&&Cg(i,s)?Ag(a,o):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p$2(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Ef(i.type,i.memoizedProps)),s&&(s=yg)){if(Dg(i))throw Hg(),Error(p$2(418));for(;s;)Ag(i,s),s=Lf(s.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p$2(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"){if(s===0){yg=Lf(i.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua.ReactCurrentBatchConfig;function Lg(i,s){if(i&&i.defaultProps){s=A({},s),i=i.defaultProps;for(var o in i)s[o]===void 0&&(s[o]=i[o]);return s}return s}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(i){var s=Mg.current;E(Mg),i._currentValue=s}function Sg(i,s,o){for(;i!==null;){var a=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),i===o)break;i=i.return}}function Tg(i,s){Ng=i,Pg=Og=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(Ug=!0),i.firstContext=null)}function Vg(i){var s=i._currentValue;if(Pg!==i)if(i={context:i,memoizedValue:s,next:null},Og===null){if(Ng===null)throw Error(p$2(308));Og=i,Ng.dependencies={lanes:0,firstContext:i}}else Og=Og.next=i;return s}var Wg=null;function Xg(i){Wg===null?Wg=[i]:Wg.push(i)}function Yg(i,s,o,a){var c=s.interleaved;return c===null?(o.next=o,Xg(s)):(o.next=c.next,c.next=o),s.interleaved=o,Zg(i,a)}function Zg(i,s){i.lanes|=s;var o=i.alternate;for(o!==null&&(o.lanes|=s),o=i,i=i.return;i!==null;)i.childLanes|=s,o=i.alternate,o!==null&&(o.childLanes|=s),o=i,i=i.return;return o.tag===3?o.stateNode:null}var $g=!1;function ah(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ch(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function dh(i,s,o){var a=i.updateQueue;if(a===null)return null;if(a=a.shared,K&2){var c=a.pending;return c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s,Zg(i,o)}return c=a.interleaved,c===null?(s.next=s,Xg(a)):(s.next=c.next,c.next=s),a.interleaved=s,Zg(i,o)}function eh(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var a=s.lanes;a&=i.pendingLanes,o|=a,s.lanes=o,Cc(i,o)}}function fh(i,s){var o=i.updateQueue,a=i.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var c=null,d=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};d===null?c=d=_:d=d.next=_,o=o.next}while(o!==null);d===null?c=d=s:d=d.next=s}else c=d=s;o={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:a.shared,effects:a.effects},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}function gh(i,s,o,a){var c=i.updateQueue;$g=!1;var d=c.firstBaseUpdate,_=c.lastBaseUpdate,j=c.shared.pending;if(j!==null){c.shared.pending=null;var $=j,nt=$.next;$.next=null,_===null?d=nt:_.next=nt,_=$;var dt=i.alternate;dt!==null&&(dt=dt.updateQueue,j=dt.lastBaseUpdate,j!==_&&(j===null?dt.firstBaseUpdate=nt:j.next=nt,dt.lastBaseUpdate=$))}if(d!==null){var ft=c.baseState;_=0,dt=nt=$=null,j=d;do{var ht=j.lane,pt=j.eventTime;if((a&ht)===ht){dt!==null&&(dt=dt.next={eventTime:pt,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var ot=i,b=j;switch(ht=s,pt=o,b.tag){case 1:if(ot=b.payload,typeof ot=="function"){ft=ot.call(pt,ft,ht);break e}ft=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=b.payload,ht=typeof ot=="function"?ot.call(pt,ft,ht):ot,ht==null)break e;ft=A({},ft,ht);break e;case 2:$g=!0}}j.callback!==null&&j.lane!==0&&(i.flags|=64,ht=c.effects,ht===null?c.effects=[j]:ht.push(j))}else pt={eventTime:pt,lane:ht,tag:j.tag,payload:j.payload,callback:j.callback,next:null},dt===null?(nt=dt=pt,$=ft):dt=dt.next=pt,_|=ht;if(j=j.next,j===null){if(j=c.shared.pending,j===null)break;ht=j,j=ht.next,ht.next=null,c.lastBaseUpdate=ht,c.shared.pending=null}}while(1);if(dt===null&&($=ft),c.baseState=$,c.firstBaseUpdate=nt,c.lastBaseUpdate=dt,s=c.shared.interleaved,s!==null){c=s;do _|=c.lane,c=c.next;while(c!==s)}else d===null&&(c.shared.lanes=0);hh|=_,i.lanes=_,i.memoizedState=ft}}function ih(i,s,o){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var a=i[s],c=a.callback;if(c!==null){if(a.callback=null,a=o,typeof c!="function")throw Error(p$2(191,c));c.call(a)}}}var jh=new aa.Component().refs;function kh(i,s,o,a){s=i.memoizedState,o=o(a,s),o=o==null?s:A({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var nh={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,s,o){i=i._reactInternals;var a=L(),c=lh(i),d=ch(a,c);d.payload=s,o!=null&&(d.callback=o),s=dh(i,d,c),s!==null&&(mh(s,i,c,a),eh(s,i,c))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var a=L(),c=lh(i),d=ch(a,c);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=dh(i,d,c),s!==null&&(mh(s,i,c,a),eh(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=L(),a=lh(i),c=ch(o,a);c.tag=2,s!=null&&(c.callback=s),s=dh(i,c,a),s!==null&&(mh(s,i,a,o),eh(s,i,a))}};function oh(i,s,o,a,c,d,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(a,d,_):s.prototype&&s.prototype.isPureReactComponent?!Ie(o,a)||!Ie(c,d):!0}function ph(i,s,o){var a=!1,c=Vf,d=s.contextType;return typeof d=="object"&&d!==null?d=Vg(d):(c=Zf(s)?Xf:H.current,a=s.contextTypes,d=(a=a!=null)?Yf(i,c):Vf),s=new s(o,d),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=nh,i.stateNode=s,s._reactInternals=i,a&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=c,i.__reactInternalMemoizedMaskedChildContext=d),s}function qh(i,s,o,a){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,a),s.state!==i&&nh.enqueueReplaceState(s,s.state,null)}function rh(i,s,o,a){var c=i.stateNode;c.props=o,c.state=i.memoizedState,c.refs=jh,ah(i);var d=s.contextType;typeof d=="object"&&d!==null?c.context=Vg(d):(d=Zf(s)?Xf:H.current,c.context=Yf(i,d)),c.state=i.memoizedState,d=s.getDerivedStateFromProps,typeof d=="function"&&(kh(i,s,d,o),c.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(s=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),s!==c.state&&nh.enqueueReplaceState(c,c.state,null),gh(i,o,c,a),c.state=i.memoizedState),typeof c.componentDidMount=="function"&&(i.flags|=4194308)}function sh(i,s,o){if(i=o.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(p$2(309));var a=o.stateNode}if(!a)throw Error(p$2(147,i));var c=a,d=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===d?s.ref:(s=function(_){var j=c.refs;j===jh&&(j=c.refs={}),_===null?delete j[d]:j[d]=_},s._stringRef=d,s)}if(typeof i!="string")throw Error(p$2(284));if(!o._owner)throw Error(p$2(290,i))}return i}function th(i,s){throw i=Object.prototype.toString.call(s),Error(p$2(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function uh(i){var s=i._init;return s(i._payload)}function vh(i){function s(tt,st){if(i){var et=tt.deletions;et===null?(tt.deletions=[st],tt.flags|=16):et.push(st)}}function o(tt,st){if(!i)return null;for(;st!==null;)s(tt,st),st=st.sibling;return null}function a(tt,st){for(tt=new Map;st!==null;)st.key!==null?tt.set(st.key,st):tt.set(st.index,st),st=st.sibling;return tt}function c(tt,st){return tt=wh(tt,st),tt.index=0,tt.sibling=null,tt}function d(tt,st,et){return tt.index=et,i?(et=tt.alternate,et!==null?(et=et.index,et<st?(tt.flags|=2,st):et):(tt.flags|=2,st)):(tt.flags|=1048576,st)}function _(tt){return i&&tt.alternate===null&&(tt.flags|=2),tt}function j(tt,st,et,g){return st===null||st.tag!==6?(st=xh(et,tt.mode,g),st.return=tt,st):(st=c(st,et),st.return=tt,st)}function $(tt,st,et,g){var _e=et.type;return _e===ya?dt(tt,st,et.props.children,g,et.key):st!==null&&(st.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Ha&&uh(_e)===st.type)?(g=c(st,et.props),g.ref=sh(tt,st,et),g.return=tt,g):(g=yh(et.type,et.key,et.props,null,tt.mode,g),g.ref=sh(tt,st,et),g.return=tt,g)}function nt(tt,st,et,g){return st===null||st.tag!==4||st.stateNode.containerInfo!==et.containerInfo||st.stateNode.implementation!==et.implementation?(st=zh(et,tt.mode,g),st.return=tt,st):(st=c(st,et.children||[]),st.return=tt,st)}function dt(tt,st,et,g,_e){return st===null||st.tag!==7?(st=Ah(et,tt.mode,g,_e),st.return=tt,st):(st=c(st,et),st.return=tt,st)}function ft(tt,st,et){if(typeof st=="string"&&st!==""||typeof st=="number")return st=xh(""+st,tt.mode,et),st.return=tt,st;if(typeof st=="object"&&st!==null){switch(st.$$typeof){case va:return et=yh(st.type,st.key,st.props,null,tt.mode,et),et.ref=sh(tt,null,st),et.return=tt,et;case wa:return st=zh(st,tt.mode,et),st.return=tt,st;case Ha:var g=st._init;return ft(tt,g(st._payload),et)}if(eb(st)||Ka(st))return st=Ah(st,tt.mode,et,null),st.return=tt,st;th(tt,st)}return null}function ht(tt,st,et,g){var _e=st!==null?st.key:null;if(typeof et=="string"&&et!==""||typeof et=="number")return _e!==null?null:j(tt,st,""+et,g);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case va:return et.key===_e?$(tt,st,et,g):null;case wa:return et.key===_e?nt(tt,st,et,g):null;case Ha:return _e=et._init,ht(tt,st,_e(et._payload),g)}if(eb(et)||Ka(et))return _e!==null?null:dt(tt,st,et,g,null);th(tt,et)}return null}function pt(tt,st,et,g,_e){if(typeof g=="string"&&g!==""||typeof g=="number")return tt=tt.get(et)||null,j(st,tt,""+g,_e);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case va:return tt=tt.get(g.key===null?et:g.key)||null,$(st,tt,g,_e);case wa:return tt=tt.get(g.key===null?et:g.key)||null,nt(st,tt,g,_e);case Ha:var it=g._init;return pt(tt,st,et,it(g._payload),_e)}if(eb(g)||Ka(g))return tt=tt.get(et)||null,dt(st,tt,g,_e,null);th(st,g)}return null}function ot(tt,st,et,g){for(var _e=null,it=null,gt=st,rt=st=0,at=null;gt!==null&&rt<et.length;rt++){gt.index>rt?(at=gt,gt=null):at=gt.sibling;var ct=ht(tt,gt,et[rt],g);if(ct===null){gt===null&&(gt=at);break}i&&gt&&ct.alternate===null&&s(tt,gt),st=d(ct,st,rt),it===null?_e=ct:it.sibling=ct,it=ct,gt=at}if(rt===et.length)return o(tt,gt),I&&tg(tt,rt),_e;if(gt===null){for(;rt<et.length;rt++)gt=ft(tt,et[rt],g),gt!==null&&(st=d(gt,st,rt),it===null?_e=gt:it.sibling=gt,it=gt);return I&&tg(tt,rt),_e}for(gt=a(tt,gt);rt<et.length;rt++)at=pt(gt,tt,rt,et[rt],g),at!==null&&(i&&at.alternate!==null&&gt.delete(at.key===null?rt:at.key),st=d(at,st,rt),it===null?_e=at:it.sibling=at,it=at);return i&&gt.forEach(function(St){return s(tt,St)}),I&&tg(tt,rt),_e}function b(tt,st,et,g){var _e=Ka(et);if(typeof _e!="function")throw Error(p$2(150));if(et=_e.call(et),et==null)throw Error(p$2(151));for(var it=_e=null,gt=st,rt=st=0,at=null,ct=et.next();gt!==null&&!ct.done;rt++,ct=et.next()){gt.index>rt?(at=gt,gt=null):at=gt.sibling;var St=ht(tt,gt,ct.value,g);if(St===null){gt===null&&(gt=at);break}i&&gt&&St.alternate===null&&s(tt,gt),st=d(St,st,rt),it===null?_e=St:it.sibling=St,it=St,gt=at}if(ct.done)return o(tt,gt),I&&tg(tt,rt),_e;if(gt===null){for(;!ct.done;rt++,ct=et.next())ct=ft(tt,ct.value,g),ct!==null&&(st=d(ct,st,rt),it===null?_e=ct:it.sibling=ct,it=ct);return I&&tg(tt,rt),_e}for(gt=a(tt,gt);!ct.done;rt++,ct=et.next())ct=pt(gt,tt,rt,ct.value,g),ct!==null&&(i&&ct.alternate!==null&&gt.delete(ct.key===null?rt:ct.key),st=d(ct,st,rt),it===null?_e=ct:it.sibling=ct,it=ct);return i&&gt.forEach(function(wt){return s(tt,wt)}),I&&tg(tt,rt),_e}function lt(tt,st,et,g){if(typeof et=="object"&&et!==null&&et.type===ya&&et.key===null&&(et=et.props.children),typeof et=="object"&&et!==null){switch(et.$$typeof){case va:e:{for(var _e=et.key,it=st;it!==null;){if(it.key===_e){if(_e=et.type,_e===ya){if(it.tag===7){o(tt,it.sibling),st=c(it,et.props.children),st.return=tt,tt=st;break e}}else if(it.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Ha&&uh(_e)===it.type){o(tt,it.sibling),st=c(it,et.props),st.ref=sh(tt,it,et),st.return=tt,tt=st;break e}o(tt,it);break}else s(tt,it);it=it.sibling}et.type===ya?(st=Ah(et.props.children,tt.mode,g,et.key),st.return=tt,tt=st):(g=yh(et.type,et.key,et.props,null,tt.mode,g),g.ref=sh(tt,st,et),g.return=tt,tt=g)}return _(tt);case wa:e:{for(it=et.key;st!==null;){if(st.key===it)if(st.tag===4&&st.stateNode.containerInfo===et.containerInfo&&st.stateNode.implementation===et.implementation){o(tt,st.sibling),st=c(st,et.children||[]),st.return=tt,tt=st;break e}else{o(tt,st);break}else s(tt,st);st=st.sibling}st=zh(et,tt.mode,g),st.return=tt,tt=st}return _(tt);case Ha:return it=et._init,lt(tt,st,it(et._payload),g)}if(eb(et))return ot(tt,st,et,g);if(Ka(et))return b(tt,st,et,g);th(tt,et)}return typeof et=="string"&&et!==""||typeof et=="number"?(et=""+et,st!==null&&st.tag===6?(o(tt,st.sibling),st=c(st,et),st.return=tt,tt=st):(o(tt,st),st=xh(et,tt.mode,g),st.return=tt,tt=st),_(tt)):o(tt,st)}return lt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(i){if(i===Dh)throw Error(p$2(174));return i}function Ih(i,s){switch(G(Gh,s),G(Fh,i),G(Eh,Dh),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=lb(s,i)}E(Eh),G(Eh,s)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(i){Hh(Gh.current);var s=Hh(Eh.current),o=lb(s,i.type);s!==o&&(G(Fh,i),G(Eh,o))}function Lh(i){Fh.current===i&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Nh=[];function Oh(){for(var i=0;i<Nh.length;i++)Nh[i]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p$2(321))}function Wh(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!He(i[o],s[o]))return!1;return!0}function Xh(i,s,o,a,c,d){if(Rh=d,N=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ph.current=i===null||i.memoizedState===null?Yh:Zh,i=o(a,c),Th){d=0;do{if(Th=!1,Uh=0,25<=d)throw Error(p$2(301));d+=1,P=O=null,s.updateQueue=null,Ph.current=$h,i=o(a,c)}while(Th)}if(Ph.current=ai,s=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,s)throw Error(p$2(300));return i}function bi(){var i=Uh!==0;return Uh=0,i}function ci(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=i:P=P.next=i,P}function di(){if(O===null){var i=N.alternate;i=i!==null?i.memoizedState:null}else i=O.next;var s=P===null?N.memoizedState:P.next;if(s!==null)P=s,O=i;else{if(i===null)throw Error(p$2(310));O=i,i={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=i:P=P.next=i}return P}function ei(i,s){return typeof s=="function"?s(i):s}function fi(i){var s=di(),o=s.queue;if(o===null)throw Error(p$2(311));o.lastRenderedReducer=i;var a=O,c=a.baseQueue,d=o.pending;if(d!==null){if(c!==null){var _=c.next;c.next=d.next,d.next=_}a.baseQueue=c=d,o.pending=null}if(c!==null){d=c.next,a=a.baseState;var j=_=null,$=null,nt=d;do{var dt=nt.lane;if((Rh&dt)===dt)$!==null&&($=$.next={lane:0,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),a=nt.hasEagerState?nt.eagerState:i(a,nt.action);else{var ft={lane:dt,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null};$===null?(j=$=ft,_=a):$=$.next=ft,N.lanes|=dt,hh|=dt}nt=nt.next}while(nt!==null&&nt!==d);$===null?_=a:$.next=j,He(a,s.memoizedState)||(Ug=!0),s.memoizedState=a,s.baseState=_,s.baseQueue=$,o.lastRenderedState=a}if(i=o.interleaved,i!==null){c=i;do d=c.lane,N.lanes|=d,hh|=d,c=c.next;while(c!==i)}else c===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function gi(i){var s=di(),o=s.queue;if(o===null)throw Error(p$2(311));o.lastRenderedReducer=i;var a=o.dispatch,c=o.pending,d=s.memoizedState;if(c!==null){o.pending=null;var _=c=c.next;do d=i(d,_.action),_=_.next;while(_!==c);He(d,s.memoizedState)||(Ug=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),o.lastRenderedState=d}return[d,a]}function hi(){}function ii(i,s){var o=N,a=di(),c=s(),d=!He(a.memoizedState,c);if(d&&(a.memoizedState=c,Ug=!0),a=a.queue,ji(ki.bind(null,o,a,i),[i]),a.getSnapshot!==s||d||P!==null&&P.memoizedState.tag&1){if(o.flags|=2048,li(9,mi.bind(null,o,a,c,s),void 0,null),R===null)throw Error(p$2(349));Rh&30||ni(o,s,c)}return c}function ni(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=N.updateQueue,s===null?(s={lastEffect:null,stores:null},N.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function mi(i,s,o,a){s.value=o,s.getSnapshot=a,oi(s)&&pi(i)}function ki(i,s,o){return o(function(){oi(s)&&pi(i)})}function oi(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!He(i,o)}catch{return!0}}function pi(i){var s=Zg(i,1);s!==null&&mh(s,i,1,-1)}function qi(i){var s=ci();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:i},s.queue=i,i=i.dispatch=ri.bind(null,N,i),[s.memoizedState,i]}function li(i,s,o,a){return i={tag:i,create:s,destroy:o,deps:a,next:null},s=N.updateQueue,s===null?(s={lastEffect:null,stores:null},N.updateQueue=s,s.lastEffect=i.next=i):(o=s.lastEffect,o===null?s.lastEffect=i.next=i:(a=o.next,o.next=i,i.next=a,s.lastEffect=i)),i}function si(){return di().memoizedState}function ti(i,s,o,a){var c=ci();N.flags|=i,c.memoizedState=li(1|s,o,void 0,a===void 0?null:a)}function ui(i,s,o,a){var c=di();a=a===void 0?null:a;var d=void 0;if(O!==null){var _=O.memoizedState;if(d=_.destroy,a!==null&&Wh(a,_.deps)){c.memoizedState=li(s,o,d,a);return}}N.flags|=i,c.memoizedState=li(1|s,o,d,a)}function vi(i,s){return ti(8390656,8,i,s)}function ji(i,s){return ui(2048,8,i,s)}function wi(i,s){return ui(4,2,i,s)}function xi(i,s){return ui(4,4,i,s)}function yi(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function zi(i,s,o){return o=o!=null?o.concat([i]):null,ui(4,4,yi.bind(null,s,i),o)}function Ai(){}function Bi(i,s){var o=di();s=s===void 0?null:s;var a=o.memoizedState;return a!==null&&s!==null&&Wh(s,a[1])?a[0]:(o.memoizedState=[i,s],i)}function Ci(i,s){var o=di();s=s===void 0?null:s;var a=o.memoizedState;return a!==null&&s!==null&&Wh(s,a[1])?a[0]:(i=i(),o.memoizedState=[i,s],i)}function Di(i,s,o){return Rh&21?(He(o,s)||(o=yc(),N.lanes|=o,hh|=o,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,Ug=!0),i.memoizedState=o)}function Ei(i,s){var o=C;C=o!==0&&4>o?o:4,i(!0);var a=Qh.transition;Qh.transition={};try{i(!1),s()}finally{C=o,Qh.transition=a}}function Fi(){return di().memoizedState}function Gi(i,s,o){var a=lh(i);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},Hi(i))Ii(s,o);else if(o=Yg(i,s,o,a),o!==null){var c=L();mh(o,i,a,c),Ji(o,s,a)}}function ri(i,s,o){var a=lh(i),c={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(Hi(i))Ii(s,c);else{var d=i.alternate;if(i.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var _=s.lastRenderedState,j=d(_,o);if(c.hasEagerState=!0,c.eagerState=j,He(j,_)){var $=s.interleaved;$===null?(c.next=c,Xg(s)):(c.next=$.next,$.next=c),s.interleaved=c;return}}catch{}finally{}o=Yg(i,s,c,a),o!==null&&(c=L(),mh(o,i,a,c),Ji(o,s,a))}}function Hi(i){var s=i.alternate;return i===N||s!==null&&s===N}function Ii(i,s){Th=Sh=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function Ji(i,s,o){if(o&4194240){var a=s.lanes;a&=i.pendingLanes,o|=a,s.lanes=o,Cc(i,o)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(i,s){return ci().memoizedState=[i,s===void 0?null:s],i},useContext:Vg,useEffect:vi,useImperativeHandle:function(i,s,o){return o=o!=null?o.concat([i]):null,ti(4194308,4,yi.bind(null,s,i),o)},useLayoutEffect:function(i,s){return ti(4194308,4,i,s)},useInsertionEffect:function(i,s){return ti(4,2,i,s)},useMemo:function(i,s){var o=ci();return s=s===void 0?null:s,i=i(),o.memoizedState=[i,s],i},useReducer:function(i,s,o){var a=ci();return s=o!==void 0?o(s):s,a.memoizedState=a.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},a.queue=i,i=i.dispatch=Gi.bind(null,N,i),[a.memoizedState,i]},useRef:function(i){var s=ci();return i={current:i},s.memoizedState=i},useState:qi,useDebugValue:Ai,useDeferredValue:function(i){return ci().memoizedState=i},useTransition:function(){var i=qi(!1),s=i[0];return i=Ei.bind(null,i[1]),ci().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,o){var a=N,c=ci();if(I){if(o===void 0)throw Error(p$2(407));o=o()}else{if(o=s(),R===null)throw Error(p$2(349));Rh&30||ni(a,s,o)}c.memoizedState=o;var d={value:o,getSnapshot:s};return c.queue=d,vi(ki.bind(null,a,d,i),[i]),a.flags|=2048,li(9,mi.bind(null,a,d,o,s),void 0,null),o},useId:function(){var i=ci(),s=R.identifierPrefix;if(I){var o=sg,a=rg;o=(a&~(1<<32-oc(a)-1)).toString(32)+o,s=":"+s+"R"+o,o=Uh++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=Vh++,s=":"+s+"r"+o.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(i){var s=di();return Di(s,O.memoizedState,i)},useTransition:function(){var i=fi(ei)[0],s=di().memoizedState;return[i,s]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(i){var s=di();return O===null?s.memoizedState=i:Di(s,O.memoizedState,i)},useTransition:function(){var i=gi(ei)[0],s=di().memoizedState;return[i,s]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(i,s){try{var o="",a=s;do o+=Pa(a),a=a.return;while(a);var c=o}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:i,source:s,stack:c,digest:null}}function Li(i,s,o){return{value:i,source:null,stack:o??null,digest:s??null}}function Mi(i,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(i,s,o){o=ch(-1,o),o.tag=3,o.payload={element:null};var a=s.value;return o.callback=function(){Pi||(Pi=!0,Qi=a),Mi(i,s)},o}function Ri(i,s,o){o=ch(-1,o),o.tag=3;var a=i.type.getDerivedStateFromError;if(typeof a=="function"){var c=s.value;o.payload=function(){return a(c)},o.callback=function(){Mi(i,s)}}var d=i.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(o.callback=function(){Mi(i,s),typeof a!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})}),o}function Ti(i,s,o){var a=i.pingCache;if(a===null){a=i.pingCache=new Ni;var c=new Set;a.set(s,c)}else c=a.get(s),c===void 0&&(c=new Set,a.set(s,c));c.has(o)||(c.add(o),i=Ui.bind(null,i,s,o),s.then(i,i))}function Vi(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Wi(i,s,o,a,c){return i.mode&1?(i.flags|=65536,i.lanes=c,i):(i===s?i.flags|=65536:(i.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=ch(-1,1),s.tag=2,dh(o,s,1))),o.lanes|=1),i)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(i,s,o,a){s.child=i===null?Ch(s,null,o,a):Bh(s,i.child,o,a)}function Zi(i,s,o,a,c){o=o.render;var d=s.ref;return Tg(s,c),a=Xh(i,s,o,a,d,c),o=bi(),i!==null&&!Ug?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~c,$i(i,s,c)):(I&&o&&vg(s),s.flags|=1,Yi(i,s,a,c),s.child)}function aj(i,s,o,a,c){if(i===null){var d=o.type;return typeof d=="function"&&!bj(d)&&d.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=d,cj(i,s,d,a,c)):(i=yh(o.type,null,a,s,s.mode,c),i.ref=s.ref,i.return=s,s.child=i)}if(d=i.child,!(i.lanes&c)){var _=d.memoizedProps;if(o=o.compare,o=o!==null?o:Ie,o(_,a)&&i.ref===s.ref)return $i(i,s,c)}return s.flags|=1,i=wh(d,a),i.ref=s.ref,i.return=s,s.child=i}function cj(i,s,o,a,c){if(i!==null){var d=i.memoizedProps;if(Ie(d,a)&&i.ref===s.ref)if(Ug=!1,s.pendingProps=a=d,(i.lanes&c)!==0)i.flags&131072&&(Ug=!0);else return s.lanes=i.lanes,$i(i,s,c)}return dj(i,s,o,a,c)}function ej(i,s,o){var a=s.pendingProps,c=a.children,d=i!==null?i.memoizedState:null;if(a.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=o;else{if(!(o&1073741824))return i=d!==null?d.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,G(fj,gj),gj|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:o,G(fj,gj),gj|=a}else d!==null?(a=d.baseLanes|o,s.memoizedState=null):a=o,G(fj,gj),gj|=a;return Yi(i,s,c,o),s.child}function hj(i,s){var o=s.ref;(i===null&&o!==null||i!==null&&i.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function dj(i,s,o,a,c){var d=Zf(o)?Xf:H.current;return d=Yf(s,d),Tg(s,c),o=Xh(i,s,o,a,d,c),a=bi(),i!==null&&!Ug?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~c,$i(i,s,c)):(I&&a&&vg(s),s.flags|=1,Yi(i,s,o,c),s.child)}function ij(i,s,o,a,c){if(Zf(o)){var d=!0;cg(s)}else d=!1;if(Tg(s,c),s.stateNode===null)jj(i,s),ph(s,o,a),rh(s,o,a,c),a=!0;else if(i===null){var _=s.stateNode,j=s.memoizedProps;_.props=j;var $=_.context,nt=o.contextType;typeof nt=="object"&&nt!==null?nt=Vg(nt):(nt=Zf(o)?Xf:H.current,nt=Yf(s,nt));var dt=o.getDerivedStateFromProps,ft=typeof dt=="function"||typeof _.getSnapshotBeforeUpdate=="function";ft||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(j!==a||$!==nt)&&qh(s,_,a,nt),$g=!1;var ht=s.memoizedState;_.state=ht,gh(s,a,_,c),$=s.memoizedState,j!==a||ht!==$||Wf.current||$g?(typeof dt=="function"&&(kh(s,o,dt,a),$=s.memoizedState),(j=$g||oh(s,o,j,a,ht,$,nt))?(ft||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=$),_.props=a,_.state=$,_.context=nt,a=j):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{_=s.stateNode,bh(i,s),j=s.memoizedProps,nt=s.type===s.elementType?j:Lg(s.type,j),_.props=nt,ft=s.pendingProps,ht=_.context,$=o.contextType,typeof $=="object"&&$!==null?$=Vg($):($=Zf(o)?Xf:H.current,$=Yf(s,$));var pt=o.getDerivedStateFromProps;(dt=typeof pt=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(j!==ft||ht!==$)&&qh(s,_,a,$),$g=!1,ht=s.memoizedState,_.state=ht,gh(s,a,_,c);var ot=s.memoizedState;j!==ft||ht!==ot||Wf.current||$g?(typeof pt=="function"&&(kh(s,o,pt,a),ot=s.memoizedState),(nt=$g||oh(s,o,nt,a,ht,ot,$)||!1)?(dt||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(a,ot,$),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(a,ot,$)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||j===i.memoizedProps&&ht===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||j===i.memoizedProps&&ht===i.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=ot),_.props=a,_.state=ot,_.context=$,a=nt):(typeof _.componentDidUpdate!="function"||j===i.memoizedProps&&ht===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||j===i.memoizedProps&&ht===i.memoizedState||(s.flags|=1024),a=!1)}return kj(i,s,o,a,d,c)}function kj(i,s,o,a,c,d){hj(i,s);var _=(s.flags&128)!==0;if(!a&&!_)return c&&dg(s,o,!1),$i(i,s,d);a=s.stateNode,Xi.current=s;var j=_&&typeof o.getDerivedStateFromError!="function"?null:a.render();return s.flags|=1,i!==null&&_?(s.child=Bh(s,i.child,null,d),s.child=Bh(s,null,j,d)):Yi(i,s,j,d),s.memoizedState=a.state,c&&dg(s,o,!0),s.child}function lj(i){var s=i.stateNode;s.pendingContext?ag(i,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(i,s.context,!1),Ih(i,s.containerInfo)}function mj(i,s,o,a,c){return Ig(),Jg(c),s.flags|=256,Yi(i,s,o,a),s.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(i){return{baseLanes:i,cachePool:null,transitions:null}}function pj(i,s,o){var a=s.pendingProps,c=M.current,d=!1,_=(s.flags&128)!==0,j;if((j=_)||(j=i!==null&&i.memoizedState===null?!1:(c&2)!==0),j?(d=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(c|=1),G(M,c&1),i===null)return Eg(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(_=a.children,i=a.fallback,d?(a=s.mode,d=s.child,_={mode:"hidden",children:_},!(a&1)&&d!==null?(d.childLanes=0,d.pendingProps=_):d=qj(_,a,0,null),i=Ah(i,a,o,null),d.return=s,i.return=s,d.sibling=i,s.child=d,s.child.memoizedState=oj(o),s.memoizedState=nj,i):rj(s,_));if(c=i.memoizedState,c!==null&&(j=c.dehydrated,j!==null))return sj(i,s,_,a,j,c,o);if(d){d=a.fallback,_=s.mode,c=i.child,j=c.sibling;var $={mode:"hidden",children:a.children};return!(_&1)&&s.child!==c?(a=s.child,a.childLanes=0,a.pendingProps=$,s.deletions=null):(a=wh(c,$),a.subtreeFlags=c.subtreeFlags&14680064),j!==null?d=wh(j,d):(d=Ah(d,_,o,null),d.flags|=2),d.return=s,a.return=s,a.sibling=d,s.child=a,a=d,d=s.child,_=i.child.memoizedState,_=_===null?oj(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},d.memoizedState=_,d.childLanes=i.childLanes&~o,s.memoizedState=nj,a}return d=i.child,i=d.sibling,a=wh(d,{mode:"visible",children:a.children}),!(s.mode&1)&&(a.lanes=o),a.return=s,a.sibling=null,i!==null&&(o=s.deletions,o===null?(s.deletions=[i],s.flags|=16):o.push(i)),s.child=a,s.memoizedState=null,a}function rj(i,s){return s=qj({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function tj(i,s,o,a){return a!==null&&Jg(a),Bh(s,i.child,null,o),i=rj(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function sj(i,s,o,a,c,d,_){if(o)return s.flags&256?(s.flags&=-257,a=Li(Error(p$2(422))),tj(i,s,_,a)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(d=a.fallback,c=s.mode,a=qj({mode:"visible",children:a.children},c,0,null),d=Ah(d,c,_,null),d.flags|=2,a.return=s,d.return=s,a.sibling=d,s.child=a,s.mode&1&&Bh(s,i.child,null,_),s.child.memoizedState=oj(_),s.memoizedState=nj,d);if(!(s.mode&1))return tj(i,s,_,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var j=a.dgst;return a=j,d=Error(p$2(419)),a=Li(d,a,void 0),tj(i,s,_,a)}if(j=(_&i.childLanes)!==0,Ug||j){if(a=R,a!==null){switch(_&-_){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|_)?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,Zg(i,c),mh(a,i,c,-1))}return uj(),a=Li(Error(p$2(421))),tj(i,s,_,a)}return c.data==="$?"?(s.flags|=128,s.child=i.child,s=vj.bind(null,i),c._reactRetry=s,null):(i=d.treeContext,yg=Lf(c.nextSibling),xg=s,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=s),s=rj(s,a.children),s.flags|=4096,s)}function wj(i,s,o){i.lanes|=s;var a=i.alternate;a!==null&&(a.lanes|=s),Sg(i.return,s,o)}function xj(i,s,o,a,c){var d=i.memoizedState;d===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:c}:(d.isBackwards=s,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=o,d.tailMode=c)}function yj(i,s,o){var a=s.pendingProps,c=a.revealOrder,d=a.tail;if(Yi(i,s,a.children,o),a=M.current,a&2)a=a&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&wj(i,o,s);else if(i.tag===19)wj(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}a&=1}if(G(M,a),!(s.mode&1))s.memoizedState=null;else switch(c){case"forwards":for(o=s.child,c=null;o!==null;)i=o.alternate,i!==null&&Mh(i)===null&&(c=o),o=o.sibling;o=c,o===null?(c=s.child,s.child=null):(c=o.sibling,o.sibling=null),xj(s,!1,c,o,d);break;case"backwards":for(o=null,c=s.child,s.child=null;c!==null;){if(i=c.alternate,i!==null&&Mh(i)===null){s.child=c;break}i=c.sibling,c.sibling=o,o=c,c=i}xj(s,!0,o,null,d);break;case"together":xj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function jj(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function $i(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),hh|=s.lanes,!(o&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(p$2(153));if(s.child!==null){for(i=s.child,o=wh(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=wh(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function zj(i,s,o){switch(s.tag){case 3:lj(s),Ig();break;case 5:Kh(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:Ih(s,s.stateNode.containerInfo);break;case 10:var a=s.type._context,c=s.memoizedProps.value;G(Mg,a._currentValue),a._currentValue=c;break;case 13:if(a=s.memoizedState,a!==null)return a.dehydrated!==null?(G(M,M.current&1),s.flags|=128,null):o&s.child.childLanes?pj(i,s,o):(G(M,M.current&1),i=$i(i,s,o),i!==null?i.sibling:null);G(M,M.current&1);break;case 19:if(a=(o&s.childLanes)!==0,i.flags&128){if(a)return yj(i,s,o);s.flags|=128}if(c=s.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),G(M,M.current),a)break;return null;case 22:case 23:return s.lanes=0,ej(i,s,o)}return $i(i,s,o)}var Aj,Bj,Cj,Dj;Aj=function(i,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Bj=function(){};Cj=function(i,s,o,a){var c=i.memoizedProps;if(c!==a){i=s.stateNode,Hh(Eh.current);var d=null;switch(o){case"input":c=Ya(i,c),a=Ya(i,a),d=[];break;case"select":c=A({},c,{value:void 0}),a=A({},a,{value:void 0}),d=[];break;case"textarea":c=gb(i,c),a=gb(i,a),d=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(i.onclick=Bf)}ub(o,a);var _;o=null;for(nt in c)if(!a.hasOwnProperty(nt)&&c.hasOwnProperty(nt)&&c[nt]!=null)if(nt==="style"){var j=c[nt];for(_ in j)j.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else nt!=="dangerouslySetInnerHTML"&&nt!=="children"&&nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&nt!=="autoFocus"&&(ea.hasOwnProperty(nt)?d||(d=[]):(d=d||[]).push(nt,null));for(nt in a){var $=a[nt];if(j=c!=null?c[nt]:void 0,a.hasOwnProperty(nt)&&$!==j&&($!=null||j!=null))if(nt==="style")if(j){for(_ in j)!j.hasOwnProperty(_)||$&&$.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in $)$.hasOwnProperty(_)&&j[_]!==$[_]&&(o||(o={}),o[_]=$[_])}else o||(d||(d=[]),d.push(nt,o)),o=$;else nt==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,j=j?j.__html:void 0,$!=null&&j!==$&&(d=d||[]).push(nt,$)):nt==="children"?typeof $!="string"&&typeof $!="number"||(d=d||[]).push(nt,""+$):nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(nt)?($!=null&&nt==="onScroll"&&D("scroll",i),d||j===$||(d=[])):(d=d||[]).push(nt,$))}o&&(d=d||[]).push("style",o);var nt=d;(s.updateQueue=nt)&&(s.flags|=4)}};Dj=function(i,s,o,a){o!==a&&(s.flags|=4)};function Ej(i,s){if(!I)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:a.sibling=null}}function S(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,a=0;if(s)for(var c=i.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=i,c=c.sibling;else for(c=i.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=i,c=c.sibling;return i.subtreeFlags|=a,i.childLanes=o,s}function Fj(i,s,o){var a=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(s),null;case 1:return Zf(s.type)&&$f(),S(s),null;case 3:return a=s.stateNode,Jh(),E(Wf),E(H),Oh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Gg(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(i,s),S(s),null;case 5:Lh(s);var c=Hh(Gh.current);if(o=s.type,i!==null&&s.stateNode!=null)Cj(i,s,o,a,c),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!a){if(s.stateNode===null)throw Error(p$2(166));return S(s),null}if(i=Hh(Eh.current),Gg(s)){a=s.stateNode,o=s.type;var d=s.memoizedProps;switch(a[Of]=s,a[Pf]=d,i=(s.mode&1)!==0,o){case"dialog":D("cancel",a),D("close",a);break;case"iframe":case"object":case"embed":D("load",a);break;case"video":case"audio":for(c=0;c<lf.length;c++)D(lf[c],a);break;case"source":D("error",a);break;case"img":case"image":case"link":D("error",a),D("load",a);break;case"details":D("toggle",a);break;case"input":Za(a,d),D("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},D("invalid",a);break;case"textarea":hb(a,d),D("invalid",a)}ub(o,d),c=null;for(var _ in d)if(d.hasOwnProperty(_)){var j=d[_];_==="children"?typeof j=="string"?a.textContent!==j&&(d.suppressHydrationWarning!==!0&&Af(a.textContent,j,i),c=["children",j]):typeof j=="number"&&a.textContent!==""+j&&(d.suppressHydrationWarning!==!0&&Af(a.textContent,j,i),c=["children",""+j]):ea.hasOwnProperty(_)&&j!=null&&_==="onScroll"&&D("scroll",a)}switch(o){case"input":Va(a),db(a,d,!0);break;case"textarea":Va(a),jb(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=Bf)}a=c,s.updateQueue=a,a!==null&&(s.flags|=4)}else{_=c.nodeType===9?c:c.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb(o)),i==="http://www.w3.org/1999/xhtml"?o==="script"?(i=_.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof a.is=="string"?i=_.createElement(o,{is:a.is}):(i=_.createElement(o),o==="select"&&(_=i,a.multiple?_.multiple=!0:a.size&&(_.size=a.size))):i=_.createElementNS(i,o),i[Of]=s,i[Pf]=a,Aj(i,s,!1,!1),s.stateNode=i;e:{switch(_=vb(o,a),o){case"dialog":D("cancel",i),D("close",i),c=a;break;case"iframe":case"object":case"embed":D("load",i),c=a;break;case"video":case"audio":for(c=0;c<lf.length;c++)D(lf[c],i);c=a;break;case"source":D("error",i),c=a;break;case"img":case"image":case"link":D("error",i),D("load",i),c=a;break;case"details":D("toggle",i),c=a;break;case"input":Za(i,a),c=Ya(i,a),D("invalid",i);break;case"option":c=a;break;case"select":i._wrapperState={wasMultiple:!!a.multiple},c=A({},a,{value:void 0}),D("invalid",i);break;case"textarea":hb(i,a),c=gb(i,a),D("invalid",i);break;default:c=a}ub(o,c),j=c;for(d in j)if(j.hasOwnProperty(d)){var $=j[d];d==="style"?sb(i,$):d==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&nb(i,$)):d==="children"?typeof $=="string"?(o!=="textarea"||$!=="")&&ob(i,$):typeof $=="number"&&ob(i,""+$):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ea.hasOwnProperty(d)?$!=null&&d==="onScroll"&&D("scroll",i):$!=null&&ta(i,d,$,_))}switch(o){case"input":Va(i),db(i,a,!1);break;case"textarea":Va(i),jb(i);break;case"option":a.value!=null&&i.setAttribute("value",""+Sa(a.value));break;case"select":i.multiple=!!a.multiple,d=a.value,d!=null?fb(i,!!a.multiple,d,!1):a.defaultValue!=null&&fb(i,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(i.onclick=Bf)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S(s),null;case 6:if(i&&s.stateNode!=null)Dj(i,s,i.memoizedProps,a);else{if(typeof a!="string"&&s.stateNode===null)throw Error(p$2(166));if(o=Hh(Gh.current),Hh(Eh.current),Gg(s)){if(a=s.stateNode,o=s.memoizedProps,a[Of]=s,(d=a.nodeValue!==o)&&(i=xg,i!==null))switch(i.tag){case 3:Af(a.nodeValue,o,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(a.nodeValue,o,(i.mode&1)!==0)}d&&(s.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[Of]=s,s.stateNode=a}return S(s),null;case 13:if(E(M),a=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,d=!1;else if(d=Gg(s),a!==null&&a.dehydrated!==null){if(i===null){if(!d)throw Error(p$2(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(p$2(317));d[Of]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S(s),d=!1}else zg!==null&&(Gj(zg),zg=null),d=!0;if(!d)return s.flags&65536?s:null}return s.flags&128?(s.lanes=o,s):(a=a!==null,a!==(i!==null&&i.memoizedState!==null)&&a&&(s.child.flags|=8192,s.mode&1&&(i===null||M.current&1?T===0&&(T=3):uj())),s.updateQueue!==null&&(s.flags|=4),S(s),null);case 4:return Jh(),Bj(i,s),i===null&&sf(s.stateNode.containerInfo),S(s),null;case 10:return Rg(s.type._context),S(s),null;case 17:return Zf(s.type)&&$f(),S(s),null;case 19:if(E(M),d=s.memoizedState,d===null)return S(s),null;if(a=(s.flags&128)!==0,_=d.rendering,_===null)if(a)Ej(d,!1);else{if(T!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(_=Mh(i),_!==null){for(s.flags|=128,Ej(d,!1),a=_.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),s.subtreeFlags=0,a=o,o=s.child;o!==null;)d=o,i=a,d.flags&=14680066,_=d.alternate,_===null?(d.childLanes=0,d.lanes=i,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=_.childLanes,d.lanes=_.lanes,d.child=_.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=_.memoizedProps,d.memoizedState=_.memoizedState,d.updateQueue=_.updateQueue,d.type=_.type,i=_.dependencies,d.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),o=o.sibling;return G(M,M.current&1|2),s.child}i=i.sibling}d.tail!==null&&B()>Hj&&(s.flags|=128,a=!0,Ej(d,!1),s.lanes=4194304)}else{if(!a)if(i=Mh(_),i!==null){if(s.flags|=128,a=!0,o=i.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),Ej(d,!0),d.tail===null&&d.tailMode==="hidden"&&!_.alternate&&!I)return S(s),null}else 2*B()-d.renderingStartTime>Hj&&o!==1073741824&&(s.flags|=128,a=!0,Ej(d,!1),s.lanes=4194304);d.isBackwards?(_.sibling=s.child,s.child=_):(o=d.last,o!==null?o.sibling=_:s.child=_,d.last=_)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=B(),s.sibling=null,o=M.current,G(M,a?o&1|2:o&1),s):(S(s),null);case 22:case 23:return Ij(),a=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==a&&(s.flags|=8192),a&&s.mode&1?gj&1073741824&&(S(s),s.subtreeFlags&6&&(s.flags|=8192)):S(s),null;case 24:return null;case 25:return null}throw Error(p$2(156,s.tag))}function Jj(i,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Jh(),E(Wf),E(H),Oh(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return Lh(s),null;case 13:if(E(M),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(p$2(340));Ig()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(s.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(i,s){var o=i.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){W(i,s,a)}else o.current=null}function Nj(i,s,o){try{o()}catch(a){W(i,s,a)}}var Oj=!1;function Pj(i,s){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var c=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{o.nodeType,d.nodeType}catch{o=null;break e}var _=0,j=-1,$=-1,nt=0,dt=0,ft=i,ht=null;t:for(;;){for(var pt;ft!==o||c!==0&&ft.nodeType!==3||(j=_+c),ft!==d||a!==0&&ft.nodeType!==3||($=_+a),ft.nodeType===3&&(_+=ft.nodeValue.length),(pt=ft.firstChild)!==null;)ht=ft,ft=pt;for(;;){if(ft===i)break t;if(ht===o&&++nt===c&&(j=_),ht===d&&++dt===a&&($=_),(pt=ft.nextSibling)!==null)break;ft=ht,ht=ft.parentNode}ft=pt}o=j===-1||$===-1?null:{start:j,end:$}}else o=null}o=o||{start:0,end:0}}else o=null;for(Df={focusedElem:i,selectionRange:o},dd=!1,V=s;V!==null;)if(s=V,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,V=i;else for(;V!==null;){s=V;try{var ot=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ot!==null){var b=ot.memoizedProps,lt=ot.memoizedState,tt=s.stateNode,st=tt.getSnapshotBeforeUpdate(s.elementType===s.type?b:Lg(s.type,b),lt);tt.__reactInternalSnapshotBeforeUpdate=st}break;case 3:var et=s.stateNode.containerInfo;et.nodeType===1?et.textContent="":et.nodeType===9&&et.documentElement&&et.removeChild(et.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(g){W(s,s.return,g)}if(i=s.sibling,i!==null){i.return=s.return,V=i;break}V=s.return}return ot=Oj,Oj=!1,ot}function Qj(i,s,o){var a=s.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&i)===i){var d=c.destroy;c.destroy=void 0,d!==void 0&&Nj(s,o,d)}c=c.next}while(c!==a)}}function Rj(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&i)===i){var a=o.create;o.destroy=a()}o=o.next}while(o!==s)}}function Sj(i){var s=i.ref;if(s!==null){var o=i.stateNode;switch(i.tag){case 5:i=o;break;default:i=o}typeof s=="function"?s(i):s.current=i}}function Tj(i){var s=i.alternate;s!==null&&(i.alternate=null,Tj(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Uj(i){return i.tag===5||i.tag===3||i.tag===4}function Vj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Uj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wj(i,s,o){var a=i.tag;if(a===5||a===6)i=i.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(i,s):o.insertBefore(i,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(i,o)):(s=o,s.appendChild(i)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Bf));else if(a!==4&&(i=i.child,i!==null))for(Wj(i,s,o),i=i.sibling;i!==null;)Wj(i,s,o),i=i.sibling}function Xj(i,s,o){var a=i.tag;if(a===5||a===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(a!==4&&(i=i.child,i!==null))for(Xj(i,s,o),i=i.sibling;i!==null;)Xj(i,s,o),i=i.sibling}var X=null,Yj=!1;function Zj(i,s,o){for(o=o.child;o!==null;)ak(i,s,o),o=o.sibling}function ak(i,s,o){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,o)}catch{}switch(o.tag){case 5:U||Mj(o,s);case 6:var a=X,c=Yj;X=null,Zj(i,s,o),X=a,Yj=c,X!==null&&(Yj?(i=X,o=o.stateNode,i.nodeType===8?i.parentNode.removeChild(o):i.removeChild(o)):X.removeChild(o.stateNode));break;case 18:X!==null&&(Yj?(i=X,o=o.stateNode,i.nodeType===8?Kf(i.parentNode,o):i.nodeType===1&&Kf(i,o),bd(i)):Kf(X,o.stateNode));break;case 4:a=X,c=Yj,X=o.stateNode.containerInfo,Yj=!0,Zj(i,s,o),X=a,Yj=c;break;case 0:case 11:case 14:case 15:if(!U&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var d=c,_=d.destroy;d=d.tag,_!==void 0&&(d&2||d&4)&&Nj(o,s,_),c=c.next}while(c!==a)}Zj(i,s,o);break;case 1:if(!U&&(Mj(o,s),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(j){W(o,s,j)}Zj(i,s,o);break;case 21:Zj(i,s,o);break;case 22:o.mode&1?(U=(a=U)||o.memoizedState!==null,Zj(i,s,o),U=a):Zj(i,s,o);break;default:Zj(i,s,o)}}function bk(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var o=i.stateNode;o===null&&(o=i.stateNode=new Lj),s.forEach(function(a){var c=ck.bind(null,i,a);o.has(a)||(o.add(a),a.then(c,c))})}}function dk(i,s){var o=s.deletions;if(o!==null)for(var a=0;a<o.length;a++){var c=o[a];try{var d=i,_=s,j=_;e:for(;j!==null;){switch(j.tag){case 5:X=j.stateNode,Yj=!1;break e;case 3:X=j.stateNode.containerInfo,Yj=!0;break e;case 4:X=j.stateNode.containerInfo,Yj=!0;break e}j=j.return}if(X===null)throw Error(p$2(160));ak(d,_,c),X=null,Yj=!1;var $=c.alternate;$!==null&&($.return=null),c.return=null}catch(nt){W(c,s,nt)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ek(s,i),s=s.sibling}function ek(i,s){var o=i.alternate,a=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(dk(s,i),fk(i),a&4){try{Qj(3,i,i.return),Rj(3,i)}catch(b){W(i,i.return,b)}try{Qj(5,i,i.return)}catch(b){W(i,i.return,b)}}break;case 1:dk(s,i),fk(i),a&512&&o!==null&&Mj(o,o.return);break;case 5:if(dk(s,i),fk(i),a&512&&o!==null&&Mj(o,o.return),i.flags&32){var c=i.stateNode;try{ob(c,"")}catch(b){W(i,i.return,b)}}if(a&4&&(c=i.stateNode,c!=null)){var d=i.memoizedProps,_=o!==null?o.memoizedProps:d,j=i.type,$=i.updateQueue;if(i.updateQueue=null,$!==null)try{j==="input"&&d.type==="radio"&&d.name!=null&&ab(c,d),vb(j,_);var nt=vb(j,d);for(_=0;_<$.length;_+=2){var dt=$[_],ft=$[_+1];dt==="style"?sb(c,ft):dt==="dangerouslySetInnerHTML"?nb(c,ft):dt==="children"?ob(c,ft):ta(c,dt,ft,nt)}switch(j){case"input":bb(c,d);break;case"textarea":ib(c,d);break;case"select":var ht=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var pt=d.value;pt!=null?fb(c,!!d.multiple,pt,!1):ht!==!!d.multiple&&(d.defaultValue!=null?fb(c,!!d.multiple,d.defaultValue,!0):fb(c,!!d.multiple,d.multiple?[]:"",!1))}c[Pf]=d}catch(b){W(i,i.return,b)}}break;case 6:if(dk(s,i),fk(i),a&4){if(i.stateNode===null)throw Error(p$2(162));c=i.stateNode,d=i.memoizedProps;try{c.nodeValue=d}catch(b){W(i,i.return,b)}}break;case 3:if(dk(s,i),fk(i),a&4&&o!==null&&o.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(b){W(i,i.return,b)}break;case 4:dk(s,i),fk(i);break;case 13:dk(s,i),fk(i),c=i.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(gk=B())),a&4&&bk(i);break;case 22:if(dt=o!==null&&o.memoizedState!==null,i.mode&1?(U=(nt=U)||dt,dk(s,i),U=nt):dk(s,i),fk(i),a&8192){if(nt=i.memoizedState!==null,(i.stateNode.isHidden=nt)&&!dt&&i.mode&1)for(V=i,dt=i.child;dt!==null;){for(ft=V=dt;V!==null;){switch(ht=V,pt=ht.child,ht.tag){case 0:case 11:case 14:case 15:Qj(4,ht,ht.return);break;case 1:Mj(ht,ht.return);var ot=ht.stateNode;if(typeof ot.componentWillUnmount=="function"){a=ht,o=ht.return;try{s=a,ot.props=s.memoizedProps,ot.state=s.memoizedState,ot.componentWillUnmount()}catch(b){W(a,o,b)}}break;case 5:Mj(ht,ht.return);break;case 22:if(ht.memoizedState!==null){hk(ft);continue}}pt!==null?(pt.return=ht,V=pt):hk(ft)}dt=dt.sibling}e:for(dt=null,ft=i;;){if(ft.tag===5){if(dt===null){dt=ft;try{c=ft.stateNode,nt?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(j=ft.stateNode,$=ft.memoizedProps.style,_=$!=null&&$.hasOwnProperty("display")?$.display:null,j.style.display=rb("display",_))}catch(b){W(i,i.return,b)}}}else if(ft.tag===6){if(dt===null)try{ft.stateNode.nodeValue=nt?"":ft.memoizedProps}catch(b){W(i,i.return,b)}}else if((ft.tag!==22&&ft.tag!==23||ft.memoizedState===null||ft===i)&&ft.child!==null){ft.child.return=ft,ft=ft.child;continue}if(ft===i)break e;for(;ft.sibling===null;){if(ft.return===null||ft.return===i)break e;dt===ft&&(dt=null),ft=ft.return}dt===ft&&(dt=null),ft.sibling.return=ft.return,ft=ft.sibling}}break;case 19:dk(s,i),fk(i),a&4&&bk(i);break;case 21:break;default:dk(s,i),fk(i)}}function fk(i){var s=i.flags;if(s&2){try{e:{for(var o=i.return;o!==null;){if(Uj(o)){var a=o;break e}o=o.return}throw Error(p$2(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(ob(c,""),a.flags&=-33);var d=Vj(i);Xj(i,d,c);break;case 3:case 4:var _=a.stateNode.containerInfo,j=Vj(i);Wj(i,j,_);break;default:throw Error(p$2(161))}}catch($){W(i,i.return,$)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function ik(i,s,o){V=i,jk(i)}function jk(i,s,o){for(var a=(i.mode&1)!==0;V!==null;){var c=V,d=c.child;if(c.tag===22&&a){var _=c.memoizedState!==null||Kj;if(!_){var j=c.alternate,$=j!==null&&j.memoizedState!==null||U;j=Kj;var nt=U;if(Kj=_,(U=$)&&!nt)for(V=c;V!==null;)_=V,$=_.child,_.tag===22&&_.memoizedState!==null?kk(c):$!==null?($.return=_,V=$):kk(c);for(;d!==null;)V=d,jk(d),d=d.sibling;V=c,Kj=j,U=nt}lk(i)}else c.subtreeFlags&8772&&d!==null?(d.return=c,V=d):lk(i)}}function lk(i){for(;V!==null;){var s=V;if(s.flags&8772){var o=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U||Rj(5,s);break;case 1:var a=s.stateNode;if(s.flags&4&&!U)if(o===null)a.componentDidMount();else{var c=s.elementType===s.type?o.memoizedProps:Lg(s.type,o.memoizedProps);a.componentDidUpdate(c,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=s.updateQueue;d!==null&&ih(s,d,a);break;case 3:var _=s.updateQueue;if(_!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}ih(s,_,o)}break;case 5:var j=s.stateNode;if(o===null&&s.flags&4){o=j;var $=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&o.focus();break;case"img":$.src&&(o.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var nt=s.alternate;if(nt!==null){var dt=nt.memoizedState;if(dt!==null){var ft=dt.dehydrated;ft!==null&&bd(ft)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U||s.flags&512&&Sj(s)}catch(ht){W(s,s.return,ht)}}if(s===i){V=null;break}if(o=s.sibling,o!==null){o.return=s.return,V=o;break}V=s.return}}function hk(i){for(;V!==null;){var s=V;if(s===i){V=null;break}var o=s.sibling;if(o!==null){o.return=s.return,V=o;break}V=s.return}}function kk(i){for(;V!==null;){var s=V;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{Rj(4,s)}catch($){W(s,o,$)}break;case 1:var a=s.stateNode;if(typeof a.componentDidMount=="function"){var c=s.return;try{a.componentDidMount()}catch($){W(s,c,$)}}var d=s.return;try{Sj(s)}catch($){W(s,d,$)}break;case 5:var _=s.return;try{Sj(s)}catch($){W(s,_,$)}}}catch($){W(s,s.return,$)}if(s===i){V=null;break}var j=s.sibling;if(j!==null){j.return=s.return,V=j;break}V=s.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(i){return i.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(i=C,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i):1}function mh(i,s,o,a){if(50<zk)throw zk=0,Ak=null,Error(p$2(185));Ac(i,o,a),(!(K&2)||i!==R)&&(i===R&&(!(K&2)&&(rk|=o),T===4&&Dk(i,Z)),Ek(i,a),o===1&&K===0&&!(s.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(i,s){var o=i.callbackNode;wc(i,s);var a=uc(i,i===R?Z:0);if(a===0)o!==null&&bc(o),i.callbackNode=null,i.callbackPriority=0;else if(s=a&-a,i.callbackPriority!==s){if(o!=null&&bc(o),s===1)i.tag===0?ig(Fk.bind(null,i)):hg(Fk.bind(null,i)),Jf(function(){!(K&6)&&jg()}),o=null;else{switch(Dc(a)){case 1:o=fc;break;case 4:o=gc;break;case 16:o=hc;break;case 536870912:o=jc;break;default:o=hc}o=Gk(o,Hk.bind(null,i))}i.callbackPriority=s,i.callbackNode=o}}function Hk(i,s){if(Bk=-1,Ck=0,K&6)throw Error(p$2(327));var o=i.callbackNode;if(Ik()&&i.callbackNode!==o)return null;var a=uc(i,i===R?Z:0);if(a===0)return null;if(a&30||a&i.expiredLanes||s)s=Jk(i,a);else{s=a;var c=K;K|=2;var d=Kk();(R!==i||Z!==s)&&(vk=null,Hj=B()+500,Lk(i,s));do try{Mk();break}catch(j){Nk(i,j)}while(1);Qg(),nk.current=d,K=c,Y!==null?s=0:(R=null,Z=0,s=T)}if(s!==0){if(s===2&&(c=xc(i),c!==0&&(a=c,s=Ok(i,c))),s===1)throw o=qk,Lk(i,0),Dk(i,a),Ek(i,B()),o;if(s===6)Dk(i,a);else{if(c=i.current.alternate,!(a&30)&&!Pk(c)&&(s=Jk(i,a),s===2&&(d=xc(i),d!==0&&(a=d,s=Ok(i,d))),s===1))throw o=qk,Lk(i,0),Dk(i,a),Ek(i,B()),o;switch(i.finishedWork=c,i.finishedLanes=a,s){case 0:case 1:throw Error(p$2(345));case 2:Qk(i,uk,vk);break;case 3:if(Dk(i,a),(a&130023424)===a&&(s=gk+500-B(),10<s)){if(uc(i,0)!==0)break;if(c=i.suspendedLanes,(c&a)!==a){L(),i.pingedLanes|=i.suspendedLanes&c;break}i.timeoutHandle=Ff(Qk.bind(null,i,uk,vk),s);break}Qk(i,uk,vk);break;case 4:if(Dk(i,a),(a&4194240)===a)break;for(s=i.eventTimes,c=-1;0<a;){var _=31-oc(a);d=1<<_,_=s[_],_>c&&(c=_),a&=~d}if(a=c,a=B()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*mk(a/1960))-a,10<a){i.timeoutHandle=Ff(Qk.bind(null,i,uk,vk),a);break}Qk(i,uk,vk);break;case 5:Qk(i,uk,vk);break;default:throw Error(p$2(329))}}}return Ek(i,B()),i.callbackNode===o?Hk.bind(null,i):null}function Ok(i,s){var o=tk;return i.current.memoizedState.isDehydrated&&(Lk(i,s).flags|=256),i=Jk(i,s),i!==2&&(s=uk,uk=o,s!==null&&Gj(s)),i}function Gj(i){uk===null?uk=i:uk.push.apply(uk,i)}function Pk(i){for(var s=i;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var c=o[a],d=c.getSnapshot;c=c.value;try{if(!He(d(),c))return!1}catch{return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Dk(i,s){for(s&=~sk,s&=~rk,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var o=31-oc(s),a=1<<o;i[o]=-1,s&=~a}}function Fk(i){if(K&6)throw Error(p$2(327));Ik();var s=uc(i,0);if(!(s&1))return Ek(i,B()),null;var o=Jk(i,s);if(i.tag!==0&&o===2){var a=xc(i);a!==0&&(s=a,o=Ok(i,a))}if(o===1)throw o=qk,Lk(i,0),Dk(i,s),Ek(i,B()),o;if(o===6)throw Error(p$2(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Qk(i,uk,vk),Ek(i,B()),null}function Rk(i,s){var o=K;K|=1;try{return i(s)}finally{K=o,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(i){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var s=K;K|=1;var o=pk.transition,a=C;try{if(pk.transition=null,C=1,i)return i()}finally{C=a,pk.transition=o,K=s,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(i,s){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;if(o!==-1&&(i.timeoutHandle=-1,Gf(o)),Y!==null)for(o=Y.return;o!==null;){var a=o;switch(wg(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(a);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(a.type._context);break;case 22:case 23:Ij()}o=o.return}if(R=i,Y=i=wh(i.current,null),Z=gj=s,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(s=0;s<Wg.length;s++)if(o=Wg[s],a=o.interleaved,a!==null){o.interleaved=null;var c=a.next,d=o.pending;if(d!==null){var _=d.next;d.next=c,a.next=_}o.pending=a}Wg=null}return i}function Nk(i,s){do{var o=Y;try{if(Qg(),Ph.current=ai,Sh){for(var a=N.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,o===null||o.return===null){T=1,qk=s,Y=null;break}e:{var d=i,_=o.return,j=o,$=s;if(s=Z,j.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var nt=$,dt=j,ft=dt.tag;if(!(dt.mode&1)&&(ft===0||ft===11||ft===15)){var ht=dt.alternate;ht?(dt.updateQueue=ht.updateQueue,dt.memoizedState=ht.memoizedState,dt.lanes=ht.lanes):(dt.updateQueue=null,dt.memoizedState=null)}var pt=Vi(_);if(pt!==null){pt.flags&=-257,Wi(pt,_,j,d,s),pt.mode&1&&Ti(d,nt,s),s=pt,$=nt;var ot=s.updateQueue;if(ot===null){var b=new Set;b.add($),s.updateQueue=b}else ot.add($);break e}else{if(!(s&1)){Ti(d,nt,s),uj();break e}$=Error(p$2(426))}}else if(I&&j.mode&1){var lt=Vi(_);if(lt!==null){!(lt.flags&65536)&&(lt.flags|=256),Wi(lt,_,j,d,s),Jg(Ki($,j));break e}}d=$=Ki($,j),T!==4&&(T=2),tk===null?tk=[d]:tk.push(d),d=_;do{switch(d.tag){case 3:d.flags|=65536,s&=-s,d.lanes|=s;var tt=Oi(d,$,s);fh(d,tt);break e;case 1:j=$;var st=d.type,et=d.stateNode;if(!(d.flags&128)&&(typeof st.getDerivedStateFromError=="function"||et!==null&&typeof et.componentDidCatch=="function"&&(Si===null||!Si.has(et)))){d.flags|=65536,s&=-s,d.lanes|=s;var g=Ri(d,j,s);fh(d,g);break e}}d=d.return}while(d!==null)}Tk(o)}catch(_e){s=_e,Y===o&&o!==null&&(Y=o=o.return);continue}break}while(1)}function Kk(){var i=nk.current;return nk.current=ai,i===null?ai:i}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z)}function Jk(i,s){var o=K;K|=2;var a=Kk();(R!==i||Z!==s)&&(vk=null,Lk(i,s));do try{Uk();break}catch(c){Nk(i,c)}while(1);if(Qg(),K=o,nk.current=a,Y!==null)throw Error(p$2(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(i){var s=Wk(i.alternate,i,gj);i.memoizedProps=i.pendingProps,s===null?Tk(i):Y=s,ok.current=null}function Tk(i){var s=i;do{var o=s.alternate;if(i=s.return,s.flags&32768){if(o=Jj(o,s),o!==null){o.flags&=32767,Y=o;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y=null;return}}else if(o=Fj(o,s,gj),o!==null){Y=o;return}if(s=s.sibling,s!==null){Y=s;return}Y=s=i}while(s!==null);T===0&&(T=5)}function Qk(i,s,o){var a=C,c=pk.transition;try{pk.transition=null,C=1,Xk(i,s,o,a)}finally{pk.transition=c,C=a}return null}function Xk(i,s,o,a){do Ik();while(xk!==null);if(K&6)throw Error(p$2(327));o=i.finishedWork;var c=i.finishedLanes;if(o===null)return null;if(i.finishedWork=null,i.finishedLanes=0,o===i.current)throw Error(p$2(177));i.callbackNode=null,i.callbackPriority=0;var d=o.lanes|o.childLanes;if(Bc(i,d),i===R&&(Y=R=null,Z=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),d=(o.flags&15990)!==0,o.subtreeFlags&15990||d){d=pk.transition,pk.transition=null;var _=C;C=1;var j=K;K|=4,ok.current=null,Pj(i,o),ek(o,i),Oe(Df),dd=!!Cf,Df=Cf=null,i.current=o,ik(o),dc(),K=j,C=_,pk.transition=d}else i.current=o;if(wk&&(wk=!1,xk=i,yk=c),d=i.pendingLanes,d===0&&(Si=null),mc(o.stateNode),Ek(i,B()),s!==null)for(a=i.onRecoverableError,o=0;o<s.length;o++)c=s[o],a(c.value,{componentStack:c.stack,digest:c.digest});if(Pi)throw Pi=!1,i=Qi,Qi=null,i;return yk&1&&i.tag!==0&&Ik(),d=i.pendingLanes,d&1?i===Ak?zk++:(zk=0,Ak=i):zk=0,jg(),null}function Ik(){if(xk!==null){var i=Dc(yk),s=pk.transition,o=C;try{if(pk.transition=null,C=16>i?16:i,xk===null)var a=!1;else{if(i=xk,xk=null,yk=0,K&6)throw Error(p$2(331));var c=K;for(K|=4,V=i.current;V!==null;){var d=V,_=d.child;if(V.flags&16){var j=d.deletions;if(j!==null){for(var $=0;$<j.length;$++){var nt=j[$];for(V=nt;V!==null;){var dt=V;switch(dt.tag){case 0:case 11:case 15:Qj(8,dt,d)}var ft=dt.child;if(ft!==null)ft.return=dt,V=ft;else for(;V!==null;){dt=V;var ht=dt.sibling,pt=dt.return;if(Tj(dt),dt===nt){V=null;break}if(ht!==null){ht.return=pt,V=ht;break}V=pt}}}var ot=d.alternate;if(ot!==null){var b=ot.child;if(b!==null){ot.child=null;do{var lt=b.sibling;b.sibling=null,b=lt}while(b!==null)}}V=d}}if(d.subtreeFlags&2064&&_!==null)_.return=d,V=_;else e:for(;V!==null;){if(d=V,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Qj(9,d,d.return)}var tt=d.sibling;if(tt!==null){tt.return=d.return,V=tt;break e}V=d.return}}var st=i.current;for(V=st;V!==null;){_=V;var et=_.child;if(_.subtreeFlags&2064&&et!==null)et.return=_,V=et;else e:for(_=st;V!==null;){if(j=V,j.flags&2048)try{switch(j.tag){case 0:case 11:case 15:Rj(9,j)}}catch(_e){W(j,j.return,_e)}if(j===_){V=null;break e}var g=j.sibling;if(g!==null){g.return=j.return,V=g;break e}V=j.return}}if(K=c,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}a=!0}return a}finally{C=o,pk.transition=s}}return!1}function Yk(i,s,o){s=Ki(o,s),s=Oi(i,s,1),i=dh(i,s,1),s=L(),i!==null&&(Ac(i,1,s),Ek(i,s))}function W(i,s,o){if(i.tag===3)Yk(i,i,o);else for(;s!==null;){if(s.tag===3){Yk(s,i,o);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Si===null||!Si.has(a))){i=Ki(o,i),i=Ri(s,i,1),s=dh(s,i,1),i=L(),s!==null&&(Ac(s,1,i),Ek(s,i));break}}s=s.return}}function Ui(i,s,o){var a=i.pingCache;a!==null&&a.delete(s),s=L(),i.pingedLanes|=i.suspendedLanes&o,R===i&&(Z&o)===o&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(i,0):sk|=o),Ek(i,s)}function Zk(i,s){s===0&&(i.mode&1?(s=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):s=1);var o=L();i=Zg(i,s),i!==null&&(Ac(i,s,o),Ek(i,o))}function vj(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),Zk(i,o)}function ck(i,s){var o=0;switch(i.tag){case 13:var a=i.stateNode,c=i.memoizedState;c!==null&&(o=c.retryLane);break;case 19:a=i.stateNode;break;default:throw Error(p$2(314))}a!==null&&a.delete(s),Zk(i,o)}var Wk;Wk=function(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps||Wf.current)Ug=!0;else{if(!(i.lanes&o)&&!(s.flags&128))return Ug=!1,zj(i,s,o);Ug=!!(i.flags&131072)}else Ug=!1,I&&s.flags&1048576&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var a=s.type;jj(i,s),i=s.pendingProps;var c=Yf(s,H.current);Tg(s,o),c=Xh(null,s,a,i,c,o);var d=bi();return s.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(a)?(d=!0,cg(s)):d=!1,s.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,ah(s),c.updater=nh,s.stateNode=c,c._reactInternals=s,rh(s,a,i,o),s=kj(null,s,a,!0,d,o)):(s.tag=0,I&&d&&vg(s),Yi(null,s,c,o),s=s.child),s;case 16:a=s.elementType;e:{switch(jj(i,s),i=s.pendingProps,c=a._init,a=c(a._payload),s.type=a,c=s.tag=$k(a),i=Lg(a,i),c){case 0:s=dj(null,s,a,i,o);break e;case 1:s=ij(null,s,a,i,o);break e;case 11:s=Zi(null,s,a,i,o);break e;case 14:s=aj(null,s,a,Lg(a.type,i),o);break e}throw Error(p$2(306,a,""))}return s;case 0:return a=s.type,c=s.pendingProps,c=s.elementType===a?c:Lg(a,c),dj(i,s,a,c,o);case 1:return a=s.type,c=s.pendingProps,c=s.elementType===a?c:Lg(a,c),ij(i,s,a,c,o);case 3:e:{if(lj(s),i===null)throw Error(p$2(387));a=s.pendingProps,d=s.memoizedState,c=d.element,bh(i,s),gh(s,a,null,o);var _=s.memoizedState;if(a=_.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){c=Ki(Error(p$2(423)),s),s=mj(i,s,a,o,c);break e}else if(a!==c){c=Ki(Error(p$2(424)),s),s=mj(i,s,a,o,c);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I=!0,zg=null,o=Ch(s,null,a,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ig(),a===c){s=$i(i,s,o);break e}Yi(i,s,a,o)}s=s.child}return s;case 5:return Kh(s),i===null&&Eg(s),a=s.type,c=s.pendingProps,d=i!==null?i.memoizedProps:null,_=c.children,Ef(a,c)?_=null:d!==null&&Ef(a,d)&&(s.flags|=32),hj(i,s),Yi(i,s,_,o),s.child;case 6:return i===null&&Eg(s),null;case 13:return pj(i,s,o);case 4:return Ih(s,s.stateNode.containerInfo),a=s.pendingProps,i===null?s.child=Bh(s,null,a,o):Yi(i,s,a,o),s.child;case 11:return a=s.type,c=s.pendingProps,c=s.elementType===a?c:Lg(a,c),Zi(i,s,a,c,o);case 7:return Yi(i,s,s.pendingProps,o),s.child;case 8:return Yi(i,s,s.pendingProps.children,o),s.child;case 12:return Yi(i,s,s.pendingProps.children,o),s.child;case 10:e:{if(a=s.type._context,c=s.pendingProps,d=s.memoizedProps,_=c.value,G(Mg,a._currentValue),a._currentValue=_,d!==null)if(He(d.value,_)){if(d.children===c.children&&!Wf.current){s=$i(i,s,o);break e}}else for(d=s.child,d!==null&&(d.return=s);d!==null;){var j=d.dependencies;if(j!==null){_=d.child;for(var $=j.firstContext;$!==null;){if($.context===a){if(d.tag===1){$=ch(-1,o&-o),$.tag=2;var nt=d.updateQueue;if(nt!==null){nt=nt.shared;var dt=nt.pending;dt===null?$.next=$:($.next=dt.next,dt.next=$),nt.pending=$}}d.lanes|=o,$=d.alternate,$!==null&&($.lanes|=o),Sg(d.return,o,s),j.lanes|=o;break}$=$.next}}else if(d.tag===10)_=d.type===s.type?null:d.child;else if(d.tag===18){if(_=d.return,_===null)throw Error(p$2(341));_.lanes|=o,j=_.alternate,j!==null&&(j.lanes|=o),Sg(_,o,s),_=d.sibling}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===s){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}Yi(i,s,c.children,o),s=s.child}return s;case 9:return c=s.type,a=s.pendingProps.children,Tg(s,o),c=Vg(c),a=a(c),s.flags|=1,Yi(i,s,a,o),s.child;case 14:return a=s.type,c=Lg(a,s.pendingProps),c=Lg(a.type,c),aj(i,s,a,c,o);case 15:return cj(i,s,s.type,s.pendingProps,o);case 17:return a=s.type,c=s.pendingProps,c=s.elementType===a?c:Lg(a,c),jj(i,s),s.tag=1,Zf(a)?(i=!0,cg(s)):i=!1,Tg(s,o),ph(s,a,c),rh(s,a,c,o),kj(null,s,a,!0,i,o);case 19:return yj(i,s,o);case 22:return ej(i,s,o)}throw Error(p$2(156,s.tag))};function Gk(i,s){return ac(i,s)}function al(i,s,o,a){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,s,o,a){return new al(i,s,o,a)}function bj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function $k(i){if(typeof i=="function")return bj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function wh(i,s){var o=i.alternate;return o===null?(o=Bg(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&14680064,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o}function yh(i,s,o,a,c,d){var _=2;if(a=i,typeof i=="function")bj(i)&&(_=1);else if(typeof i=="string")_=5;else e:switch(i){case ya:return Ah(o.children,c,d,s);case za:_=8,c|=8;break;case Aa:return i=Bg(12,o,s,c|2),i.elementType=Aa,i.lanes=d,i;case Ea:return i=Bg(13,o,s,c),i.elementType=Ea,i.lanes=d,i;case Fa:return i=Bg(19,o,s,c),i.elementType=Fa,i.lanes=d,i;case Ia:return qj(o,c,d,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:_=10;break e;case Ca:_=9;break e;case Da:_=11;break e;case Ga:_=14;break e;case Ha:_=16,a=null;break e}throw Error(p$2(130,i==null?i:typeof i,""))}return s=Bg(_,o,s,c),s.elementType=i,s.type=a,s.lanes=d,s}function Ah(i,s,o,a){return i=Bg(7,i,a,s),i.lanes=o,i}function qj(i,s,o,a){return i=Bg(22,i,a,s),i.elementType=Ia,i.lanes=o,i.stateNode={isHidden:!1},i}function xh(i,s,o){return i=Bg(6,i,null,s),i.lanes=o,i}function zh(i,s,o){return s=Bg(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function bl(i,s,o,a,c){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function cl(i,s,o,a,c,d,_,j,$){return i=new bl(i,s,o,j,$),s===1?(s=1,d===!0&&(s|=8)):s=0,d=Bg(3,null,null,s),i.current=d,d.stateNode=i,d.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(d),i}function dl(i,s,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:a==null?null:""+a,children:i,containerInfo:s,implementation:o}}function el(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb(i)!==i||i.tag!==1)throw Error(p$2(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p$2(171))}if(i.tag===1){var o=i.type;if(Zf(o))return bg(i,o,s)}return s}function fl(i,s,o,a,c,d,_,j,$){return i=cl(o,a,!0,i,c,d,_,j,$),i.context=el(null),o=i.current,a=L(),c=lh(o),d=ch(a,c),d.callback=s??null,dh(o,d,c),i.current.lanes=c,Ac(i,c,a),Ek(i,a),i}function gl(i,s,o,a){var c=s.current,d=L(),_=lh(c);return o=el(o),s.context===null?s.context=o:s.pendingContext=o,s=ch(d,_),s.payload={element:i},a=a===void 0?null:a,a!==null&&(s.callback=a),i=dh(c,s,_),i!==null&&(mh(i,c,_,d),eh(i,c,_)),_}function hl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function il(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function jl(i,s){il(i,s),(i=i.alternate)&&il(i,s)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(i){console.error(i)};function ml(i){this._internalRoot=i}nl.prototype.render=ml.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(p$2(409));gl(i,s,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Sk(function(){gl(null,i,null,null)}),s[uf]=null}};function nl(i){this._internalRoot=i}nl.prototype.unstable_scheduleHydration=function(i){if(i){var s=Hc();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Qc.length&&s!==0&&s<Qc[o].priority;o++);Qc.splice(o,0,i),o===0&&Vc(i)}};function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function pl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(i,s,o,a,c){if(c){if(typeof a=="function"){var d=a;a=function(){var nt=hl(_);d.call(nt)}}var _=fl(s,a,i,0,null,!1,!1,"",ql);return i._reactRootContainer=_,i[uf]=_.current,sf(i.nodeType===8?i.parentNode:i),Sk(),_}for(;c=i.lastChild;)i.removeChild(c);if(typeof a=="function"){var j=a;a=function(){var nt=hl($);j.call(nt)}}var $=cl(i,0,!1,null,null,!1,!1,"",ql);return i._reactRootContainer=$,i[uf]=$.current,sf(i.nodeType===8?i.parentNode:i),Sk(function(){gl(s,$,o,a)}),$}function sl(i,s,o,a,c){var d=o._reactRootContainer;if(d){var _=d;if(typeof c=="function"){var j=c;c=function(){var $=hl(_);j.call($)}}gl(s,_,i,c)}else _=rl(o,s,i,c,a);return hl(_)}Ec=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var o=tc(s.pendingLanes);o!==0&&(Cc(s,o|1),Ek(s,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var a=Zg(i,1);if(a!==null){var c=L();mh(a,i,1,c)}}),jl(i,1)}};Fc=function(i){if(i.tag===13){var s=Zg(i,134217728);if(s!==null){var o=L();mh(s,i,134217728,o)}jl(i,134217728)}};Gc=function(i){if(i.tag===13){var s=lh(i),o=Zg(i,s);if(o!==null){var a=L();mh(o,i,s,a)}jl(i,s)}};Hc=function(){return C};Ic=function(i,s){var o=C;try{return C=i,s()}finally{C=o}};yb=function(i,s,o){switch(s){case"input":if(bb(i,o),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var a=o[s];if(a!==i&&a.form===i.form){var c=Db(a);if(!c)throw Error(p$2(90));Wa(a),bb(a,c)}}}break;case"textarea":ib(i,o);break;case"select":s=o.value,s!=null&&fb(i,!!o.multiple,s,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(i,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(s))throw Error(p$2(200));return dl(i,s,null,o)};reactDom_production_min.createRoot=function(i,s){if(!ol(i))throw Error(p$2(299));var o=!1,a="",c=ll;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(c=s.onRecoverableError)),s=cl(i,1,!1,null,null,o,!1,a,c),i[uf]=s.current,sf(i.nodeType===8?i.parentNode:i),new ml(s)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(p$2(188)):(i=Object.keys(i).join(","),Error(p$2(268,i)));return i=Zb(s),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Sk(i)};reactDom_production_min.hydrate=function(i,s,o){if(!pl(s))throw Error(p$2(200));return sl(null,i,s,!0,o)};reactDom_production_min.hydrateRoot=function(i,s,o){if(!ol(i))throw Error(p$2(405));var a=o!=null&&o.hydratedSources||null,c=!1,d="",_=ll;if(o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),s=fl(s,null,i,1,o??null,c,!1,d,_),i[uf]=s.current,sf(i),a)for(i=0;i<a.length;i++)o=a[i],c=o._getVersion,c=c(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,c]:s.mutableSourceEagerHydrationData.push(o,c);return new nl(s)};reactDom_production_min.render=function(i,s,o){if(!pl(s))throw Error(p$2(200));return sl(null,i,s,!1,o)};reactDom_production_min.unmountComponentAtNode=function(i){if(!pl(i))throw Error(p$2(40));return i._reactRootContainer?(Sk(function(){sl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,s,o,a){if(!pl(o))throw Error(p$2(200));if(i==null||i._reactInternals===void 0)throw Error(p$2(38));return sl(i,s,o,!1,a)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(i){function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(o){console.error(o)}}s(),i.exports=reactDom_production_min})(reactDom);const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m$1=reactDomExports;client.createRoot=m$1.createRoot,client.hydrateRoot=m$1.hydrateRoot;var classnamesExports={},classnames={get exports(){return classnamesExports},set exports(i){classnamesExports=i}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(i){(function(){var s={}.hasOwnProperty;function o(){for(var a=[],c=0;c<arguments.length;c++){var d=arguments[c];if(d){var _=typeof d;if(_==="string"||_==="number")a.push(d);else if(Array.isArray(d)){if(d.length){var j=o.apply(null,d);j&&a.push(j)}}else if(_==="object"){if(d.toString!==Object.prototype.toString&&!d.toString.toString().includes("[native code]")){a.push(d.toString());continue}for(var $ in d)s.call(d,$)&&d[$]&&a.push($)}}}return a.join(" ")}i.exports?(o.default=o,i.exports=o):window.classNames=o})()})(classnames);const classNames=classnamesExports;function _extends(){return _extends=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])}return i},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(i,s){if(i==null)return{};var o={},a=Object.keys(i),c,d;for(d=0;d<a.length;d++)c=a[d],!(s.indexOf(c)>=0)&&(o[c]=i[c]);return o}function defaultKey(i){return"default"+i.charAt(0).toUpperCase()+i.substr(1)}function _toPropertyKey$1(i){var s=_toPrimitive$1(i,"string");return typeof s=="symbol"?s:String(s)}function _toPrimitive$1(i,s){if(typeof i!="object"||i===null)return i;var o=i[Symbol.toPrimitive];if(o!==void 0){var a=o.call(i,s||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(i)}function useUncontrolledProp(i,s,o){var a=reactExports.useRef(i!==void 0),c=reactExports.useState(s),d=c[0],_=c[1],j=i!==void 0,$=a.current;return a.current=j,!j&&$&&d!==s&&_(s),[j?i:d,reactExports.useCallback(function(nt){for(var dt=arguments.length,ft=new Array(dt>1?dt-1:0),ht=1;ht<dt;ht++)ft[ht-1]=arguments[ht];o&&o.apply(void 0,[nt].concat(ft)),_(nt)},[o])]}function useUncontrolled(i,s){return Object.keys(s).reduce(function(o,a){var c,d=o,_=d[defaultKey(a)],j=d[a],$=_objectWithoutPropertiesLoose$1(d,[defaultKey(a),a].map(_toPropertyKey$1)),nt=s[a],dt=useUncontrolledProp(j,_,i[nt]),ft=dt[0],ht=dt[1];return _extends({},$,(c={},c[a]=ft,c[nt]=ht,c))},i)}function _setPrototypeOf(i,s){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,c){return a.__proto__=c,a},_setPrototypeOf(i,s)}function _inheritsLoose(i,s){i.prototype=Object.create(s.prototype),i.prototype.constructor=i,_setPrototypeOf(i,s)}const DEFAULT_BREAKPOINTS=["xxl","xl","lg","md","sm","xs"],DEFAULT_MIN_BREAKPOINT="xs",ThemeContext=reactExports.createContext({prefixes:{},breakpoints:DEFAULT_BREAKPOINTS,minBreakpoint:DEFAULT_MIN_BREAKPOINT});function useBootstrapPrefix(i,s){const{prefixes:o}=reactExports.useContext(ThemeContext);return i||o[s]||s}function useBootstrapBreakpoints(){const{breakpoints:i}=reactExports.useContext(ThemeContext);return i}function useBootstrapMinBreakpoint(){const{minBreakpoint:i}=reactExports.useContext(ThemeContext);return i}function ownerDocument(i){return i&&i.ownerDocument||document}function ownerWindow(i){var s=ownerDocument(i);return s&&s.defaultView||window}function getComputedStyle$1(i,s){return ownerWindow(i).getComputedStyle(i,s)}var rUpper=/([A-Z])/g;function hyphenate(i){return i.replace(rUpper,"-$1").toLowerCase()}var msPattern=/^ms-/;function hyphenateStyleName(i){return hyphenate(i).replace(msPattern,"-ms-")}var supportedTransforms=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function isTransform(i){return!!(i&&supportedTransforms.test(i))}function style(i,s){var o="",a="";if(typeof s=="string")return i.style.getPropertyValue(hyphenateStyleName(s))||getComputedStyle$1(i).getPropertyValue(hyphenateStyleName(s));Object.keys(s).forEach(function(c){var d=s[c];!d&&d!==0?i.style.removeProperty(hyphenateStyleName(c)):isTransform(c)?a+=c+"("+d+") ":o+=hyphenateStyleName(c)+": "+d+";"}),a&&(o+="transform: "+a+";"),i.style.cssText+=";"+o}var propTypesExports={},propTypes$3={get exports(){return propTypesExports},set exports(i){propTypesExports=i}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function i(a,c,d,_,j,$){if($!==ReactPropTypesSecret){var nt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw nt.name="Invariant Violation",nt}}i.isRequired=i;function s(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return o.PropTypes=o,o};propTypes$3.exports=factoryWithThrowingShims();const config={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function(s){return s.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(i){_inheritsLoose(s,i);function s(a,c){var d;d=i.call(this,a,c)||this;var _=c,j=_&&!_.isMounting?a.enter:a.appear,$;return d.appearStatus=null,a.in?j?($=EXITED,d.appearStatus=ENTERING):$=ENTERED:a.unmountOnExit||a.mountOnEnter?$=UNMOUNTED:$=EXITED,d.state={status:$},d.nextCallback=null,d}s.getDerivedStateFromProps=function(c,d){var _=c.in;return _&&d.status===UNMOUNTED?{status:EXITED}:null};var o=s.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(c){var d=null;if(c!==this.props){var _=this.state.status;this.props.in?_!==ENTERING&&_!==ENTERED&&(d=ENTERING):(_===ENTERING||_===ENTERED)&&(d=EXITING)}this.updateStatus(!1,d)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var c=this.props.timeout,d,_,j;return d=_=j=c,c!=null&&typeof c!="number"&&(d=c.exit,_=c.enter,j=c.appear!==void 0?c.appear:_),{exit:d,enter:_,appear:j}},o.updateStatus=function(c,d){if(c===void 0&&(c=!1),d!==null)if(this.cancelNextCallback(),d===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var _=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);_&&forceReflow(_)}this.performEnter(c)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},o.performEnter=function(c){var d=this,_=this.props.enter,j=this.context?this.context.isMounting:c,$=this.props.nodeRef?[j]:[ReactDOM.findDOMNode(this),j],nt=$[0],dt=$[1],ft=this.getTimeouts(),ht=j?ft.appear:ft.enter;if(!c&&!_||config.disabled){this.safeSetState({status:ENTERED},function(){d.props.onEntered(nt)});return}this.props.onEnter(nt,dt),this.safeSetState({status:ENTERING},function(){d.props.onEntering(nt,dt),d.onTransitionEnd(ht,function(){d.safeSetState({status:ENTERED},function(){d.props.onEntered(nt,dt)})})})},o.performExit=function(){var c=this,d=this.props.exit,_=this.getTimeouts(),j=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!d||config.disabled){this.safeSetState({status:EXITED},function(){c.props.onExited(j)});return}this.props.onExit(j),this.safeSetState({status:EXITING},function(){c.props.onExiting(j),c.onTransitionEnd(_.exit,function(){c.safeSetState({status:EXITED},function(){c.props.onExited(j)})})})},o.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(c,d){d=this.setNextCallback(d),this.setState(c,d)},o.setNextCallback=function(c){var d=this,_=!0;return this.nextCallback=function(j){_&&(_=!1,d.nextCallback=null,c(j))},this.nextCallback.cancel=function(){_=!1},this.nextCallback},o.onTransitionEnd=function(c,d){this.setNextCallback(d);var _=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),j=c==null&&!this.props.addEndListener;if(!_||j){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var $=this.props.nodeRef?[this.nextCallback]:[_,this.nextCallback],nt=$[0],dt=$[1];this.props.addEndListener(nt,dt)}c!=null&&setTimeout(this.nextCallback,c)},o.render=function(){var c=this.state.status;if(c===UNMOUNTED)return null;var d=this.props,_=d.children;d.in,d.mountOnEnter,d.unmountOnExit,d.appear,d.enter,d.exit,d.timeout,d.addEndListener,d.onEnter,d.onEntering,d.onEntered,d.onExit,d.onExiting,d.onExited,d.nodeRef;var j=_objectWithoutPropertiesLoose$1(d,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof _=="function"?_(c,j):React.cloneElement(React.Children.only(_),j))},s}(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop,onEntering:noop,onEntered:noop,onExit:noop,onExiting:noop,onExited:noop};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;const canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement);var optionsSupported=!1,onceSupported=!1;try{var options={get passive(){return optionsSupported=!0},get once(){return onceSupported=optionsSupported=!0}};canUseDOM&&(window.addEventListener("test",options,options),window.removeEventListener("test",options,!0))}catch{}function addEventListener(i,s,o,a){if(a&&typeof a!="boolean"&&!onceSupported){var c=a.once,d=a.capture,_=o;!onceSupported&&c&&(_=o.__once||function j($){this.removeEventListener(s,j,d),o.call(this,$)},o.__once=_),i.addEventListener(s,_,optionsSupported?a:d)}i.addEventListener(s,o,a)}function removeEventListener(i,s,o,a){var c=a&&typeof a!="boolean"?a.capture:a;i.removeEventListener(s,o,c),o.__once&&i.removeEventListener(s,o.__once,c)}function listen(i,s,o,a){return addEventListener(i,s,o,a),function(){removeEventListener(i,s,o,a)}}function triggerEvent(i,s,o,a){if(o===void 0&&(o=!1),a===void 0&&(a=!0),i){var c=document.createEvent("HTMLEvents");c.initEvent(s,o,a),i.dispatchEvent(c)}}function parseDuration$1(i){var s=style(i,"transitionDuration")||"",o=s.indexOf("ms")===-1?1e3:1;return parseFloat(s)*o}function emulateTransitionEnd(i,s,o){o===void 0&&(o=5);var a=!1,c=setTimeout(function(){a||triggerEvent(i,"transitionend",!0)},s+o),d=listen(i,"transitionend",function(){a=!0},{once:!0});return function(){clearTimeout(c),d()}}function transitionEnd(i,s,o,a){o==null&&(o=parseDuration$1(i)||0);var c=emulateTransitionEnd(i,o,a),d=listen(i,"transitionend",s);return function(){c(),d()}}function parseDuration(i,s){const o=style(i,s)||"",a=o.indexOf("ms")===-1?1e3:1;return parseFloat(o)*a}function transitionEndListener(i,s){const o=parseDuration(i,"transitionDuration"),a=parseDuration(i,"transitionDelay"),c=transitionEnd(i,d=>{d.target===i&&(c(),s(d))},o+a)}function createChainedFunction(...i){return i.filter(s=>s!=null).reduce((s,o)=>{if(typeof o!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return s===null?o:function(...c){s.apply(this,c),o.apply(this,c)}},null)}function triggerBrowserReflow(i){i.offsetHeight}var toFnRef=function(s){return!s||typeof s=="function"?s:function(o){s.current=o}};function mergeRefs$1(i,s){var o=toFnRef(i),a=toFnRef(s);return function(c){o&&o(c),a&&a(c)}}function useMergedRefs(i,s){return reactExports.useMemo(function(){return mergeRefs$1(i,s)},[i,s])}function safeFindDOMNode(i){return i&&"setState"in i?ReactDOM.findDOMNode(i):i??null}const TransitionWrapper=React.forwardRef(({onEnter:i,onEntering:s,onEntered:o,onExit:a,onExiting:c,onExited:d,addEndListener:_,children:j,childRef:$,...nt},dt)=>{const ft=reactExports.useRef(null),ht=useMergedRefs(ft,$),pt=it=>{ht(safeFindDOMNode(it))},ot=it=>gt=>{it&&ft.current&&it(ft.current,gt)},b=reactExports.useCallback(ot(i),[i]),lt=reactExports.useCallback(ot(s),[s]),tt=reactExports.useCallback(ot(o),[o]),st=reactExports.useCallback(ot(a),[a]),et=reactExports.useCallback(ot(c),[c]),g=reactExports.useCallback(ot(d),[d]),_e=reactExports.useCallback(ot(_),[_]);return jsx(Transition,{ref:dt,...nt,onEnter:b,onEntered:tt,onEntering:lt,onExit:st,onExited:g,onExiting:et,addEndListener:_e,nodeRef:ft,children:typeof j=="function"?(it,gt)=>j(it,{...gt,ref:pt}):React.cloneElement(j,{ref:pt})})}),TransitionWrapper$1=TransitionWrapper,MARGINS={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function getDefaultDimensionValue(i,s){const o=`offset${i[0].toUpperCase()}${i.slice(1)}`,a=s[o],c=MARGINS[i];return a+parseInt(style(s,c[0]),10)+parseInt(style(s,c[1]),10)}const collapseStyles={[EXITED]:"collapse",[EXITING]:"collapsing",[ENTERING]:"collapsing",[ENTERED]:"collapse show"},defaultProps$a={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:getDefaultDimensionValue},Collapse=React.forwardRef(({onEnter:i,onEntering:s,onEntered:o,onExit:a,onExiting:c,className:d,children:_,dimension:j="height",getDimensionValue:$=getDefaultDimensionValue,...nt},dt)=>{const ft=typeof j=="function"?j():j,ht=reactExports.useMemo(()=>createChainedFunction(tt=>{tt.style[ft]="0"},i),[ft,i]),pt=reactExports.useMemo(()=>createChainedFunction(tt=>{const st=`scroll${ft[0].toUpperCase()}${ft.slice(1)}`;tt.style[ft]=`${tt[st]}px`},s),[ft,s]),ot=reactExports.useMemo(()=>createChainedFunction(tt=>{tt.style[ft]=null},o),[ft,o]),b=reactExports.useMemo(()=>createChainedFunction(tt=>{tt.style[ft]=`${$(ft,tt)}px`,triggerBrowserReflow(tt)},a),[a,$,ft]),lt=reactExports.useMemo(()=>createChainedFunction(tt=>{tt.style[ft]=null},c),[ft,c]);return jsx(TransitionWrapper$1,{ref:dt,addEndListener:transitionEndListener,...nt,"aria-expanded":nt.role?nt.in:null,onEnter:ht,onEntering:pt,onEntered:ot,onExit:b,onExiting:lt,childRef:_.ref,children:(tt,st)=>React.cloneElement(_,{...st,className:classNames(d,_.props.className,collapseStyles[tt],ft==="width"&&"collapse-horizontal")})})});Collapse.defaultProps=defaultProps$a;const Collapse$1=Collapse;function useCommittedRef(i){var s=reactExports.useRef(i);return reactExports.useEffect(function(){s.current=i},[i]),s}function useEventCallback(i){var s=useCommittedRef(i);return reactExports.useCallback(function(){return s.current&&s.current.apply(s,arguments)},[s])}function useMounted(){var i=reactExports.useRef(!0),s=reactExports.useRef(function(){return i.current});return reactExports.useEffect(function(){return i.current=!0,function(){i.current=!1}},[]),s.current}function usePrevious(i){var s=reactExports.useRef(null);return reactExports.useEffect(function(){s.current=i}),s.current}var isReactNative=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",isDOM=typeof document<"u";const useIsomorphicEffect=isDOM||isReactNative?reactExports.useLayoutEffect:reactExports.useEffect,defaultProps$9={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},fadeStyles={[ENTERING]:"show",[ENTERED]:"show"},Fade=reactExports.forwardRef(({className:i,children:s,transitionClasses:o={},...a},c)=>{const d=reactExports.useCallback((_,j)=>{triggerBrowserReflow(_),a.onEnter==null||a.onEnter(_,j)},[a]);return jsx(TransitionWrapper$1,{ref:c,addEndListener:transitionEndListener,...a,onEnter:d,childRef:s.ref,children:(_,j)=>reactExports.cloneElement(s,{...j,className:classNames("fade",i,s.props.className,fadeStyles[_],o[_])})})});Fade.defaultProps=defaultProps$9;Fade.displayName="Fade";const Fade$1=Fade,propTypes$2={"aria-label":propTypesExports.string,onClick:propTypesExports.func,variant:propTypesExports.oneOf(["white"])},defaultProps$8={"aria-label":"Close"},CloseButton=reactExports.forwardRef(({className:i,variant:s,...o},a)=>jsx("button",{ref:a,type:"button",className:classNames("btn-close",s&&`btn-close-${s}`,i),...o}));CloseButton.displayName="CloseButton";CloseButton.propTypes=propTypes$2;CloseButton.defaultProps=defaultProps$8;const CloseButton$1=CloseButton,divWithClassName=i=>reactExports.forwardRef((s,o)=>jsx("div",{...s,ref:o,className:classNames(s.className,i)}));var rHyphen=/-(.)/g;function camelize(i){return i.replace(rHyphen,function(s,o){return o.toUpperCase()})}const pascalCase=i=>i[0].toUpperCase()+camelize(i).slice(1);function createWithBsPrefix(i,{displayName:s=pascalCase(i),Component:o,defaultProps:a}={}){const c=reactExports.forwardRef(({className:d,bsPrefix:_,as:j=o||"div",...$},nt)=>{const dt=useBootstrapPrefix(_,i);return jsx(j,{ref:nt,className:classNames(d,dt),...$})});return c.defaultProps=a,c.displayName=s,c}function useUpdatedRef(i){var s=reactExports.useRef(i);return s.current=i,s}function useWillUnmount(i){var s=useUpdatedRef(i);reactExports.useEffect(function(){return function(){return s.current()}},[])}function hasChildOfType(i,s){return reactExports.Children.toArray(i).some(o=>reactExports.isValidElement(o)&&o.type===s)}function useCol({as:i,bsPrefix:s,className:o,...a}){s=useBootstrapPrefix(s,"col");const c=useBootstrapBreakpoints(),d=useBootstrapMinBreakpoint(),_=[],j=[];return c.forEach($=>{const nt=a[$];delete a[$];let dt,ft,ht;typeof nt=="object"&&nt!=null?{span:dt,offset:ft,order:ht}=nt:dt=nt;const pt=$!==d?`-${$}`:"";dt&&_.push(dt===!0?`${s}${pt}`:`${s}${pt}-${dt}`),ht!=null&&j.push(`order${pt}-${ht}`),ft!=null&&j.push(`offset${pt}-${ft}`)}),[{...a,className:classNames(o,..._,...j)},{as:i,bsPrefix:s,spans:_}]}const Col=reactExports.forwardRef((i,s)=>{const[{className:o,...a},{as:c="div",bsPrefix:d,spans:_}]=useCol(i);return jsx(c,{...a,ref:s,className:classNames(o,!_.length&&d)})});Col.displayName="Col";const Col$1=Col;var toArray=Function.prototype.bind.call(Function.prototype.call,[].slice);function qsa(i,s){return toArray(i.querySelectorAll(s))}function contains(i,s){if(i.contains)return i.contains(s);if(i.compareDocumentPosition)return i===s||!!(i.compareDocumentPosition(s)&16)}const SelectableContext=reactExports.createContext(null),ATTRIBUTE_PREFIX="data-rr-ui-";function dataAttr(i){return`${ATTRIBUTE_PREFIX}${i}`}const Context=reactExports.createContext(canUseDOM?window:void 0);Context.Provider;function useWindow(){return reactExports.useContext(Context)}const context$1=reactExports.createContext(null);context$1.displayName="InputGroupContext";const InputGroupContext=context$1,context=reactExports.createContext(null);context.displayName="NavbarContext";const NavbarContext=context,propTypes$1={type:propTypesExports.string,tooltip:propTypesExports.bool,as:propTypesExports.elementType},Feedback=reactExports.forwardRef(({as:i="div",className:s,type:o="valid",tooltip:a=!1,...c},d)=>jsx(i,{...c,ref:d,className:classNames(s,`${o}-${a?"tooltip":"feedback"}`)}));Feedback.displayName="Feedback";Feedback.propTypes=propTypes$1;const Feedback$1=Feedback,FormContext=reactExports.createContext({}),FormContext$1=FormContext,FormCheckInput=reactExports.forwardRef(({id:i,bsPrefix:s,className:o,type:a="checkbox",isValid:c=!1,isInvalid:d=!1,as:_="input",...j},$)=>{const{controlId:nt}=reactExports.useContext(FormContext$1);return s=useBootstrapPrefix(s,"form-check-input"),jsx(_,{...j,ref:$,type:a,id:i||nt,className:classNames(o,s,c&&"is-valid",d&&"is-invalid")})});FormCheckInput.displayName="FormCheckInput";const FormCheckInput$1=FormCheckInput,FormCheckLabel=reactExports.forwardRef(({bsPrefix:i,className:s,htmlFor:o,...a},c)=>{const{controlId:d}=reactExports.useContext(FormContext$1);return i=useBootstrapPrefix(i,"form-check-label"),jsx("label",{...a,ref:c,htmlFor:o||d,className:classNames(s,i)})});FormCheckLabel.displayName="FormCheckLabel";const FormCheckLabel$1=FormCheckLabel,FormCheck=reactExports.forwardRef(({id:i,bsPrefix:s,bsSwitchPrefix:o,inline:a=!1,reverse:c=!1,disabled:d=!1,isValid:_=!1,isInvalid:j=!1,feedbackTooltip:$=!1,feedback:nt,feedbackType:dt,className:ft,style:ht,title:pt="",type:ot="checkbox",label:b,children:lt,as:tt="input",...st},et)=>{s=useBootstrapPrefix(s,"form-check"),o=useBootstrapPrefix(o,"form-switch");const{controlId:g}=reactExports.useContext(FormContext$1),_e=reactExports.useMemo(()=>({controlId:i||g}),[g,i]),it=!lt&&b!=null&&b!==!1||hasChildOfType(lt,FormCheckLabel$1),gt=jsx(FormCheckInput$1,{...st,type:ot==="switch"?"checkbox":ot,ref:et,isValid:_,isInvalid:j,disabled:d,as:tt});return jsx(FormContext$1.Provider,{value:_e,children:jsx("div",{style:ht,className:classNames(ft,it&&s,a&&`${s}-inline`,c&&`${s}-reverse`,ot==="switch"&&o),children:lt||jsxs(Fragment,{children:[gt,it&&jsx(FormCheckLabel$1,{title:pt,children:b}),nt&&jsx(Feedback$1,{type:dt,tooltip:$,children:nt})]})})})});FormCheck.displayName="FormCheck";const FormCheck$1=Object.assign(FormCheck,{Input:FormCheckInput$1,Label:FormCheckLabel$1}),FormControl=reactExports.forwardRef(({bsPrefix:i,type:s,size:o,htmlSize:a,id:c,className:d,isValid:_=!1,isInvalid:j=!1,plaintext:$,readOnly:nt,as:dt="input",...ft},ht)=>{const{controlId:pt}=reactExports.useContext(FormContext$1);i=useBootstrapPrefix(i,"form-control");let ot;return $?ot={[`${i}-plaintext`]:!0}:ot={[i]:!0,[`${i}-${o}`]:o},jsx(dt,{...ft,type:s,size:a,ref:ht,readOnly:nt,id:c||pt,className:classNames(d,ot,_&&"is-valid",j&&"is-invalid",s==="color"&&`${i}-color`)})});FormControl.displayName="FormControl";const FormControl$1=Object.assign(FormControl,{Feedback:Feedback$1}),FormFloating=createWithBsPrefix("form-floating"),FormGroup=reactExports.forwardRef(({controlId:i,as:s="div",...o},a)=>{const c=reactExports.useMemo(()=>({controlId:i}),[i]);return jsx(FormContext$1.Provider,{value:c,children:jsx(s,{...o,ref:a})})});FormGroup.displayName="FormGroup";const FormGroup$1=FormGroup,defaultProps$7={column:!1,visuallyHidden:!1},FormLabel=reactExports.forwardRef(({as:i="label",bsPrefix:s,column:o,visuallyHidden:a,className:c,htmlFor:d,..._},j)=>{const{controlId:$}=reactExports.useContext(FormContext$1);s=useBootstrapPrefix(s,"form-label");let nt="col-form-label";typeof o=="string"&&(nt=`${nt} ${nt}-${o}`);const dt=classNames(c,s,a&&"visually-hidden",o&&nt);return d=d||$,o?jsx(Col$1,{ref:j,as:"label",className:dt,htmlFor:d,..._}):jsx(i,{ref:j,className:dt,htmlFor:d,..._})});FormLabel.displayName="FormLabel";FormLabel.defaultProps=defaultProps$7;const FormLabel$1=FormLabel,FormRange=reactExports.forwardRef(({bsPrefix:i,className:s,id:o,...a},c)=>{const{controlId:d}=reactExports.useContext(FormContext$1);return i=useBootstrapPrefix(i,"form-range"),jsx("input",{...a,type:"range",ref:c,className:classNames(s,i),id:o||d})});FormRange.displayName="FormRange";const FormRange$1=FormRange,FormSelect=reactExports.forwardRef(({bsPrefix:i,size:s,htmlSize:o,className:a,isValid:c=!1,isInvalid:d=!1,id:_,...j},$)=>{const{controlId:nt}=reactExports.useContext(FormContext$1);return i=useBootstrapPrefix(i,"form-select"),jsx("select",{...j,size:o,ref:$,className:classNames(a,i,s&&`${i}-${s}`,c&&"is-valid",d&&"is-invalid"),id:_||nt})});FormSelect.displayName="FormSelect";const FormSelect$1=FormSelect,FormText=reactExports.forwardRef(({bsPrefix:i,className:s,as:o="small",muted:a,...c},d)=>(i=useBootstrapPrefix(i,"form-text"),jsx(o,{...c,ref:d,className:classNames(s,i,a&&"text-muted")})));FormText.displayName="FormText";const FormText$1=FormText,Switch=reactExports.forwardRef((i,s)=>jsx(FormCheck$1,{...i,ref:s,type:"switch"}));Switch.displayName="Switch";const Switch$1=Object.assign(Switch,{Input:FormCheck$1.Input,Label:FormCheck$1.Label}),FloatingLabel=reactExports.forwardRef(({bsPrefix:i,className:s,children:o,controlId:a,label:c,...d},_)=>(i=useBootstrapPrefix(i,"form-floating"),jsxs(FormGroup$1,{ref:_,className:classNames(s,i),controlId:a,...d,children:[o,jsx("label",{htmlFor:a,children:c})]})));FloatingLabel.displayName="FloatingLabel";const FloatingLabel$1=FloatingLabel,propTypes={_ref:propTypesExports.any,validated:propTypesExports.bool,as:propTypesExports.elementType},Form=reactExports.forwardRef(({className:i,validated:s,as:o="form",...a},c)=>jsx(o,{...a,ref:c,className:classNames(i,s&&"was-validated")}));Form.displayName="Form";Form.propTypes=propTypes;const Form$1=Object.assign(Form,{Group:FormGroup$1,Control:FormControl$1,Floating:FormFloating,Check:FormCheck$1,Switch:Switch$1,Label:FormLabel$1,Text:FormText$1,Range:FormRange$1,Select:FormSelect$1,FloatingLabel:FloatingLabel$1}),defaultProps$6={fluid:!1},Container=reactExports.forwardRef(({bsPrefix:i,fluid:s,as:o="div",className:a,...c},d)=>{const _=useBootstrapPrefix(i,"container"),j=typeof s=="string"?`-${s}`:"-fluid";return jsx(o,{ref:d,...c,className:classNames(a,s?`${_}${j}`:_)})});Container.displayName="Container";Container.defaultProps=defaultProps$6;const Container$1=Container,InputGroupText=createWithBsPrefix("input-group-text",{Component:"span"}),InputGroupCheckbox=i=>jsx(InputGroupText,{children:jsx(FormCheckInput$1,{type:"checkbox",...i})}),InputGroupRadio=i=>jsx(InputGroupText,{children:jsx(FormCheckInput$1,{type:"radio",...i})}),InputGroup=reactExports.forwardRef(({bsPrefix:i,size:s,hasValidation:o,className:a,as:c="div",...d},_)=>{i=useBootstrapPrefix(i,"input-group");const j=reactExports.useMemo(()=>({}),[]);return jsx(InputGroupContext.Provider,{value:j,children:jsx(c,{ref:_,...d,className:classNames(a,i,s&&`${i}-${s}`,o&&"has-validation")})})});InputGroup.displayName="InputGroup";const InputGroup$1=Object.assign(InputGroup,{Text:InputGroupText,Radio:InputGroupRadio,Checkbox:InputGroupCheckbox});function activeElement(i){i===void 0&&(i=ownerDocument());try{var s=i.activeElement;return!s||!s.nodeName?null:s}catch{return i.body}}function getBodyScrollbarWidth(i=document){const s=i.defaultView;return Math.abs(s.innerWidth-i.documentElement.clientWidth)}const OPEN_DATA_ATTRIBUTE=dataAttr("modal-open");class ModalManager{constructor({ownerDocument:s,handleContainerOverflow:o=!0,isRTL:a=!1}={}){this.handleContainerOverflow=o,this.isRTL=a,this.modals=[],this.ownerDocument=s}getScrollbarWidth(){return getBodyScrollbarWidth(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(s){}removeModalAttributes(s){}setContainerStyle(s){const o={overflow:"hidden"},a=this.isRTL?"paddingLeft":"paddingRight",c=this.getElement();s.style={overflow:c.style.overflow,[a]:c.style[a]},s.scrollBarWidth&&(o[a]=`${parseInt(style(c,a)||"0",10)+s.scrollBarWidth}px`),c.setAttribute(OPEN_DATA_ATTRIBUTE,""),style(c,o)}reset(){[...this.modals].forEach(s=>this.remove(s))}removeContainerStyle(s){const o=this.getElement();o.removeAttribute(OPEN_DATA_ATTRIBUTE),Object.assign(o.style,s.style)}add(s){let o=this.modals.indexOf(s);return o!==-1||(o=this.modals.length,this.modals.push(s),this.setModalAttributes(s),o!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),o}remove(s){const o=this.modals.indexOf(s);o!==-1&&(this.modals.splice(o,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(s))}isTopModal(s){return!!this.modals.length&&this.modals[this.modals.length-1]===s}}const resolveContainerRef=(i,s)=>canUseDOM?i==null?(s||ownerDocument()).body:(typeof i=="function"&&(i=i()),i&&"current"in i&&(i=i.current),i&&("nodeType"in i||i.getBoundingClientRect)?i:null):null;function useWaitForDOMRef(i,s){const o=useWindow(),[a,c]=reactExports.useState(()=>resolveContainerRef(i,o==null?void 0:o.document));if(!a){const d=resolveContainerRef(i);d&&c(d)}return reactExports.useEffect(()=>{s&&a&&s(a)},[s,a]),reactExports.useEffect(()=>{const d=resolveContainerRef(i);d!==a&&c(d)},[i,a]),a}const _excluded$1=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function _objectWithoutPropertiesLoose(i,s){if(i==null)return{};var o={},a=Object.keys(i),c,d;for(d=0;d<a.length;d++)c=a[d],!(s.indexOf(c)>=0)&&(o[c]=i[c]);return o}let manager;function getManager(i){return manager||(manager=new ModalManager({ownerDocument:i==null?void 0:i.document})),manager}function useModalManager(i){const s=useWindow(),o=i||getManager(s),a=reactExports.useRef({dialog:null,backdrop:null});return Object.assign(a.current,{add:()=>o.add(a.current),remove:()=>o.remove(a.current),isTopModal:()=>o.isTopModal(a.current),setDialogRef:reactExports.useCallback(c=>{a.current.dialog=c},[]),setBackdropRef:reactExports.useCallback(c=>{a.current.backdrop=c},[])})}const Modal=reactExports.forwardRef((i,s)=>{let{show:o=!1,role:a="dialog",className:c,style:d,children:_,backdrop:j=!0,keyboard:$=!0,onBackdropClick:nt,onEscapeKeyDown:dt,transition:ft,backdropTransition:ht,autoFocus:pt=!0,enforceFocus:ot=!0,restoreFocus:b=!0,restoreFocusOptions:lt,renderDialog:tt,renderBackdrop:st=_t=>jsx("div",Object.assign({},_t)),manager:et,container:g,onShow:_e,onHide:it=()=>{},onExit:gt,onExited:rt,onExiting:at,onEnter:ct,onEntering:St,onEntered:wt}=i,Lt=_objectWithoutPropertiesLoose(i,_excluded$1);const Mt=useWaitForDOMRef(g),zt=useModalManager(et),Ut=useMounted(),Dt=usePrevious(o),[Rt,Bt]=reactExports.useState(!o),Ht=reactExports.useRef(null);reactExports.useImperativeHandle(s,()=>zt,[zt]),canUseDOM&&!Dt&&o&&(Ht.current=activeElement()),!ft&&!o&&!Rt?Bt(!0):o&&Rt&&Bt(!1);const qt=useEventCallback(()=>{if(zt.add(),kt.current=listen(document,"keydown",xt),Tt.current=listen(document,"focus",()=>setTimeout(yt),!0),_e&&_e(),pt){const _t=activeElement(document);zt.dialog&&_t&&!contains(zt.dialog,_t)&&(Ht.current=_t,zt.dialog.focus())}}),Ct=useEventCallback(()=>{if(zt.remove(),kt.current==null||kt.current(),Tt.current==null||Tt.current(),b){var _t;(_t=Ht.current)==null||_t.focus==null||_t.focus(lt),Ht.current=null}});reactExports.useEffect(()=>{!o||!Mt||qt()},[o,Mt,qt]),reactExports.useEffect(()=>{Rt&&Ct()},[Rt,Ct]),useWillUnmount(()=>{Ct()});const yt=useEventCallback(()=>{if(!ot||!Ut()||!zt.isTopModal())return;const _t=activeElement();zt.dialog&&_t&&!contains(zt.dialog,_t)&&zt.dialog.focus()}),mt=useEventCallback(_t=>{_t.target===_t.currentTarget&&(nt==null||nt(_t),j===!0&&it())}),xt=useEventCallback(_t=>{$&&_t.keyCode===27&&zt.isTopModal()&&(dt==null||dt(_t),_t.defaultPrevented||it())}),Tt=reactExports.useRef(),kt=reactExports.useRef(),Ft=(..._t)=>{Bt(!0),rt==null||rt(..._t)},jt=ft;if(!Mt||!(o||jt&&!Rt))return null;const $t=Object.assign({role:a,ref:zt.setDialogRef,"aria-modal":a==="dialog"?!0:void 0},Lt,{style:d,className:c,tabIndex:-1});let ut=tt?tt($t):jsx("div",Object.assign({},$t,{children:reactExports.cloneElement(_,{role:"document"})}));jt&&(ut=jsx(jt,{appear:!0,unmountOnExit:!0,in:!!o,onExit:gt,onExiting:at,onExited:Ft,onEnter:ct,onEntering:St,onEntered:wt,children:ut}));let vt=null;if(j){const _t=ht;vt=st({ref:zt.setBackdropRef,onClick:mt}),_t&&(vt=jsx(_t,{appear:!0,in:!!o,children:vt}))}return jsx(Fragment,{children:ReactDOM.createPortal(jsxs(Fragment,{children:[vt,ut]}),Mt)})});Modal.displayName="Modal";const BaseModal=Object.assign(Modal,{Manager:ModalManager});function hasClass(i,s){return i.classList?!!s&&i.classList.contains(s):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+s+" ")!==-1}function addClass(i,s){i.classList?i.classList.add(s):hasClass(i,s)||(typeof i.className=="string"?i.className=i.className+" "+s:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+s))}function replaceClassName(i,s){return i.replace(new RegExp("(^|\\s)"+s+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function removeClass(i,s){i.classList?i.classList.remove(s):typeof i.className=="string"?i.className=replaceClassName(i.className,s):i.setAttribute("class",replaceClassName(i.className&&i.className.baseVal||"",s))}const Selector={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class BootstrapModalManager extends ModalManager{adjustAndStore(s,o,a){const c=o.style[s];o.dataset[s]=c,style(o,{[s]:`${parseFloat(style(o,s))+a}px`})}restore(s,o){const a=o.dataset[s];a!==void 0&&(delete o.dataset[s],style(o,{[s]:a}))}setContainerStyle(s){super.setContainerStyle(s);const o=this.getElement();if(addClass(o,"modal-open"),!s.scrollBarWidth)return;const a=this.isRTL?"paddingLeft":"paddingRight",c=this.isRTL?"marginLeft":"marginRight";qsa(o,Selector.FIXED_CONTENT).forEach(d=>this.adjustAndStore(a,d,s.scrollBarWidth)),qsa(o,Selector.STICKY_CONTENT).forEach(d=>this.adjustAndStore(c,d,-s.scrollBarWidth)),qsa(o,Selector.NAVBAR_TOGGLER).forEach(d=>this.adjustAndStore(c,d,s.scrollBarWidth))}removeContainerStyle(s){super.removeContainerStyle(s);const o=this.getElement();removeClass(o,"modal-open");const a=this.isRTL?"paddingLeft":"paddingRight",c=this.isRTL?"marginLeft":"marginRight";qsa(o,Selector.FIXED_CONTENT).forEach(d=>this.restore(a,d)),qsa(o,Selector.STICKY_CONTENT).forEach(d=>this.restore(c,d)),qsa(o,Selector.NAVBAR_TOGGLER).forEach(d=>this.restore(c,d))}}let sharedManager;function getSharedManager(i){return sharedManager||(sharedManager=new BootstrapModalManager(i)),sharedManager}const BootstrapModalManager$1=BootstrapModalManager,ModalContext=reactExports.createContext({onHide(){}}),ModalContext$1=ModalContext,defaultProps$5={closeLabel:"Close",closeButton:!1},AbstractModalHeader=reactExports.forwardRef(({closeLabel:i,closeVariant:s,closeButton:o,onHide:a,children:c,...d},_)=>{const j=reactExports.useContext(ModalContext$1),$=useEventCallback(()=>{j==null||j.onHide(),a==null||a()});return jsxs("div",{ref:_,...d,children:[c,o&&jsx(CloseButton$1,{"aria-label":i,variant:s,onClick:$})]})});AbstractModalHeader.defaultProps=defaultProps$5;const AbstractModalHeader$1=AbstractModalHeader,NavbarBrand=reactExports.forwardRef(({bsPrefix:i,className:s,as:o,...a},c)=>{i=useBootstrapPrefix(i,"navbar-brand");const d=o||(a.href?"a":"span");return jsx(d,{...a,ref:c,className:classNames(s,i)})});NavbarBrand.displayName="NavbarBrand";const NavbarBrand$1=NavbarBrand,NavbarCollapse=reactExports.forwardRef(({children:i,bsPrefix:s,...o},a)=>{s=useBootstrapPrefix(s,"navbar-collapse");const c=reactExports.useContext(NavbarContext);return jsx(Collapse$1,{in:!!(c&&c.expanded),...o,children:jsx("div",{ref:a,className:s,children:i})})});NavbarCollapse.displayName="NavbarCollapse";const NavbarCollapse$1=NavbarCollapse,defaultProps$4={label:"Toggle navigation"},NavbarToggle=reactExports.forwardRef(({bsPrefix:i,className:s,children:o,label:a,as:c="button",onClick:d,..._},j)=>{i=useBootstrapPrefix(i,"navbar-toggler");const{onToggle:$,expanded:nt}=reactExports.useContext(NavbarContext)||{},dt=useEventCallback(ft=>{d&&d(ft),$&&$()});return c==="button"&&(_.type="button"),jsx(c,{..._,ref:j,onClick:dt,"aria-label":a,className:classNames(s,i,!nt&&"collapsed"),children:o||jsx("span",{className:`${i}-icon`})})});NavbarToggle.displayName="NavbarToggle";NavbarToggle.defaultProps=defaultProps$4;const NavbarToggle$1=NavbarToggle;var matchersByWindow=new WeakMap,getMatcher=function(s,o){if(!(!s||!o)){var a=matchersByWindow.get(o)||new Map;matchersByWindow.set(o,a);var c=a.get(s);return c||(c=o.matchMedia(s),c.refCount=0,a.set(c.media,c)),c}};function useMediaQuery(i,s){s===void 0&&(s=typeof window>"u"?void 0:window);var o=getMatcher(i,s),a=reactExports.useState(function(){return o?o.matches:!1}),c=a[0],d=a[1];return useIsomorphicEffect(function(){var _=getMatcher(i,s);if(!_)return d(!1);var j=matchersByWindow.get(s),$=function(){d(_.matches)};return _.refCount++,_.addListener($),$(),function(){_.removeListener($),_.refCount--,_.refCount<=0&&(j==null||j.delete(_.media)),_=void 0}},[i]),c}function createBreakpointHook(i){var s=Object.keys(i);function o(j,$){return j===$?$:j?j+" and "+$:$}function a(j){return s[Math.min(s.indexOf(j)+1,s.length-1)]}function c(j){var $=a(j),nt=i[$];return typeof nt=="number"?nt=nt-.2+"px":nt="calc("+nt+" - 0.2px)","(max-width: "+nt+")"}function d(j){var $=i[j];return typeof $=="number"&&($=$+"px"),"(min-width: "+$+")"}function _(j,$,nt){var dt;if(typeof j=="object")dt=j,nt=$,$=!0;else{var ft;$=$||!0,dt=(ft={},ft[j]=$,ft)}var ht=reactExports.useMemo(function(){return Object.entries(dt).reduce(function(pt,ot){var b=ot[0],lt=ot[1];return(lt==="up"||lt===!0)&&(pt=o(pt,d(b))),(lt==="down"||lt===!0)&&(pt=o(pt,c(b))),pt},"")},[JSON.stringify(dt)]);return useMediaQuery(ht,nt)}return _}var useBreakpoint=createBreakpointHook({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});const OffcanvasBody=createWithBsPrefix("offcanvas-body"),defaultProps$3={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},transitionStyles={[ENTERING]:"show",[ENTERED]:"show"},OffcanvasToggling=reactExports.forwardRef(({bsPrefix:i,className:s,children:o,...a},c)=>(i=useBootstrapPrefix(i,"offcanvas"),jsx(TransitionWrapper$1,{ref:c,addEndListener:transitionEndListener,...a,childRef:o.ref,children:(d,_)=>reactExports.cloneElement(o,{..._,className:classNames(s,o.props.className,(d===ENTERING||d===EXITING)&&`${i}-toggling`,transitionStyles[d])})})));OffcanvasToggling.defaultProps=defaultProps$3;OffcanvasToggling.displayName="OffcanvasToggling";const OffcanvasToggling$1=OffcanvasToggling,defaultProps$2={closeLabel:"Close",closeButton:!1},OffcanvasHeader=reactExports.forwardRef(({bsPrefix:i,className:s,...o},a)=>(i=useBootstrapPrefix(i,"offcanvas-header"),jsx(AbstractModalHeader$1,{ref:a,...o,className:classNames(s,i)})));OffcanvasHeader.displayName="OffcanvasHeader";OffcanvasHeader.defaultProps=defaultProps$2;const OffcanvasHeader$1=OffcanvasHeader,DivStyledAsH5=divWithClassName("h5"),OffcanvasTitle=createWithBsPrefix("offcanvas-title",{Component:DivStyledAsH5}),defaultProps$1={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start",renderStaticNode:!1};function DialogTransition(i){return jsx(OffcanvasToggling$1,{...i})}function BackdropTransition(i){return jsx(Fade$1,{...i})}const Offcanvas=reactExports.forwardRef(({bsPrefix:i,className:s,children:o,"aria-labelledby":a,placement:c,responsive:d,show:_,backdrop:j,keyboard:$,scroll:nt,onEscapeKeyDown:dt,onShow:ft,onHide:ht,container:pt,autoFocus:ot,enforceFocus:b,restoreFocus:lt,restoreFocusOptions:tt,onEntered:st,onExit:et,onExiting:g,onEnter:_e,onEntering:it,onExited:gt,backdropClassName:rt,manager:at,renderStaticNode:ct,...St},wt)=>{const Lt=reactExports.useRef();i=useBootstrapPrefix(i,"offcanvas");const{onToggle:Mt}=reactExports.useContext(NavbarContext)||{},[zt,Ut]=reactExports.useState(!1),Dt=useBreakpoint(d||"xs","up");reactExports.useEffect(()=>{Ut(d?_&&!Dt:_)},[_,d,Dt]);const Rt=useEventCallback(()=>{Mt==null||Mt(),ht==null||ht()}),Bt=reactExports.useMemo(()=>({onHide:Rt}),[Rt]);function Ht(){return at||(nt?(Lt.current||(Lt.current=new BootstrapModalManager$1({handleContainerOverflow:!1})),Lt.current):getSharedManager())}const qt=(xt,...Tt)=>{xt&&(xt.style.visibility="visible"),_e==null||_e(xt,...Tt)},Ct=(xt,...Tt)=>{xt&&(xt.style.visibility=""),gt==null||gt(...Tt)},yt=reactExports.useCallback(xt=>jsx("div",{...xt,className:classNames(`${i}-backdrop`,rt)}),[rt,i]),mt=xt=>jsx("div",{...xt,...St,className:classNames(s,d?`${i}-${d}`:i,`${i}-${c}`),"aria-labelledby":a,children:o});return jsxs(Fragment,{children:[!zt&&(d||ct)&&mt({}),jsx(ModalContext$1.Provider,{value:Bt,children:jsx(BaseModal,{show:zt,ref:wt,backdrop:j,container:pt,keyboard:$,autoFocus:ot,enforceFocus:b&&!nt,restoreFocus:lt,restoreFocusOptions:tt,onEscapeKeyDown:dt,onShow:ft,onHide:Rt,onEnter:qt,onEntering:it,onEntered:st,onExit:et,onExiting:g,onExited:Ct,manager:Ht(),transition:DialogTransition,backdropTransition:BackdropTransition,renderBackdrop:yt,renderDialog:mt})})]})});Offcanvas.displayName="Offcanvas";Offcanvas.defaultProps=defaultProps$1;const Offcanvas$1=Object.assign(Offcanvas,{Body:OffcanvasBody,Header:OffcanvasHeader$1,Title:OffcanvasTitle}),NavbarOffcanvas=reactExports.forwardRef((i,s)=>{const o=reactExports.useContext(NavbarContext);return jsx(Offcanvas$1,{ref:s,show:!!(o!=null&&o.expanded),...i,renderStaticNode:!0})});NavbarOffcanvas.displayName="NavbarOffcanvas";const NavbarOffcanvas$1=NavbarOffcanvas,NavbarText=createWithBsPrefix("navbar-text",{Component:"span"}),defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},Navbar=reactExports.forwardRef((i,s)=>{const{bsPrefix:o,expand:a,variant:c,bg:d,fixed:_,sticky:j,className:$,as:nt="nav",expanded:dt,onToggle:ft,onSelect:ht,collapseOnSelect:pt,...ot}=useUncontrolled(i,{expanded:"onToggle"}),b=useBootstrapPrefix(o,"navbar"),lt=reactExports.useCallback((...et)=>{ht==null||ht(...et),pt&&dt&&(ft==null||ft(!1))},[ht,pt,dt,ft]);ot.role===void 0&&nt!=="nav"&&(ot.role="navigation");let tt=`${b}-expand`;typeof a=="string"&&(tt=`${tt}-${a}`);const st=reactExports.useMemo(()=>({onToggle:()=>ft==null?void 0:ft(!dt),bsPrefix:b,expanded:!!dt,expand:a}),[b,dt,a,ft]);return jsx(NavbarContext.Provider,{value:st,children:jsx(SelectableContext.Provider,{value:lt,children:jsx(nt,{ref:s,...ot,className:classNames($,b,a&&tt,c&&`${b}-${c}`,d&&`bg-${d}`,j&&`sticky-${j}`,_&&`fixed-${_}`)})})})});Navbar.defaultProps=defaultProps;Navbar.displayName="Navbar";const Navbar$1=Object.assign(Navbar,{Brand:NavbarBrand$1,Collapse:NavbarCollapse$1,Offcanvas:NavbarOffcanvas$1,Text:NavbarText,Toggle:NavbarToggle$1});var pageFlip_browserExports={},pageFlip_browser={get exports(){return pageFlip_browserExports},set exports(i){pageFlip_browserExports=i}};(function(i,s){(function(o,a){a(s)})(commonjsGlobal,function(o){class a{constructor(g,_e){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=_e,this.nowDrawingDensity=this.createdDensity,this.render=g}setDensity(g){this.createdDensity=g,this.nowDrawingDensity=g}setDrawingDensity(g){this.nowDrawingDensity=g}setPosition(g){this.state.position=g}setAngle(g){this.state.angle=g}setArea(g){this.state.area=g}setHardDrawingAngle(g){this.state.hardDrawingAngle=g}setHardAngle(g){this.state.hardAngle=g,this.state.hardDrawingAngle=g}setOrientation(g){this.orientation=g}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class c extends a{constructor(g,_e,it){super(g,it),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=_e}draw(g){const _e=this.render.getContext(),it=this.render.convertToGlobal(this.state.position),gt=this.render.getRect().pageWidth,rt=this.render.getRect().height;_e.save(),_e.translate(it.x,it.y),_e.beginPath();for(let at of this.state.area)at!==null&&(at=this.render.convertToGlobal(at),_e.lineTo(at.x-it.x,at.y-it.y));_e.rotate(this.state.angle),_e.clip(),this.isLoad?_e.drawImage(this.image,0,0,gt,rt):this.drawLoader(_e,{x:0,y:0},gt,rt),_e.restore()}simpleDraw(g){const _e=this.render.getRect(),it=this.render.getContext(),gt=_e.pageWidth,rt=_e.height,at=g===1?_e.left+_e.pageWidth:_e.left,ct=_e.top;this.isLoad?it.drawImage(this.image,at,ct,gt,rt):this.drawLoader(it,{x:at,y:ct},gt,rt)}drawLoader(g,_e,it,gt){g.beginPath(),g.strokeStyle="rgb(200, 200, 200)",g.fillStyle="rgb(255, 255, 255)",g.lineWidth=1,g.rect(_e.x+1,_e.y+1,it-1,gt-1),g.stroke(),g.fill();const rt={x:_e.x+it/2,y:_e.y+gt/2};g.beginPath(),g.lineWidth=10,g.arc(rt.x,rt.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),g.stroke(),g.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class d{constructor(g,_e){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=_e,this.app=g,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let _e=0;_e<this.pages.length;_e++)this.portraitSpread.push([_e]);let g=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([g]),g++);for(let _e=g;_e<this.pages.length;_e+=2)_e<this.pages.length-1?this.landscapeSpread.push([_e,_e+1]):(this.landscapeSpread.push([_e]),this.pages[_e].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(g){const _e=this.getSpread();for(let it=0;it<_e.length;it++)if(g===_e[it][0]||g===_e[it][1])return it;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(g){if(g>=0&&g<this.pages.length)return this.pages[g];throw new Error("Invalid page number")}nextBy(g){const _e=this.pages.indexOf(g);return _e<this.pages.length-1?this.pages[_e+1]:null}prevBy(g){const _e=this.pages.indexOf(g);return _e>0?this.pages[_e-1]:null}getFlippingPage(g){const _e=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return g===0?this.pages[_e].newTemporaryCopy():this.pages[_e-1];{const it=g===0?this.getSpread()[_e+1]:this.getSpread()[_e-1];return it.length===1||g===0?this.pages[it[0]]:this.pages[it[1]]}}getBottomPage(g){const _e=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return g===0?this.pages[_e+1]:this.pages[_e-1];{const it=g===0?this.getSpread()[_e+1]:this.getSpread()[_e-1];return it.length===1?this.pages[it[0]]:g===0?this.pages[it[1]]:this.pages[it[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(g=null){if(g===null&&(g=this.currentPageIndex),g<0||g>=this.pages.length)return;const _e=this.getSpreadIndexByPage(g);_e!==null&&(this.currentSpreadIndex=_e,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(g){if(!(g>=0&&g<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=g}showSpread(){const g=this.getSpread()[this.currentSpreadIndex];g.length===2?(this.render.setLeftPage(this.pages[g[0]]),this.render.setRightPage(this.pages[g[1]])):this.render.getOrientation()==="landscape"&&g[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[g[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[g[0]])),this.currentPageIndex=g[0],this.app.updatePageIndex(this.currentPageIndex)}}class _ extends d{constructor(g,_e,it){super(g,_e),this.imagesHref=it}load(){for(const g of this.imagesHref){const _e=new c(this.render,g,"soft");_e.load(),this.pages.push(_e)}this.createSpread()}}class j{static GetDistanceBetweenTwoPoint(g,_e){return g===null||_e===null?1/0:Math.sqrt(Math.pow(_e.x-g.x,2)+Math.pow(_e.y-g.y,2))}static GetSegmentLength(g){return j.GetDistanceBetweenTwoPoint(g[0],g[1])}static GetAngleBetweenTwoLine(g,_e){const it=g[0].y-g[1].y,gt=_e[0].y-_e[1].y,rt=g[1].x-g[0].x,at=_e[1].x-_e[0].x;return Math.acos((it*gt+rt*at)/(Math.sqrt(it*it+rt*rt)*Math.sqrt(gt*gt+at*at)))}static PointInRect(g,_e){return _e===null?null:_e.x>=g.left&&_e.x<=g.width+g.left&&_e.y>=g.top&&_e.y<=g.top+g.height?_e:null}static GetRotatedPoint(g,_e,it){return{x:g.x*Math.cos(it)+g.y*Math.sin(it)+_e.x,y:g.y*Math.cos(it)-g.x*Math.sin(it)+_e.y}}static LimitPointToCircle(g,_e,it){if(j.GetDistanceBetweenTwoPoint(g,it)<=_e)return it;const gt=g.x,rt=g.y,at=it.x,ct=it.y;let St=Math.sqrt(Math.pow(_e,2)*Math.pow(gt-at,2)/(Math.pow(gt-at,2)+Math.pow(rt-ct,2)))+gt;it.x<0&&(St*=-1);let wt=(St-gt)*(rt-ct)/(gt-at)+rt;return gt-at+rt===0&&(wt=_e),{x:St,y:wt}}static GetIntersectBetweenTwoSegment(g,_e,it){return j.PointInRect(g,j.GetIntersectBeetwenTwoLine(_e,it))}static GetIntersectBeetwenTwoLine(g,_e){const it=g[0].y-g[1].y,gt=_e[0].y-_e[1].y,rt=g[1].x-g[0].x,at=_e[1].x-_e[0].x,ct=g[0].x*g[1].y-g[1].x*g[0].y,St=_e[0].x*_e[1].y-_e[1].x*_e[0].y,wt=it*St-gt*ct,Lt=rt*St-at*ct,Mt=-(ct*at-St*rt)/(it*at-gt*rt),zt=-(it*St-gt*ct)/(it*at-gt*rt);if(isFinite(Mt)&&isFinite(zt))return{x:Mt,y:zt};if(Math.abs(wt-Lt)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(g,_e){const it=Math.abs(g.x-_e.x),gt=Math.abs(g.y-_e.y),rt=Math.max(it,gt),at=[g];function ct(St,wt,Lt,Mt,zt){return wt>St?St+zt*(Lt/Mt):wt<St?St-zt*(Lt/Mt):St}for(let St=1;St<=rt;St+=1)at.push({x:ct(g.x,_e.x,it,rt,St),y:ct(g.y,_e.y,gt,rt,St)});return at}}class $ extends a{constructor(g,_e,it){super(g,it),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=_e,this.element.classList.add("stf__item"),this.element.classList.add("--"+it)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new $(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(g){const _e=g||this.nowDrawingDensity,it=this.render.convertToGlobal(this.state.position),gt=this.render.getRect().pageWidth,rt=this.render.getRect().height;this.element.classList.remove("--simple");const at=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${gt}px;
            height: ${rt}px;
        `;_e==="hard"?this.drawHard(at):this.drawSoft(it,at)}drawHard(g=""){const _e=this.render.getRect().left+this.render.getRect().width/2,it=this.state.hardDrawingAngle,gt=g+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${it}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${_e}px, 0, 0) rotateY(${it}deg);`);this.element.style.cssText=gt}drawSoft(g,_e=""){let it="polygon( ";for(const rt of this.state.area)if(rt!==null){let at=this.render.getDirection()===1?{x:-rt.x+this.state.position.x,y:rt.y-this.state.position.y}:{x:rt.x-this.state.position.x,y:rt.y-this.state.position.y};at=j.GetRotatedPoint(at,{x:0,y:0},this.state.angle),it+=at.x+"px "+at.y+"px, "}it=it.slice(0,-2),it+=")";const gt=_e+`transform-origin: 0 0; clip-path: ${it}; -webkit-clip-path: ${it};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${g.x}px, ${g.y}px);`:`transform: translate3d(${g.x}px, ${g.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=gt}simpleDraw(g){const _e=this.render.getRect(),it=_e.pageWidth,gt=_e.height,rt=g===1?_e.left+_e.pageWidth:_e.left,at=_e.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${gt}px; 
            left: ${rt}px; 
            top: ${at}px; 
            width: ${it}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(g){super.setOrientation(g),this.element.classList.remove("--left","--right"),this.element.classList.add(g===1?"--right":"--left")}setDrawingDensity(g){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+g),super.setDrawingDensity(g)}}class nt extends d{constructor(g,_e,it,gt){super(g,_e),this.element=it,this.pagesElement=gt}load(){for(const g of this.pagesElement){const _e=new $(this.render,g,g.dataset.density==="hard"?"hard":"soft");_e.load(),this.pages.push(_e)}this.createSpread()}}class dt{constructor(g,_e,it,gt){this.direction=g,this.corner=_e,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(it,10),this.pageHeight=parseInt(gt,10)}calc(g){try{return this.position=this.calcAngleAndPosition(g),this.calculateIntersectPoint(this.position),!0}catch{return!1}}getFlippingClipArea(){const g=[];let _e=!1;return g.push(this.rect.topLeft),g.push(this.topIntersectPoint),this.sideIntersectPoint===null?_e=!0:(g.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(_e=!1)),g.push(this.bottomIntersectPoint),(_e||this.corner==="bottom")&&g.push(this.rect.bottomLeft),g}getBottomClipArea(){const g=[];return g.push(this.topIntersectPoint),this.corner==="top"?g.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&g.push({x:this.pageWidth,y:0}),g.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?j.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&g.push(this.sideIntersectPoint):this.corner==="top"&&g.push({x:this.pageWidth,y:this.pageHeight}),g.push(this.bottomIntersectPoint),g.push(this.topIntersectPoint),g}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const g=j.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?g:Math.PI-g}calcAngleAndPosition(g){let _e=g;if(this.updateAngleAndGeometry(_e),_e=this.corner==="top"?this.checkPositionAtCenterLine(_e,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(_e,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(_e.x-this.pageWidth)<1&&Math.abs(_e.y)<1)throw new Error("Point is too small");return _e}updateAngleAndGeometry(g){this.angle=this.calculateAngle(g),this.rect=this.getPageRect(g)}calculateAngle(g){const _e=this.pageWidth-g.x+1,it=this.corner==="bottom"?this.pageHeight-g.y:g.y;let gt=2*Math.acos(_e/Math.sqrt(it*it+_e*_e));it<0&&(gt=-gt);const rt=Math.PI-gt;if(!isFinite(gt)||rt>=0&&rt<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(gt=-gt),gt}getPageRect(g){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],g):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],g)}getRectFromBasePoint(g,_e){return{topLeft:this.getRotatedPoint(g[0],_e),topRight:this.getRotatedPoint(g[1],_e),bottomLeft:this.getRotatedPoint(g[2],_e),bottomRight:this.getRotatedPoint(g[3],_e)}}getRotatedPoint(g,_e){return{x:g.x*Math.cos(this.angle)+g.y*Math.sin(this.angle)+_e.x,y:g.y*Math.cos(this.angle)-g.x*Math.sin(this.angle)+_e.y}}calculateIntersectPoint(g){const _e={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=j.GetIntersectBetweenTwoSegment(_e,[g,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=j.GetIntersectBetweenTwoSegment(_e,[g,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=j.GetIntersectBetweenTwoSegment(_e,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=j.GetIntersectBetweenTwoSegment(_e,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=j.GetIntersectBetweenTwoSegment(_e,[g,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=j.GetIntersectBetweenTwoSegment(_e,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(g,_e,it){let gt=g;const rt=j.LimitPointToCircle(_e,this.pageWidth,gt);gt!==rt&&(gt=rt,this.updateAngleAndGeometry(gt));const at=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let ct=this.rect.bottomRight,St=this.rect.topLeft;if(this.corner==="bottom"&&(ct=this.rect.topRight,St=this.rect.bottomLeft),ct.x<=0){const wt=j.LimitPointToCircle(it,at,St);wt!==gt&&(gt=wt,this.updateAngleAndGeometry(gt))}return gt}getSegmentToShadowLine(){const g=this.getShadowStartPoint();return[g,g!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class ft{constructor(g,_e){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=g,this.app=_e}fold(g){this.setState("user_fold"),this.calc===null&&this.start(g),this.do(this.render.convertToPage(g))}flip(g){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(g)||(this.calc!==null&&this.render.finishAnimation(),!this.start(g)))return;const _e=this.getBoundsRect();this.setState("flipping");const it=_e.height/10,gt=this.calc.getCorner()==="bottom"?_e.height-it:it,rt=this.calc.getCorner()==="bottom"?_e.height:0;this.calc.calc({x:_e.pageWidth-it,y:gt}),this.animateFlippingTo({x:_e.pageWidth-it,y:gt},{x:-_e.pageWidth,y:rt},!0)}start(g){this.reset();const _e=this.render.convertToBook(g),it=this.getBoundsRect(),gt=this.getDirectionByPoint(_e),rt=_e.y>=it.height/2?"bottom":"top";if(!this.checkDirection(gt))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(gt),this.bottomPage=this.app.getPageCollection().getBottomPage(gt),this.render.getOrientation()==="landscape")if(gt===1){const at=this.app.getPageCollection().nextBy(this.flippingPage);at!==null&&this.flippingPage.getDensity()!==at.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),at.setDrawingDensity("hard"))}else{const at=this.app.getPageCollection().prevBy(this.flippingPage);at!==null&&this.flippingPage.getDensity()!==at.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),at.setDrawingDensity("hard"))}return this.render.setDirection(gt),this.calc=new dt(gt,rt,it.pageWidth.toString(10),it.height.toString(10)),!0}catch{return!1}}do(g){if(this.calc!==null&&this.calc.calc(g)){const _e=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*_e)/100):this.flippingPage.setHardAngle(-90*(200-2*_e)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),_e,this.calc.getDirection())}}flipToPage(g,_e){const it=this.app.getPageCollection().getCurrentSpreadIndex(),gt=this.app.getPageCollection().getSpreadIndexByPage(g);try{gt>it&&(this.app.getPageCollection().setCurrentSpreadIndex(gt-1),this.flipNext(_e)),gt<it&&(this.app.getPageCollection().setCurrentSpreadIndex(gt+1),this.flipPrev(_e))}catch{}}flipNext(g){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:g==="top"?1:this.render.getRect().height-2})}flipPrev(g){this.flip({x:10,y:g==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const g=this.calc.getPosition(),_e=this.getBoundsRect(),it=this.calc.getCorner()==="bottom"?_e.height:0;g.x<=0?this.animateFlippingTo(g,{x:-_e.pageWidth,y:it},!0):this.animateFlippingTo(g,{x:_e.pageWidth,y:it},!1)}showCorner(g){if(!this.checkState("read","fold_corner"))return;const _e=this.getBoundsRect(),it=_e.pageWidth;if(this.isPointOnCorners(g))if(this.calc===null){if(!this.start(g))return;this.setState("fold_corner"),this.calc.calc({x:it-1,y:1});const gt=50,rt=this.calc.getCorner()==="bottom"?_e.height-1:1,at=this.calc.getCorner()==="bottom"?_e.height-gt:gt;this.animateFlippingTo({x:it-1,y:rt},{x:it-gt,y:at},!1,!1)}else this.do(this.render.convertToPage(g));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(g,_e,it,gt=!0){const rt=j.GetCordsFromTwoPoint(g,_e),at=[];for(const St of rt)at.push(()=>this.do(St));const ct=this.getAnimationDuration(rt.length);this.render.startAnimation(at,ct,()=>{this.calc&&(it&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),gt&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(g){this.state!==g&&(this.app.updateState(g),this.state=g)}getDirectionByPoint(g){const _e=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(g.x-_e.pageWidth<=_e.width/5)return 1}else if(g.x<_e.width/2)return 1;return 0}getAnimationDuration(g){const _e=this.app.getSettings().flippingTime;return g>=1e3?_e:g/1e3*_e}checkDirection(g){return g===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...g){for(const _e of g)if(this.state===_e)return!0;return!1}isPointOnCorners(g){const _e=this.getBoundsRect(),it=_e.pageWidth,gt=Math.sqrt(Math.pow(it,2)+Math.pow(_e.height,2))/5,rt=this.render.convertToBook(g);return rt.x>0&&rt.y>0&&rt.x<_e.width&&rt.y<_e.height&&(rt.x<gt||rt.x>_e.width-gt)&&(rt.y<gt||rt.y>_e.height-gt)}}class ht{constructor(g,_e){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=_e,this.app=g;const it=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=it.exec(window.navigator.userAgent)!==null}render(g){if(this.animation!==null){const _e=Math.round((g-this.animation.startedAt)/this.animation.durationFrame);_e<this.animation.frames.length?this.animation.frames[_e]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=g,this.drawFrame()}start(){this.update();const g=_e=>{this.render(_e),requestAnimationFrame(g)};requestAnimationFrame(g)}startAnimation(g,_e,it){this.finishAnimation(),this.animation={frames:g,duration:_e,durationFrame:_e/g.length,onAnimateEnd:it,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const g=this.calculateBoundsRect();this.orientation!==g&&(this.orientation=g,this.app.updateOrientation(g))}calculateBoundsRect(){let g="landscape";const _e=this.getBlockWidth(),it=_e/2,gt=this.getBlockHeight()/2,rt=this.setting.width/this.setting.height;let at=this.setting.width,ct=this.setting.height,St=it-at;return this.setting.size==="stretch"?(_e<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(g="portrait"),at=g==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,at>this.setting.maxWidth&&(at=this.setting.maxWidth),ct=at/rt,ct>this.getBlockHeight()&&(ct=this.getBlockHeight(),at=ct*rt),St=g==="portrait"?it-at/2-at:it-at):_e<2*at&&this.app.getSettings().usePortrait&&(g="portrait",St=it-at/2-at),this.boundsRect={left:St,top:gt-ct/2,width:2*at,height:ct,pageWidth:at},g}setShadowData(g,_e,it,gt){if(!this.app.getSettings().drawShadow)return;const rt=100*this.getSettings().maxShadowOpacity;this.shadow={pos:g,angle:_e,width:3*this.getRect().pageWidth/4*it/100,opacity:(100-it)*rt/100/100,direction:gt,progress:2*it}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(g){this.pageRect=g}setDirection(g){this.direction=g}setRightPage(g){g!==null&&g.setOrientation(1),this.rightPage=g}setLeftPage(g){g!==null&&g.setOrientation(0),this.leftPage=g}setBottomPage(g){g!==null&&g.setOrientation(this.direction===1?0:1),this.bottomPage=g}setFlippingPage(g){g!==null&&g.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=g}convertToBook(g){const _e=this.getRect();return{x:g.x-_e.left,y:g.y-_e.top}}isSafari(){return this.safari}convertToPage(g,_e){_e||(_e=this.direction);const it=this.getRect();return{x:_e===0?g.x-it.left-it.width/2:it.width/2-g.x+it.left,y:g.y-it.top}}convertToGlobal(g,_e){if(_e||(_e=this.direction),g==null)return null;const it=this.getRect();return{x:_e===0?g.x+it.left+it.width/2:it.width/2-g.x+it.left,y:g.y+it.top}}convertRectToGlobal(g,_e){return _e||(_e=this.direction),{topLeft:this.convertToGlobal(g.topLeft,_e),topRight:this.convertToGlobal(g.topRight,_e),bottomLeft:this.convertToGlobal(g.bottomLeft,_e),bottomRight:this.convertToGlobal(g.bottomRight,_e)}}}class pt extends ht{constructor(g,_e,it){super(g,_e),this.canvas=it,this.ctx=it.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const g=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(g.left+g.pageWidth,g.top,g.width,g.height),this.ctx.clip())}drawBookShadow(){const g=this.getRect();this.ctx.save(),this.ctx.beginPath();const _e=g.width/20;this.ctx.rect(g.left,g.top,g.width,g.height);const it={x:g.left+g.width/2-_e/2,y:0};this.ctx.translate(it.x,it.y);const gt=this.ctx.createLinearGradient(0,0,_e,0);gt.addColorStop(0,"rgba(0, 0, 0, 0)"),gt.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),gt.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),gt.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),gt.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),gt.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=gt,this.ctx.fillRect(0,0,_e,2*g.height),this.ctx.restore()}drawOuterShadow(){const g=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(g.left,g.top,g.width,g.height);const _e=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(_e.x,_e.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const it=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),it.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),it.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),it.addColorStop(0,"rgba(0, 0, 0, 0)"),it.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=it,this.ctx.fillRect(0,0,this.shadow.width,2*g.height),this.ctx.restore()}drawInnerShadow(){const g=this.getRect();this.ctx.save(),this.ctx.beginPath();const _e=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),it=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(it.topLeft.x,it.topLeft.y),this.ctx.lineTo(it.topRight.x,it.topRight.y),this.ctx.lineTo(it.bottomRight.x,it.bottomRight.y),this.ctx.lineTo(it.bottomLeft.x,it.bottomLeft.y),this.ctx.translate(_e.x,_e.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const gt=3*this.shadow.width/4,rt=this.ctx.createLinearGradient(0,0,gt,0);this.shadow.direction===0?(this.ctx.translate(-gt,-100),rt.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),rt.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),rt.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),rt.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),rt.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),rt.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),rt.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),rt.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=rt,this.ctx.fillRect(0,0,gt,2*g.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class ot{constructor(g,_e,it){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=rt=>{if(this.checkTarget(rt.target)){const at=this.getMousePos(rt.clientX,rt.clientY);this.app.startUserTouch(at),rt.preventDefault()}},this.onTouchStart=rt=>{if(this.checkTarget(rt.target)&&rt.changedTouches.length>0){const at=rt.changedTouches[0],ct=this.getMousePos(at.clientX,at.clientY);this.touchPoint={point:ct,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(ct)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||rt.preventDefault()}},this.onMouseUp=rt=>{const at=this.getMousePos(rt.clientX,rt.clientY);this.app.userStop(at)},this.onMouseMove=rt=>{const at=this.getMousePos(rt.clientX,rt.clientY);this.app.userMove(at,!1)},this.onTouchMove=rt=>{if(rt.changedTouches.length>0){const at=rt.changedTouches[0],ct=this.getMousePos(at.clientX,at.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-ct.x)>10||this.app.getState()!=="read")&&rt.cancelable&&this.app.userMove(ct,!0),this.app.getState()!=="read"&&rt.preventDefault()):this.app.userMove(ct,!0)}},this.onTouchEnd=rt=>{if(rt.changedTouches.length>0){const at=rt.changedTouches[0],ct=this.getMousePos(at.clientX,at.clientY);let St=!1;if(this.touchPoint!==null){const wt=ct.x-this.touchPoint.point.x,Lt=Math.abs(ct.y-this.touchPoint.point.y);Math.abs(wt)>this.swipeDistance&&Lt<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(wt>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),St=!0),this.touchPoint=null}this.app.userStop(ct,St)}},this.parentElement=g,g.classList.add("stf__parent"),g.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=g.querySelector(".stf__wrapper"),this.app=_e;const gt=this.app.getSettings().usePortrait?1:2;g.style.minWidth=it.minWidth*gt+"px",g.style.minHeight=it.minHeight+"px",it.size==="fixed"&&(g.style.minWidth=it.width*gt+"px",g.style.minHeight=it.height+"px"),it.autoSize&&(g.style.width="100%",g.style.maxWidth=2*it.maxWidth+"px"),g.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=it.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(g){this.wrapper.classList.remove("--portrait","--landscape"),g==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(g,_e){const it=this.distElement.getBoundingClientRect();return{x:g-it.left,y:_e-it.top}}checkTarget(g){return!this.app.getSettings().clickEventForward||!["a","button"].includes(g.tagName.toLowerCase())}}class b extends ot{constructor(g,_e,it,gt){super(g,_e,it),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=g.querySelector(".stf__block"),this.items=gt;for(const rt of gt)this.distElement.appendChild(rt);this.setHandlers()}clear(){for(const g of this.items)this.parentElement.appendChild(g)}updateItems(g){this.removeHandlers(),this.distElement.innerHTML="";for(const _e of g)this.distElement.appendChild(_e);this.items=g,this.setHandlers()}update(){this.app.getRender().update()}}class lt extends ot{constructor(g,_e,it){super(g,_e,it),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=g.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const g=getComputedStyle(this.canvas),_e=parseInt(g.getPropertyValue("width"),10),it=parseInt(g.getPropertyValue("height"),10);this.canvas.width=_e,this.canvas.height=it}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class tt extends ht{constructor(g,_e,it){super(g,_e),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=it,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const g=this.getRect(),_e=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let it=(100-_e)*(2.5*g.pageWidth)/100+20;it>g.pageWidth&&(it=g.pageWidth);let gt=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${it}px;
            height: ${g.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*_e/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${g.left+g.width/2}px;
            transform-origin: 0 0;
        `;gt+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=gt}drawHardOuterShadow(){const g=this.getRect();let _e=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*g.pageWidth)/100+20;_e>g.pageWidth&&(_e=g.pageWidth);let it=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${_e}px;
            height: ${g.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${g.left+g.width/2}px;
            transform-origin: 0 0;
        `;it+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=it}drawInnerShadow(){const g=this.getRect(),_e=3*this.shadow.width/4,it=this.getDirection()===0?_e:0,gt=this.getDirection()===0?"to left":"to right",rt=this.convertToGlobal(this.shadow.pos),at=this.shadow.angle+3*Math.PI/2,ct=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let St="polygon( ";for(const Lt of ct){let Mt=this.getDirection()===1?{x:-Lt.x+this.shadow.pos.x,y:Lt.y-this.shadow.pos.y}:{x:Lt.x-this.shadow.pos.x,y:Lt.y-this.shadow.pos.y};Mt=j.GetRotatedPoint(Mt,{x:it,y:100},at),St+=Mt.x+"px "+Mt.y+"px, "}St=St.slice(0,-2),St+=")";const wt=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${_e}px;
            height: ${2*g.height}px;
            background: linear-gradient(${gt},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${it}px 100px;
            transform: translate3d(${rt.x-it}px, ${rt.y-100}px, 0) rotate(${at}rad);
            clip-path: ${St};
            -webkit-clip-path: ${St};
        `;this.innerShadow.style.cssText=wt}drawOuterShadow(){const g=this.getRect(),_e=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),it=this.shadow.angle+3*Math.PI/2,gt=this.getDirection()===1?this.shadow.width:0,rt=this.getDirection()===0?"to right":"to left",at=[{x:0,y:0},{x:g.pageWidth,y:0},{x:g.pageWidth,y:g.height},{x:0,y:g.height}];let ct="polygon( ";for(const wt of at)if(wt!==null){let Lt=this.getDirection()===1?{x:-wt.x+this.shadow.pos.x,y:wt.y-this.shadow.pos.y}:{x:wt.x-this.shadow.pos.x,y:wt.y-this.shadow.pos.y};Lt=j.GetRotatedPoint(Lt,{x:gt,y:100},it),ct+=Lt.x+"px "+Lt.y+"px, "}ct=ct.slice(0,-2),ct+=")";const St=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*g.height}px;
            background: linear-gradient(${rt}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${gt}px 100px;
            transform: translate3d(${_e.x-gt}px, ${_e.y-100}px, 0) rotate(${it}rad);
            clip-path: ${ct};
            -webkit-clip-path: ${ct};
        `;this.outerShadow.style.cssText=St}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const g=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(g))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const g of this.app.getPageCollection().getPages())g!==this.leftPage&&g!==this.rightPage&&g!==this.flippingPage&&g!==this.bottomPage&&(g.getElement().style.cssText="display: none"),g.getTemporaryCopy()!==this.flippingPage&&g.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class st{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(g){const _e=this._default;if(Object.assign(_e,g),_e.size!=="stretch"&&_e.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(_e.width<=0||_e.height<=0)throw new Error("Invalid width or height");if(_e.flippingTime<=0)throw new Error("Invalid flipping time");return _e.size==="stretch"?(_e.minWidth<=0&&(_e.minWidth=100),_e.maxWidth<_e.minWidth&&(_e.maxWidth=2e3),_e.minHeight<=0&&(_e.minHeight=100),_e.maxHeight<_e.minHeight&&(_e.maxHeight=2e3)):(_e.minWidth=_e.width,_e.maxWidth=_e.width,_e.minHeight=_e.height,_e.maxHeight=_e.height),_e}}(function(et,g){g===void 0&&(g={});var _e=g.insertAt;if(et&&typeof document<"u"){var it=document.head||document.getElementsByTagName("head")[0],gt=document.createElement("style");gt.type="text/css",_e==="top"&&it.firstChild?it.insertBefore(gt,it.firstChild):it.appendChild(gt),gt.styleSheet?gt.styleSheet.cssText=et:gt.appendChild(document.createTextNode(et))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),o.PageFlip=class extends class{constructor(){this.events=new Map}on(et,g){return this.events.has(et)?this.events.get(et).push(g):this.events.set(et,[g]),this}off(et){this.events.delete(et)}trigger(et,g,_e=null){if(this.events.has(et))for(const it of this.events.get(et))it({data:_e,object:g})}}{constructor(et,g){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new st().getSettings(g),this.block=et}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(et){this.ui=new lt(this.block,this,this.setting);const g=this.ui.getCanvas();this.render=new pt(this,this.setting,g),this.flipController=new ft(this.render,this),this.pages=new _(this,this.render,et),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(et){this.ui=new b(this.block,this,this.setting,et),this.render=new tt(this,this.setting,this.ui.getDistElement()),this.flipController=new ft(this.render,this),this.pages=new nt(this,this.render,this.ui.getDistElement(),et),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(et){const g=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new _(this,this.render,et),this.pages.load(),this.pages.show(g),this.trigger("update",this,{page:g,mode:this.render.getOrientation()})}updateFromHtml(et){const g=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new nt(this,this.render,this.ui.getDistElement(),et),this.pages.load(),this.ui.updateItems(et),this.render.reload(),this.pages.show(g),this.trigger("update",this,{page:g,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(et){this.pages.show(et)}flipNext(et="top"){this.flipController.flipNext(et)}flipPrev(et="top"){this.flipController.flipPrev(et)}flip(et,g="top"){this.flipController.flipToPage(et,g)}updateState(et){this.trigger("changeState",this,et)}updatePageIndex(et){this.trigger("flip",this,et)}updateOrientation(et){this.ui.setOrientationStyle(et),this.update(),this.trigger("changeOrientation",this,et)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(et){return this.pages.getPage(et)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(et){this.mousePosition=et,this.isUserTouch=!0,this.isUserMove=!1}userMove(et,g){this.isUserTouch||g||!this.setting.showPageCorners?this.isUserTouch&&j.GetDistanceBetweenTwoPoint(this.mousePosition,et)>5&&(this.isUserMove=!0,this.flipController.fold(et)):this.flipController.showCorner(et)}userStop(et,g=!1){this.isUserTouch&&(this.isUserTouch=!1,g||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(et)))}},Object.defineProperty(o,"__esModule",{value:!0})})})(pageFlip_browser,pageFlip_browserExports);function commonjsRequire(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdfExports={},pdf={get exports(){return pdfExports},set exports(i){pdfExports=i}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(s,o){module.exports=o()})(globalThis,()=>(()=>{var __webpack_modules__=[,(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.VerbosityLevel=s.Util=s.UnknownErrorException=s.UnexpectedResponseException=s.UNSUPPORTED_FEATURES=s.TextRenderingMode=s.StreamType=s.RenderingIntentFlag=s.PermissionFlag=s.PasswordResponses=s.PasswordException=s.PageActionEventType=s.OPS=s.MissingPDFException=s.LINE_FACTOR=s.LINE_DESCENT_FACTOR=s.InvalidPDFException=s.ImageKind=s.IDENTITY_MATRIX=s.FormatError=s.FontType=s.FeatureTest=s.FONT_IDENTITY_MATRIX=s.DocumentActionEventType=s.CMapCompressionType=s.BaseException=s.AnnotationType=s.AnnotationStateModelType=s.AnnotationReviewState=s.AnnotationReplyType=s.AnnotationMode=s.AnnotationMarkedState=s.AnnotationFlag=s.AnnotationFieldFlag=s.AnnotationEditorType=s.AnnotationEditorPrefix=s.AnnotationEditorParamsType=s.AnnotationBorderStyleType=s.AnnotationActionEventType=s.AbortException=void 0,s.arrayByteLength=Xt,s.arraysToBytes=en,s.assert=yt,s.bytesToString=At,s.createPromiseCapability=rn,s.createValidAbsoluteUrl=xt,s.escapeString=pn,s.getModificationDate=Kt,s.getVerbosityLevel=Bt,s.info=Ht,s.isArrayBuffer=xn,s.isArrayEqual=zn,s.isAscii=Sn,s.objectFromMap=Gt,s.objectSize=Qt,s.setVerbosityLevel=Rt,s.shadow=Tt,s.string32=Vt,s.stringToBytes=Ot,s.stringToPDFString=hn,s.stringToUTF16BEString=_n,s.stringToUTF8String=Dn,s.unreachable=Ct,s.utf8StringToString=gn,s.warn=qt,o(2);const a=[1,0,0,1,0,0];s.IDENTITY_MATRIX=a;const c=[.001,0,0,.001,0,0];s.FONT_IDENTITY_MATRIX=c;const d=1.35;s.LINE_FACTOR=d;const _=.35;s.LINE_DESCENT_FACTOR=_;const j={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};s.RenderingIntentFlag=j;const $={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};s.AnnotationMode=$;const nt="pdfjs_internal_editor_";s.AnnotationEditorPrefix=nt;const dt={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};s.AnnotationEditorType=dt;const ft={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};s.AnnotationEditorParamsType=ft;const ht={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};s.PermissionFlag=ht;const pt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};s.TextRenderingMode=pt;const ot={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};s.ImageKind=ot;const b={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};s.AnnotationType=b;const lt={MARKED:"Marked",REVIEW:"Review"};s.AnnotationStateModelType=lt;const tt={MARKED:"Marked",UNMARKED:"Unmarked"};s.AnnotationMarkedState=tt;const st={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};s.AnnotationReviewState=st;const et={GROUP:"Group",REPLY:"R"};s.AnnotationReplyType=et;const g={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};s.AnnotationFlag=g;const _e={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};s.AnnotationFieldFlag=_e;const it={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};s.AnnotationBorderStyleType=it;const gt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};s.AnnotationActionEventType=gt;const rt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};s.DocumentActionEventType=rt;const at={O:"PageOpen",C:"PageClose"};s.PageActionEventType=at;const ct={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};s.StreamType=ct;const St={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};s.FontType=St;const wt={ERRORS:0,WARNINGS:1,INFOS:5};s.VerbosityLevel=wt;const Lt={NONE:0,BINARY:1,STREAM:2};s.CMapCompressionType=Lt;const Mt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};s.OPS=Mt;const zt={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};s.UNSUPPORTED_FEATURES=zt;const Ut={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};s.PasswordResponses=Ut;let Dt=wt.WARNINGS;function Rt(Wt){Number.isInteger(Wt)&&(Dt=Wt)}function Bt(){return Dt}function Ht(Wt){Dt>=wt.INFOS&&console.log(`Info: ${Wt}`)}function qt(Wt){Dt>=wt.WARNINGS&&console.log(`Warning: ${Wt}`)}function Ct(Wt){throw new Error(Wt)}function yt(Wt,It){Wt||Ct(It)}function mt(Wt){if(!Wt)return!1;switch(Wt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function xt(Wt,It=null,Nt=null){if(!Wt)return null;try{if(Nt&&typeof Wt=="string"){if(Nt.addDefaultProtocol&&Wt.startsWith("www.")){const an=Wt.match(/\./g);an&&an.length>=2&&(Wt=`http://${Wt}`)}if(Nt.tryConvertEncoding)try{Wt=Dn(Wt)}catch{}}const sn=It?new URL(Wt,It):new URL(Wt);if(mt(sn))return sn}catch{}return null}function Tt(Wt,It,Nt){return Object.defineProperty(Wt,It,{value:Nt,enumerable:!0,configurable:!0,writable:!1}),Nt}const kt=function(){function It(Nt,sn){this.constructor===It&&Ct("Cannot initialize BaseException."),this.message=Nt,this.name=sn}return It.prototype=new Error,It.constructor=It,It}();s.BaseException=kt;class Ft extends kt{constructor(It,Nt){super(It,"PasswordException"),this.code=Nt}}s.PasswordException=Ft;class jt extends kt{constructor(It,Nt){super(It,"UnknownErrorException"),this.details=Nt}}s.UnknownErrorException=jt;class $t extends kt{constructor(It){super(It,"InvalidPDFException")}}s.InvalidPDFException=$t;class ut extends kt{constructor(It){super(It,"MissingPDFException")}}s.MissingPDFException=ut;class vt extends kt{constructor(It,Nt){super(It,"UnexpectedResponseException"),this.status=Nt}}s.UnexpectedResponseException=vt;class _t extends kt{constructor(It){super(It,"FormatError")}}s.FormatError=_t;class Et extends kt{constructor(It){super(It,"AbortException")}}s.AbortException=Et;function At(Wt){(typeof Wt!="object"||Wt===null||Wt.length===void 0)&&Ct("Invalid argument for bytesToString");const It=Wt.length,Nt=8192;if(It<Nt)return String.fromCharCode.apply(null,Wt);const sn=[];for(let an=0;an<It;an+=Nt){const cn=Math.min(an+Nt,It),dn=Wt.subarray(an,cn);sn.push(String.fromCharCode.apply(null,dn))}return sn.join("")}function Ot(Wt){typeof Wt!="string"&&Ct("Invalid argument for stringToBytes");const It=Wt.length,Nt=new Uint8Array(It);for(let sn=0;sn<It;++sn)Nt[sn]=Wt.charCodeAt(sn)&255;return Nt}function Xt(Wt){if(Wt.length!==void 0)return Wt.length;if(Wt.byteLength!==void 0)return Wt.byteLength;Ct("Invalid argument for arrayByteLength")}function en(Wt){const It=Wt.length;if(It===1&&Wt[0]instanceof Uint8Array)return Wt[0];let Nt=0;for(let cn=0;cn<It;cn++)Nt+=Xt(Wt[cn]);let sn=0;const an=new Uint8Array(Nt);for(let cn=0;cn<It;cn++){let dn=Wt[cn];dn instanceof Uint8Array||(typeof dn=="string"?dn=Ot(dn):dn=new Uint8Array(dn));const mn=dn.byteLength;an.set(dn,sn),sn+=mn}return an}function Vt(Wt){return String.fromCharCode(Wt>>24&255,Wt>>16&255,Wt>>8&255,Wt&255)}function Qt(Wt){return Object.keys(Wt).length}function Gt(Wt){const It=Object.create(null);for(const[Nt,sn]of Wt)It[Nt]=sn;return It}function Zt(){const Wt=new Uint8Array(4);return Wt[0]=1,new Uint32Array(Wt.buffer,0,1)[0]===1}function nn(){try{return new Function(""),!0}catch{return!1}}class Pt{static get isLittleEndian(){return Tt(this,"isLittleEndian",Zt())}static get isEvalSupported(){return Tt(this,"isEvalSupported",nn())}static get isOffscreenCanvasSupported(){return Tt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}s.FeatureTest=Pt;const tn=[...Array(256).keys()].map(Wt=>Wt.toString(16).padStart(2,"0"));class ln{static makeHexColor(It,Nt,sn){return`#${tn[It]}${tn[Nt]}${tn[sn]}`}static scaleMinMax(It,Nt){let sn;It[0]?(It[0]<0&&(sn=Nt[0],Nt[0]=Nt[1],Nt[1]=sn),Nt[0]*=It[0],Nt[1]*=It[0],It[3]<0&&(sn=Nt[2],Nt[2]=Nt[3],Nt[3]=sn),Nt[2]*=It[3],Nt[3]*=It[3]):(sn=Nt[0],Nt[0]=Nt[2],Nt[2]=sn,sn=Nt[1],Nt[1]=Nt[3],Nt[3]=sn,It[1]<0&&(sn=Nt[2],Nt[2]=Nt[3],Nt[3]=sn),Nt[2]*=It[1],Nt[3]*=It[1],It[2]<0&&(sn=Nt[0],Nt[0]=Nt[1],Nt[1]=sn),Nt[0]*=It[2],Nt[1]*=It[2]),Nt[0]+=It[4],Nt[1]+=It[4],Nt[2]+=It[5],Nt[3]+=It[5]}static transform(It,Nt){return[It[0]*Nt[0]+It[2]*Nt[1],It[1]*Nt[0]+It[3]*Nt[1],It[0]*Nt[2]+It[2]*Nt[3],It[1]*Nt[2]+It[3]*Nt[3],It[0]*Nt[4]+It[2]*Nt[5]+It[4],It[1]*Nt[4]+It[3]*Nt[5]+It[5]]}static applyTransform(It,Nt){const sn=It[0]*Nt[0]+It[1]*Nt[2]+Nt[4],an=It[0]*Nt[1]+It[1]*Nt[3]+Nt[5];return[sn,an]}static applyInverseTransform(It,Nt){const sn=Nt[0]*Nt[3]-Nt[1]*Nt[2],an=(It[0]*Nt[3]-It[1]*Nt[2]+Nt[2]*Nt[5]-Nt[4]*Nt[3])/sn,cn=(-It[0]*Nt[1]+It[1]*Nt[0]+Nt[4]*Nt[1]-Nt[5]*Nt[0])/sn;return[an,cn]}static getAxialAlignedBoundingBox(It,Nt){const sn=ln.applyTransform(It,Nt),an=ln.applyTransform(It.slice(2,4),Nt),cn=ln.applyTransform([It[0],It[3]],Nt),dn=ln.applyTransform([It[2],It[1]],Nt);return[Math.min(sn[0],an[0],cn[0],dn[0]),Math.min(sn[1],an[1],cn[1],dn[1]),Math.max(sn[0],an[0],cn[0],dn[0]),Math.max(sn[1],an[1],cn[1],dn[1])]}static inverseTransform(It){const Nt=It[0]*It[3]-It[1]*It[2];return[It[3]/Nt,-It[1]/Nt,-It[2]/Nt,It[0]/Nt,(It[2]*It[5]-It[4]*It[3])/Nt,(It[4]*It[1]-It[5]*It[0])/Nt]}static apply3dTransform(It,Nt){return[It[0]*Nt[0]+It[1]*Nt[1]+It[2]*Nt[2],It[3]*Nt[0]+It[4]*Nt[1]+It[5]*Nt[2],It[6]*Nt[0]+It[7]*Nt[1]+It[8]*Nt[2]]}static singularValueDecompose2dScale(It){const Nt=[It[0],It[2],It[1],It[3]],sn=It[0]*Nt[0]+It[1]*Nt[2],an=It[0]*Nt[1]+It[1]*Nt[3],cn=It[2]*Nt[0]+It[3]*Nt[2],dn=It[2]*Nt[1]+It[3]*Nt[3],mn=(sn+dn)/2,wn=Math.sqrt((sn+dn)**2-4*(sn*dn-cn*an))/2,vn=mn+wn||1,fn=mn-wn||1;return[Math.sqrt(vn),Math.sqrt(fn)]}static normalizeRect(It){const Nt=It.slice(0);return It[0]>It[2]&&(Nt[0]=It[2],Nt[2]=It[0]),It[1]>It[3]&&(Nt[1]=It[3],Nt[3]=It[1]),Nt}static intersect(It,Nt){const sn=Math.max(Math.min(It[0],It[2]),Math.min(Nt[0],Nt[2])),an=Math.min(Math.max(It[0],It[2]),Math.max(Nt[0],Nt[2]));if(sn>an)return null;const cn=Math.max(Math.min(It[1],It[3]),Math.min(Nt[1],Nt[3])),dn=Math.min(Math.max(It[1],It[3]),Math.max(Nt[1],Nt[3]));return cn>dn?null:[sn,cn,an,dn]}static bezierBoundingBox(It,Nt,sn,an,cn,dn,mn,wn){const vn=[],fn=[[],[]];let An,bn,kn,yn,Cn,Rn,Ln,In;for(let Nn=0;Nn<2;++Nn){if(Nn===0?(bn=6*It-12*sn+6*cn,An=-3*It+9*sn-9*cn+3*mn,kn=3*sn-3*It):(bn=6*Nt-12*an+6*dn,An=-3*Nt+9*an-9*dn+3*wn,kn=3*an-3*Nt),Math.abs(An)<1e-12){if(Math.abs(bn)<1e-12)continue;yn=-kn/bn,0<yn&&yn<1&&vn.push(yn);continue}Ln=bn*bn-4*kn*An,In=Math.sqrt(Ln),!(Ln<0)&&(Cn=(-bn+In)/(2*An),0<Cn&&Cn<1&&vn.push(Cn),Rn=(-bn-In)/(2*An),0<Rn&&Rn<1&&vn.push(Rn))}let Mn=vn.length,Tn;const Fn=Mn;for(;Mn--;)yn=vn[Mn],Tn=1-yn,fn[0][Mn]=Tn*Tn*Tn*It+3*Tn*Tn*yn*sn+3*Tn*yn*yn*cn+yn*yn*yn*mn,fn[1][Mn]=Tn*Tn*Tn*Nt+3*Tn*Tn*yn*an+3*Tn*yn*yn*dn+yn*yn*yn*wn;return fn[0][Fn]=It,fn[1][Fn]=Nt,fn[0][Fn+1]=mn,fn[1][Fn+1]=wn,fn[0].length=fn[1].length=Fn+2,[Math.min(...fn[0]),Math.min(...fn[1]),Math.max(...fn[0]),Math.max(...fn[1])]}}s.Util=ln;const un=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function hn(Wt){if(Wt[0]>=""){let Nt;if(Wt[0]===""&&Wt[1]===""?Nt="utf-16be":Wt[0]===""&&Wt[1]===""?Nt="utf-16le":Wt[0]===""&&Wt[1]===""&&Wt[2]===""&&(Nt="utf-8"),Nt)try{const sn=new TextDecoder(Nt,{fatal:!0}),an=Ot(Wt);return sn.decode(an)}catch(sn){qt(`stringToPDFString: "${sn}".`)}}const It=[];for(let Nt=0,sn=Wt.length;Nt<sn;Nt++){const an=un[Wt.charCodeAt(Nt)];It.push(an?String.fromCharCode(an):Wt.charAt(Nt))}return It.join("")}function pn(Wt){return Wt.replace(/([()\\\n\r])/g,It=>It===`
`?"\\n":It==="\r"?"\\r":`\\${It}`)}function Sn(Wt){return/^[\x00-\x7F]*$/.test(Wt)}function _n(Wt){const It=[""];for(let Nt=0,sn=Wt.length;Nt<sn;Nt++){const an=Wt.charCodeAt(Nt);It.push(String.fromCharCode(an>>8&255),String.fromCharCode(an&255))}return It.join("")}function Dn(Wt){return decodeURIComponent(escape(Wt))}function gn(Wt){return unescape(encodeURIComponent(Wt))}function xn(Wt){return typeof Wt=="object"&&Wt!==null&&Wt.byteLength!==void 0}function zn(Wt,It){if(Wt.length!==It.length)return!1;for(let Nt=0,sn=Wt.length;Nt<sn;Nt++)if(Wt[Nt]!==It[Nt])return!1;return!0}function Kt(Wt=new Date){return[Wt.getUTCFullYear().toString(),(Wt.getUTCMonth()+1).toString().padStart(2,"0"),Wt.getUTCDate().toString().padStart(2,"0"),Wt.getUTCHours().toString().padStart(2,"0"),Wt.getUTCMinutes().toString().padStart(2,"0"),Wt.getUTCSeconds().toString().padStart(2,"0")].join("")}function rn(){const Wt=Object.create(null);let It=!1;return Object.defineProperty(Wt,"settled",{get(){return It}}),Wt.promise=new Promise(function(Nt,sn){Wt.resolve=function(an){It=!0,Nt(an)},Wt.reject=function(an){It=!0,sn(an)}}),Wt}},(i,s,o)=>{o(3)},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isNodeJS=void 0;const o=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");s.isNodeJS=o},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var i,o,a,c,d,_,j,$,nt,Yn,ft,ht;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:ot,NodeCMapReaderFactory:b,NodeStandardFontDataFactory:lt}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=ot,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=b,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=lt}let createPDFNetworkStream;function setPDFNetworkStreamFactory(ot){createPDFNetworkStream=ot}function getDocument(ot){const b=new PDFDocumentLoadingTask;let lt;if(typeof ot=="string"||ot instanceof URL)lt={url:ot};else if((0,_util.isArrayBuffer)(ot))lt={data:ot};else if(ot instanceof PDFDataRangeTransport)lt={range:ot};else{if(typeof ot!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!ot.url&&!ot.data&&!ot.range)throw new Error("Invalid parameter object: need either .data, .range or .url");lt=ot}const tt=Object.create(null);let st=null,et=null;for(const _e in lt){const it=lt[_e];switch(_e){case"url":if(typeof window<"u")try{tt[_e]=new URL(it,window.location).href;continue}catch(gt){(0,_util.warn)(`Cannot create valid URL: "${gt}".`)}else if(typeof it=="string"||it instanceof URL){tt[_e]=it.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":st=it;continue;case"worker":et=it;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&it instanceof Buffer)tt[_e]=new Uint8Array(it);else{if(it instanceof Uint8Array)break;if(typeof it=="string")tt[_e]=(0,_util.stringToBytes)(it);else if(typeof it=="object"&&it!==null&&!isNaN(it.length))tt[_e]=new Uint8Array(it);else if((0,_util.isArrayBuffer)(it))tt[_e]=new Uint8Array(it);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}tt[_e]=it}if(tt.CMapReaderFactory=tt.CMapReaderFactory||DefaultCMapReaderFactory,tt.StandardFontDataFactory=tt.StandardFontDataFactory||DefaultStandardFontDataFactory,tt.ignoreErrors=tt.stopAtErrors!==!0,tt.fontExtraProperties=tt.fontExtraProperties===!0,tt.pdfBug=tt.pdfBug===!0,tt.enableXfa=tt.enableXfa===!0,(!Number.isInteger(tt.rangeChunkSize)||tt.rangeChunkSize<1)&&(tt.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof tt.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(tt.docBaseUrl))&&(tt.docBaseUrl=null),(!Number.isInteger(tt.maxImageSize)||tt.maxImageSize<-1)&&(tt.maxImageSize=-1),typeof tt.cMapUrl!="string"&&(tt.cMapUrl=null),typeof tt.standardFontDataUrl!="string"&&(tt.standardFontDataUrl=null),typeof tt.useWorkerFetch!="boolean"&&(tt.useWorkerFetch=tt.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&tt.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof tt.isEvalSupported!="boolean"&&(tt.isEvalSupported=!0),typeof tt.disableFontFace!="boolean"&&(tt.disableFontFace=_is_node.isNodeJS),typeof tt.useSystemFonts!="boolean"&&(tt.useSystemFonts=!_is_node.isNodeJS&&!tt.disableFontFace),(typeof tt.ownerDocument!="object"||tt.ownerDocument===null)&&(tt.ownerDocument=globalThis.document),typeof tt.disableRange!="boolean"&&(tt.disableRange=!1),typeof tt.disableStream!="boolean"&&(tt.disableStream=!1),typeof tt.disableAutoFetch!="boolean"&&(tt.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(tt.verbosity),!et){const _e={verbosity:tt.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};et=_e.port?PDFWorker.fromPort(_e):new PDFWorker(_e),b._worker=et}const g=b.docId;return et.promise.then(function(){if(b.destroyed)throw new Error("Loading aborted");const _e=_fetchDocument(et,tt,st,g),it=new Promise(function(gt){let rt;st?rt=new _transport_stream.PDFDataTransportStream({length:tt.length,initialData:tt.initialData,progressiveDone:tt.progressiveDone,contentDispositionFilename:tt.contentDispositionFilename,disableRange:tt.disableRange,disableStream:tt.disableStream},st):tt.data||(rt=createPDFNetworkStream({url:tt.url,length:tt.length,httpHeaders:tt.httpHeaders,withCredentials:tt.withCredentials,rangeChunkSize:tt.rangeChunkSize,disableRange:tt.disableRange,disableStream:tt.disableStream})),gt(rt)});return Promise.all([_e,it]).then(function([gt,rt]){if(b.destroyed)throw new Error("Loading aborted");const at=new _message_handler.MessageHandler(g,gt,et.port),ct=new WorkerTransport(at,b,rt,tt);b._transport=ct,at.send("Ready",null)})}).catch(b._capability.reject),b}async function _fetchDocument(ot,b,lt,tt){if(ot.destroyed)throw new Error("Worker was destroyed");lt&&(b.length=lt.length,b.initialData=lt.initialData,b.progressiveDone=lt.progressiveDone,b.contentDispositionFilename=lt.contentDispositionFilename);const st=await ot.messageHandler.sendWithPromise("GetDocRequest",{docId:tt,apiVersion:"2.16.105",source:{data:b.data,url:b.url,password:b.password,disableAutoFetch:b.disableAutoFetch,rangeChunkSize:b.rangeChunkSize,length:b.length},maxImageSize:b.maxImageSize,disableFontFace:b.disableFontFace,docBaseUrl:b.docBaseUrl,ignoreErrors:b.ignoreErrors,isEvalSupported:b.isEvalSupported,fontExtraProperties:b.fontExtraProperties,enableXfa:b.enableXfa,useSystemFonts:b.useSystemFonts,cMapUrl:b.useWorkerFetch?b.cMapUrl:null,standardFontDataUrl:b.useWorkerFetch?b.standardFontDataUrl:null});if(b.data&&(b.data=null),ot.destroyed)throw new Error("Worker was destroyed");return st}const s=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${Kn(s,i)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var b;this.destroyed=!0,await((b=this._transport)==null?void 0:b.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};let PDFDocumentLoadingTask=s;i=new WeakMap,Yt(PDFDocumentLoadingTask,i,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(b,lt,tt=!1,st=null){this.length=b,this.initialData=lt,this.progressiveDone=tt,this.contentDispositionFilename=st,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(b){this._rangeListeners.push(b)}addProgressListener(b){this._progressListeners.push(b)}addProgressiveReadListener(b){this._progressiveReadListeners.push(b)}addProgressiveDoneListener(b){this._progressiveDoneListeners.push(b)}onDataRange(b,lt){for(const tt of this._rangeListeners)tt(b,lt)}onDataProgress(b,lt){this._readyCapability.promise.then(()=>{for(const tt of this._progressListeners)tt(b,lt)})}onDataProgressiveRead(b){this._readyCapability.promise.then(()=>{for(const lt of this._progressiveReadListeners)lt(b)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const b of this._progressiveDoneListeners)b()})}transportReady(){this._readyCapability.resolve()}requestDataRange(b,lt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(b,lt){this._pdfInfo=b,this._transport=lt,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(b){return this._transport.getPage(b)}getPageIndex(b){return this._transport.getPageIndex(b)}getDestinations(){return this._transport.getDestinations()}getDestination(b){return this._transport.getDestination(b)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(b=!1){return this._transport.startCleanup(b||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(b,lt,tt,st,et=!1){this._pageIndex=b,this._pageInfo=lt,this._ownerDocument=st,this._transport=tt,this._stats=et?new _display_utils.StatTimer:null,this._pdfBug=et,this.commonObjs=tt.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:b,rotation:lt=this.rotate,offsetX:tt=0,offsetY:st=0,dontFlip:et=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:b,rotation:lt,offsetX:tt,offsetY:st,dontFlip:et})}getAnnotations({intent:b="display"}={}){const lt=this._transport.getRenderingIntent(b);let tt=this._annotationPromises.get(lt.cacheKey);return tt||(tt=this._transport.getAnnotations(this._pageIndex,lt.renderingIntent),this._annotationPromises.set(lt.cacheKey,tt),tt=tt.then(st=>{for(const et of st)et.titleObj!==void 0&&Object.defineProperty(et,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),et.titleObj.str}}),et.contentsObj!==void 0&&Object.defineProperty(et,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),et.contentsObj.str}});return st})),tt}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var b;return((b=this._transport._htmlForXfa)==null?void 0:b.children[this._pageIndex])||null}render({canvasContext:b,viewport:lt,intent:tt="display",annotationMode:st=_util.AnnotationMode.ENABLE,transform:et=null,imageLayer:g=null,canvasFactory:_e=null,background:it=null,optionalContentConfigPromise:gt=null,annotationCanvasMap:rt=null,pageColors:at=null,printAnnotationStorage:ct=null}){var Rt,Bt;((Rt=arguments[0])==null?void 0:Rt.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&st===_util.AnnotationMode.ENABLE&&(st=_util.AnnotationMode.ENABLE_FORMS)),((Bt=arguments[0])==null?void 0:Bt.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&st===_util.AnnotationMode.ENABLE&&(st=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const St=this._transport.getRenderingIntent(tt,st,ct);this.pendingCleanup=!1,gt||(gt=this._transport.getOptionalContentConfig());let wt=this._intentStates.get(St.cacheKey);wt||(wt=Object.create(null),this._intentStates.set(St.cacheKey,wt)),wt.streamReaderCancelTimeout&&(clearTimeout(wt.streamReaderCancelTimeout),wt.streamReaderCancelTimeout=null);const Lt=_e||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),Mt=!!(St.renderingIntent&_util.RenderingIntentFlag.PRINT);wt.displayReadyCapability||(wt.displayReadyCapability=(0,_util.createPromiseCapability)(),wt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(St));const zt=Ht=>{wt.renderTasks.delete(Ut),(this.cleanupAfterRender||Mt)&&(this.pendingCleanup=!0),this._tryCleanup(),Ht?(Ut.capability.reject(Ht),this._abortOperatorList({intentState:wt,reason:Ht instanceof Error?Ht:new Error(Ht)})):Ut.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},Ut=new InternalRenderTask({callback:zt,params:{canvasContext:b,viewport:lt,transform:et,imageLayer:g,background:it},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:rt,operatorList:wt.operatorList,pageIndex:this._pageIndex,canvasFactory:Lt,useRequestAnimationFrame:!Mt,pdfBug:this._pdfBug,pageColors:at});(wt.renderTasks||(wt.renderTasks=new Set)).add(Ut);const Dt=Ut.task;return Promise.all([wt.displayReadyCapability.promise,gt]).then(([Ht,qt])=>{if(this.pendingCleanup){zt();return}this._stats&&this._stats.time("Rendering"),Ut.initializeGraphics({transparency:Ht,optionalContentConfig:qt}),Ut.operatorListChanged()}).catch(zt),Dt}getOperatorList({intent:b="display",annotationMode:lt=_util.AnnotationMode.ENABLE,printAnnotationStorage:tt=null}={}){function st(){g.operatorList.lastChunk&&(g.opListReadCapability.resolve(g.operatorList),g.renderTasks.delete(_e))}const et=this._transport.getRenderingIntent(b,lt,tt,!0);let g=this._intentStates.get(et.cacheKey);g||(g=Object.create(null),this._intentStates.set(et.cacheKey,g));let _e;return g.opListReadCapability||(_e=Object.create(null),_e.operatorListChanged=st,g.opListReadCapability=(0,_util.createPromiseCapability)(),(g.renderTasks||(g.renderTasks=new Set)).add(_e),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(et)),g.opListReadCapability.promise}streamTextContent({disableCombineTextItems:b=!1,includeMarkedContent:lt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:b!==!0,includeMarkedContent:lt===!0},{highWaterMark:100,size(st){return st.items.length}})}getTextContent(b={}){if(this._transport._htmlForXfa)return this.getXfa().then(tt=>_xfa_text.XfaText.textContent(tt));const lt=this.streamTextContent(b);return new Promise(function(tt,st){function et(){g.read().then(function({value:it,done:gt}){if(gt){tt(_e);return}Object.assign(_e.styles,it.styles),_e.items.push(...it.items),et()},st)}const g=lt.getReader(),_e={items:[],styles:Object.create(null)};et()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const b=[];for(const lt of this._intentStates.values())if(this._abortOperatorList({intentState:lt,reason:new Error("Page was destroyed."),force:!0}),!lt.opListReadCapability)for(const tt of lt.renderTasks)b.push(tt.completed),tt.cancel();this.objs.clear();for(const lt of this._bitmaps)lt.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(b)}cleanup(b=!1){return this.pendingCleanup=!0,this._tryCleanup(b)}_tryCleanup(b=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:lt,operatorList:tt}of this._intentStates.values())if(lt.size>0||!tt.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,b&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const lt of this._bitmaps)lt.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(b,lt){const tt=this._intentStates.get(lt);tt&&(this._stats&&this._stats.timeEnd("Page Request"),tt.displayReadyCapability&&tt.displayReadyCapability.resolve(b))}_renderPageChunk(b,lt){for(let tt=0,st=b.length;tt<st;tt++)lt.operatorList.fnArray.push(b.fnArray[tt]),lt.operatorList.argsArray.push(b.argsArray[tt]);lt.operatorList.lastChunk=b.lastChunk,lt.operatorList.separateAnnots=b.separateAnnots;for(const tt of lt.renderTasks)tt.operatorListChanged();b.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:b,cacheKey:lt,annotationStorageMap:tt}){const et=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:b,cacheKey:lt,annotationStorage:tt}).getReader(),g=this._intentStates.get(lt);g.streamReader=et;const _e=()=>{et.read().then(({value:it,done:gt})=>{if(gt){g.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(it,g),_e())},it=>{if(g.streamReader=null,!this._transport.destroyed){if(g.operatorList){g.operatorList.lastChunk=!0;for(const gt of g.renderTasks)gt.operatorListChanged();this._tryCleanup()}if(g.displayReadyCapability)g.displayReadyCapability.reject(it);else if(g.opListReadCapability)g.opListReadCapability.reject(it);else throw it}})};_e()}_abortOperatorList({intentState:b,reason:lt,force:tt=!1}){if(b.streamReader){if(!tt){if(b.renderTasks.size>0)return;if(lt instanceof _display_utils.RenderingCancelledException){b.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:b,reason:lt,force:!0}),b.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(b.streamReader.cancel(new _util.AbortException(lt.message)).catch(()=>{}),b.streamReader=null,!this._transport.destroyed){for(const[st,et]of this._intentStates)if(et===b){this._intentStates.delete(st);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(b,lt){const tt={data:structuredClone(b,lt)};this._deferred.then(()=>{for(const st of this._listeners)st.call(this,tt)})}addEventListener(b,lt){this._listeners.push(lt)}removeEventListener(b,lt){const tt=this._listeners.indexOf(lt);this._listeners.splice(tt,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const ot=(o=document==null?void 0:document.currentScript)==null?void 0:o.src;ot&&(PDFWorkerUtil.fallbackWorkerSrc=ot.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(ot,b){let lt;try{if(lt=new URL(ot),!lt.origin||lt.origin==="null")return!1}catch{return!1}const tt=new URL(b,lt);return lt.origin===tt.origin},PDFWorkerUtil.createCDNWrapper=function(ot){const b=`importScripts("${ot}");`;return URL.createObjectURL(new Blob([b]))}}const _PDFWorker=class{constructor({name:ot=null,port:b=null,verbosity:lt=(0,_util.getVerbosityLevel)()}={}){if(b&&bt(_PDFWorker,a).has(b))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=ot,this.destroyed=!1,this.verbosity=lt,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,b){bt(_PDFWorker,a).set(b,this),this._initializeFromPort(b);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ot){this._port=ot,this._messageHandler=new _message_handler.MessageHandler("main","worker",ot),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:ot}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,ot)||(ot=PDFWorkerUtil.createCDNWrapper(new URL(ot,window.location).href));const b=new Worker(ot),lt=new _message_handler.MessageHandler("main","worker",b),tt=()=>{b.removeEventListener("error",st),lt.destroy(),b.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},st=()=>{this._webWorker||tt()};b.addEventListener("error",st),lt.on("test",g=>{if(b.removeEventListener("error",st),this.destroyed){tt();return}g?(this._messageHandler=lt,this._port=b,this._webWorker=b,this._readyCapability.resolve(),lt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),lt.destroy(),b.terminate())}),lt.on("ready",g=>{if(b.removeEventListener("error",st),this.destroyed){tt();return}try{et()}catch{this._setupFakeWorker()}});const et=()=>{const g=new Uint8Array;lt.send("test",g,[g.buffer])};et();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(ot=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const b=new LoopbackPort;this._port=b;const lt=`fake${PDFWorkerUtil.fakeWorkerId++}`,tt=new _message_handler.MessageHandler(lt+"_worker",lt,b);ot.setup(tt,b);const st=new _message_handler.MessageHandler(lt,lt+"_worker",b);this._messageHandler=st,this._readyCapability.resolve(),st.send("configure",{verbosity:this.verbosity})}).catch(ot=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${ot.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),bt(_PDFWorker,a).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ot){if(!(ot!=null&&ot.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return bt(this,a).has(ot.port)?bt(this,a).get(ot.port):new _PDFWorker(ot)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var ot;try{return((ot=globalThis.pdfjsWorker)==null?void 0:ot.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;a=new WeakMap,Yt(PDFWorker,a,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(b,lt,tt,st){Yt(this,c,null);Yt(this,d,new Map);Yt(this,_,new Map);Yt(this,j,null);this.messageHandler=b,this.loadingTask=lt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:lt.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:st.ownerDocument,styleElement:st.styleElement}),this._params=st,st.useWorkerFetch||(this.CMapReaderFactory=new st.CMapReaderFactory({baseUrl:st.cMapUrl,isCompressed:st.cMapPacked}),this.StandardFontDataFactory=new st.StandardFontDataFactory({baseUrl:st.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=tt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return bt(this,c)}getRenderingIntent(b,lt=_util.AnnotationMode.ENABLE,tt=null,st=!1){let et=_util.RenderingIntentFlag.DISPLAY,g=null;switch(b){case"any":et=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":et=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${b}`)}switch(lt){case _util.AnnotationMode.DISABLE:et+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:et+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:et+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,g=(et&_util.RenderingIntentFlag.PRINT&&tt instanceof _annotation_storage.PrintAnnotationStorage?tt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${lt}`)}return st&&(et+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:et,cacheKey:`${et}_${_annotation_storage.AnnotationStorage.getHash(g)}`,annotationStorageMap:g}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const b=[];for(const tt of bt(this,d).values())b.push(tt._destroy());bt(this,d).clear(),bt(this,_).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const lt=this.messageHandler.sendWithPromise("Terminate",null);return b.push(lt),Promise.all(b).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),on(this,j,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:b,loadingTask:lt}=this;b.on("GetReader",(tt,st)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=et=>{this._lastProgress={loaded:et.loaded,total:et.total}},st.onPull=()=>{this._fullReader.read().then(function({value:et,done:g}){if(g){st.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(et),"GetReader - expected an ArrayBuffer."),st.enqueue(new Uint8Array(et),1,[et])}).catch(et=>{st.error(et)})},st.onCancel=et=>{this._fullReader.cancel(et),st.ready.catch(g=>{if(!this.destroyed)throw g})}}),b.on("ReaderHeadersReady",tt=>{const st=(0,_util.createPromiseCapability)(),et=this._fullReader;return et.headersReady.then(()=>{var g;(!et.isStreamingSupported||!et.isRangeSupported)&&(this._lastProgress&&((g=lt.onProgress)==null||g.call(lt,this._lastProgress)),et.onProgress=_e=>{var it;(it=lt.onProgress)==null||it.call(lt,{loaded:_e.loaded,total:_e.total})}),st.resolve({isStreamingSupported:et.isStreamingSupported,isRangeSupported:et.isRangeSupported,contentLength:et.contentLength})},st.reject),st.promise}),b.on("GetRangeReader",(tt,st)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const et=this._networkStream.getRangeReader(tt.begin,tt.end);if(!et){st.close();return}st.onPull=()=>{et.read().then(function({value:g,done:_e}){if(_e){st.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(g),"GetRangeReader - expected an ArrayBuffer."),st.enqueue(new Uint8Array(g),1,[g])}).catch(g=>{st.error(g)})},st.onCancel=g=>{et.cancel(g),st.ready.catch(_e=>{if(!this.destroyed)throw _e})}}),b.on("GetDoc",({pdfInfo:tt})=>{this._numPages=tt.numPages,this._htmlForXfa=tt.htmlForXfa,delete tt.htmlForXfa,lt._capability.resolve(new PDFDocumentProxy(tt,this))}),b.on("DocException",function(tt){let st;switch(tt.name){case"PasswordException":st=new _util.PasswordException(tt.message,tt.code);break;case"InvalidPDFException":st=new _util.InvalidPDFException(tt.message);break;case"MissingPDFException":st=new _util.MissingPDFException(tt.message);break;case"UnexpectedResponseException":st=new _util.UnexpectedResponseException(tt.message,tt.status);break;case"UnknownErrorException":st=new _util.UnknownErrorException(tt.message,tt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}lt._capability.reject(st)}),b.on("PasswordRequest",tt=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),lt.onPassword){const st=et=>{et instanceof Error?this._passwordCapability.reject(et):this._passwordCapability.resolve({password:et})};try{lt.onPassword(st,tt.code)}catch(et){this._passwordCapability.reject(et)}}else this._passwordCapability.reject(new _util.PasswordException(tt.message,tt.code));return this._passwordCapability.promise}),b.on("DataLoaded",tt=>{var st;(st=lt.onProgress)==null||st.call(lt,{loaded:tt.length,total:tt.length}),this.downloadInfoCapability.resolve(tt)}),b.on("StartRenderPage",tt=>{if(this.destroyed)return;bt(this,d).get(tt.pageIndex)._startRenderPage(tt.transparency,tt.cacheKey)}),b.on("commonobj",([tt,st,et])=>{var g;if(!this.destroyed&&!this.commonObjs.has(tt))switch(st){case"Font":const _e=this._params;if("error"in et){const rt=et.error;(0,_util.warn)(`Error during font loading: ${rt}`),this.commonObjs.resolve(tt,rt);break}let it=null;_e.pdfBug&&((g=globalThis.FontInspector)!=null&&g.enabled)&&(it={registerFont(rt,at){globalThis.FontInspector.fontAdded(rt,at)}});const gt=new _font_loader.FontFaceObject(et,{isEvalSupported:_e.isEvalSupported,disableFontFace:_e.disableFontFace,ignoreErrors:_e.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:it});this.fontLoader.bind(gt).catch(rt=>b.sendWithPromise("FontFallback",{id:tt})).finally(()=>{!_e.fontExtraProperties&&gt.data&&(gt.data=null),this.commonObjs.resolve(tt,gt)});break;case"FontPath":case"Image":this.commonObjs.resolve(tt,et);break;default:throw new Error(`Got unknown common object type ${st}`)}}),b.on("obj",([tt,st,et,g])=>{var it;if(this.destroyed)return;const _e=bt(this,d).get(st);if(!_e.objs.has(tt))switch(et){case"Image":_e.objs.resolve(tt,g);const gt=8e6;if(g){let rt;if(g.bitmap){const{bitmap:at,width:ct,height:St}=g;rt=ct*St*4,_e._bitmaps.add(at)}else rt=((it=g.data)==null?void 0:it.length)||0;rt>gt&&(_e.cleanupAfterRender=!0)}break;case"Pattern":_e.objs.resolve(tt,g);break;default:throw new Error(`Got unknown object type ${et}`)}}),b.on("DocProgress",tt=>{var st;this.destroyed||(st=lt.onProgress)==null||st.call(lt,{loaded:tt.loaded,total:tt.total})}),b.on("DocStats",tt=>{this.destroyed||on(this,c,Object.freeze({streamTypes:Object.freeze(tt.streamTypes),fontTypes:Object.freeze(tt.fontTypes)}))}),b.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),b.on("FetchBuiltInCMap",tt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(tt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),b.on("FetchStandardFontData",tt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(tt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:b}){var lt,tt;this.destroyed||(tt=(lt=this.loadingTask).onUnsupportedFeature)==null||tt.call(lt,b)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(b){if(!Number.isInteger(b)||b<=0||b>this._numPages)return Promise.reject(new Error("Invalid page request."));const lt=b-1,tt=bt(this,_).get(lt);if(tt)return tt;const st=this.messageHandler.sendWithPromise("GetPage",{pageIndex:lt}).then(et=>{if(this.destroyed)throw new Error("Transport destroyed");const g=new PDFPageProxy(lt,et,this,this._params.ownerDocument,this._params.pdfBug);return bt(this,d).set(lt,g),g});return bt(this,_).set(lt,st),st}getPageIndex(b){return typeof b!="object"||b===null||!Number.isInteger(b.num)||b.num<0||!Number.isInteger(b.gen)||b.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:b.num,gen:b.gen})}getAnnotations(b,lt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:b,intent:lt})}saveDocument(){var b;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((b=this._fullReader)==null?void 0:b.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(b){return typeof b!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:b})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(b){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:b})}getStructTree(b){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:b})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(b=>new _optional_content_config.OptionalContentConfig(b))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return bt(this,j)||on(this,j,this.messageHandler.sendWithPromise("GetMetadata",null).then(b=>{var lt,tt;return{info:b[0],metadata:b[1]?new _metadata.Metadata(b[1]):null,contentDispositionFilename:((lt=this._fullReader)==null?void 0:lt.filename)??null,contentLength:((tt=this._fullReader)==null?void 0:tt.contentLength)??null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(b=!1){if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const lt of bt(this,d).values())if(!lt.cleanup())throw new Error(`startCleanup: Page ${lt.pageNumber} is currently rendering.`);this.commonObjs.clear(),b||this.fontLoader.clear(),on(this,j,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const b=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:b.disableAutoFetch,enableXfa:b.enableXfa})}}c=new WeakMap,d=new WeakMap,_=new WeakMap,j=new WeakMap;class PDFObjects{constructor(){Yt(this,nt);Yt(this,$,Object.create(null))}get(b,lt=null){if(lt){const st=Jt(this,nt,Yn).call(this,b);return st.capability.promise.then(()=>lt(st.data)),null}const tt=bt(this,$)[b];if(!(tt!=null&&tt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${b}.`);return tt.data}has(b){const lt=bt(this,$)[b];return(lt==null?void 0:lt.capability.settled)||!1}resolve(b,lt=null){const tt=Jt(this,nt,Yn).call(this,b);tt.data=lt,tt.capability.resolve()}clear(){on(this,$,Object.create(null))}}$=new WeakMap,nt=new WeakSet,Yn=function(b){const lt=bt(this,$)[b];return lt||(bt(this,$)[b]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(b){Yt(this,ft,null);on(this,ft,b),this.onContinue=null}get promise(){return bt(this,ft).capability.promise}cancel(){bt(this,ft).cancel()}get separateAnnots(){const{separateAnnots:b}=bt(this,ft).operatorList;if(!b)return!1;const{annotationCanvasMap:lt}=bt(this,ft);return b.form||b.canvas&&(lt==null?void 0:lt.size)>0}}ft=new WeakMap,exports.RenderTask=RenderTask;const pt=class{constructor({callback:b,params:lt,objs:tt,commonObjs:st,annotationCanvasMap:et,operatorList:g,pageIndex:_e,canvasFactory:it,useRequestAnimationFrame:gt=!1,pdfBug:rt=!1,pageColors:at=null}){this.callback=b,this.params=lt,this.objs=tt,this.commonObjs=st,this.annotationCanvasMap=et,this.operatorListIdx=null,this.operatorList=g,this._pageIndex=_e,this.canvasFactory=it,this._pdfBug=rt,this.pageColors=at,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=gt===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=lt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:b=!1,optionalContentConfig:lt}){var it;if(this.cancelled)return;if(this._canvas){if(bt(pt,ht).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");bt(pt,ht).add(this._canvas)}this._pdfBug&&((it=globalThis.StepperManager)!=null&&it.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:tt,viewport:st,transform:et,imageLayer:g,background:_e}=this.params;this.gfx=new _canvas.CanvasGraphics(tt,this.commonObjs,this.objs,this.canvasFactory,g,lt,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:et,viewport:st,transparency:b,background:_e}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(b=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&bt(pt,ht).delete(this._canvas),this.callback(b||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&bt(pt,ht).delete(this._canvas),this.callback())))}};let InternalRenderTask=pt;ht=new WeakMap,Yt(InternalRenderTask,ht,new WeakSet);const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(i,s,o)=>{var $,fr,dt;Object.defineProperty(s,"__esModule",{value:!0}),s.PrintAnnotationStorage=s.AnnotationStorage=void 0;var a=o(1),c=o(6),d=o(10);class _{constructor(){Yt(this,$);this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(ht,pt){const ot=this._storage.get(ht);return ot===void 0?pt:Object.assign(pt,ot)}getRawValue(ht){return this._storage.get(ht)}remove(ht){if(this._storage.delete(ht),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const pt of this._storage.values())if(pt instanceof c.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(ht,pt){const ot=this._storage.get(ht);let b=!1;if(ot!==void 0)for(const[lt,tt]of Object.entries(pt))ot[lt]!==tt&&(b=!0,ot[lt]=tt);else b=!0,this._storage.set(ht,pt);b&&Jt(this,$,fr).call(this),pt instanceof c.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(pt.constructor._type)}has(ht){return this._storage.has(ht)}getAll(){return this._storage.size>0?(0,a.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new j(this)}get serializable(){if(this._storage.size===0)return null;const ht=new Map;for(const[pt,ot]of this._storage){const b=ot instanceof c.AnnotationEditor?ot.serialize():ot;b&&ht.set(pt,b)}return ht}static getHash(ht){if(!ht)return"";const pt=new d.MurmurHash3_64;for(const[ot,b]of ht)pt.update(`${ot}:${JSON.stringify(b)}`);return pt.hexdigest()}}$=new WeakSet,fr=function(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())},s.AnnotationStorage=_;class j extends _{constructor(pt){super();Yt(this,dt,null);on(this,dt,structuredClone(pt.serializable))}get print(){(0,a.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return bt(this,dt)}}dt=new WeakMap,s.PrintAnnotationStorage=j},(i,s,o)=>{var _,j,$,nt,dt,ft;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditor=void 0;var a=o(7),c=o(1);const ht=class{constructor(ot){Yt(this,_,this.focusin.bind(this));Yt(this,j,this.focusout.bind(this));Yt(this,$,!1);Yt(this,nt,!1);Yt(this,dt,!1);Yt(this,ft,ht._zIndex++);this.constructor===ht&&(0,c.unreachable)("Cannot initialize AnnotationEditor."),this.parent=ot.parent,this.id=ot.id,this.width=this.height=null,this.pageIndex=ot.parent.pageIndex,this.name=ot.name,this.div=null;const[b,lt]=this.parent.viewportBaseDimensions;this.x=ot.x/b,this.y=ot.y/lt,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,c.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=bt(this,ft)}focusin(ot){bt(this,$)?on(this,$,!1):this.parent.setSelected(this)}focusout(ot){if(!this.isAttachedToDOM)return;const b=ot.relatedTarget;b!=null&&b.closest(`#${this.id}`)||(ot.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(ot){const b=this.parent.div.getBoundingClientRect();this.startX=ot.clientX-b.x,this.startY=ot.clientY-b.y,ot.dataTransfer.setData("text/plain",this.id),ot.dataTransfer.effectAllowed="move"}setAt(ot,b,lt,tt){const[st,et]=this.parent.viewportBaseDimensions;[lt,tt]=this.screenToPageTranslation(lt,tt),this.x=(ot+lt)/st,this.y=(b+tt)/et,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(ot,b){const[lt,tt]=this.parent.viewportBaseDimensions;[ot,b]=this.screenToPageTranslation(ot,b),this.x+=ot/lt,this.y+=b/tt,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(ot,b){const{rotation:lt}=this.parent.viewport;switch(lt){case 90:return[b,-ot];case 180:return[-ot,-b];case 270:return[-b,ot];default:return[ot,b]}}setDims(ot,b){const[lt,tt]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*ot/lt}%`,this.div.style.height=`${100*b/tt}%`}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",bt(this,_)),this.div.addEventListener("focusout",bt(this,j));const[ot,b]=this.getInitialTranslation();return this.translate(ot,b),(0,a.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(ot){const b=a.KeyboardManager.platform.isMac;if(ot.button!==0||ot.ctrlKey&&b){ot.preventDefault();return}ot.ctrlKey&&!b||ot.shiftKey||ot.metaKey&&b?this.parent.toggleSelected(this):this.parent.setSelected(this),on(this,$,!0)}getRect(ot,b){const[lt,tt]=this.parent.viewportBaseDimensions,[st,et]=this.parent.pageDimensions,g=st*ot/lt,_e=et*b/tt,it=this.x*st,gt=this.y*et,rt=this.width*st,at=this.height*et;switch(this.rotation){case 0:return[it+g,et-gt-_e-at,it+g+rt,et-gt-_e];case 90:return[it+_e,et-gt+g,it+_e+at,et-gt+g+rt];case 180:return[it-g-rt,et-gt+_e,it-g,et-gt+_e+at];case 270:return[it-_e-at,et-gt-g-rt,it-_e,et-gt-g];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(ot,b){const[lt,tt,st,et]=ot,g=st-lt,_e=et-tt;switch(this.rotation){case 0:return[lt,b-et,g,_e];case 90:return[lt,b-tt,_e,g];case 180:return[st,b-tt,g,_e];case 270:return[st,b-et,_e,g];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){on(this,dt,!0)}disableEditMode(){on(this,dt,!1)}isInEditMode(){return bt(this,dt)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var ot;(ot=this.div)==null||ot.addEventListener("focusin",bt(this,_))}serialize(){(0,c.unreachable)("An editor must be serializable")}static deserialize(ot,b){const lt=new this.prototype.constructor({parent:b,id:b.getNextId()});lt.rotation=ot.rotation;const[tt,st]=b.pageDimensions,[et,g,_e,it]=lt.getRectInCurrentCoords(ot.rect,st);return lt.x=et/tt,lt.y=g/st,lt.width=_e/tt,lt.height=it/st,lt}remove(){this.div.removeEventListener("focusin",bt(this,_)),this.div.removeEventListener("focusout",bt(this,j)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var ot;(ot=this.div)==null||ot.classList.add("selectedEditor")}unselect(){var ot;(ot=this.div)==null||ot.classList.remove("selectedEditor")}updateParams(ot,b){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return bt(this,nt)}set isEditing(ot){on(this,nt,ot),ot?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};let d=ht;_=new WeakMap,j=new WeakMap,$=new WeakMap,nt=new WeakMap,dt=new WeakMap,ft=new WeakMap,En(d,"_colorManager",new a.ColorManager),En(d,"_zIndex",1),s.AnnotationEditor=d},(i,s,o)=>{var pt,ot,b,lt,tt,st,pr,_e,gt,rt,at,ct,St,wt,Lt,Mt,zt,Ut,Dt,Rt,Bt,Ht,qt,Ct,yt,mt,gr,Tt,Qn,Ft,Pn,$t,Bn,vt,mr,Et,yr,Ot,Zn,en,Un,Qt,Wn;Object.defineProperty(s,"__esModule",{value:!0}),s.KeyboardManager=s.CommandManager=s.ColorManager=s.AnnotationEditorUIManager=void 0,s.bindEvents=d,s.opacityToHex=_;var a=o(1),c=o(8);function d(nn,Pt,tn){for(const ln of tn)Pt.addEventListener(ln,nn[ln].bind(nn))}function _(nn){return Math.round(Math.min(255,Math.max(1,255*nn))).toString(16).padStart(2,"0")}class j{constructor(){Yt(this,pt,0)}getId(){return`${a.AnnotationEditorPrefix}${Kn(this,pt)._++}`}}pt=new WeakMap;class ${constructor(Pt=128){Yt(this,ot,[]);Yt(this,b,!1);Yt(this,lt,void 0);Yt(this,tt,-1);on(this,lt,Pt)}add({cmd:Pt,undo:tn,mustExec:ln,type:un=NaN,overwriteIfSameType:hn=!1,keepUndo:pn=!1}){if(ln&&Pt(),bt(this,b))return;const Sn={cmd:Pt,undo:tn,type:un};if(bt(this,tt)===-1){bt(this,ot).length>0&&(bt(this,ot).length=0),on(this,tt,0),bt(this,ot).push(Sn);return}if(hn&&bt(this,ot)[bt(this,tt)].type===un){pn&&(Sn.undo=bt(this,ot)[bt(this,tt)].undo),bt(this,ot)[bt(this,tt)]=Sn;return}const _n=bt(this,tt)+1;_n===bt(this,lt)?bt(this,ot).splice(0,1):(on(this,tt,_n),_n<bt(this,ot).length&&bt(this,ot).splice(_n)),bt(this,ot).push(Sn)}undo(){bt(this,tt)!==-1&&(on(this,b,!0),bt(this,ot)[bt(this,tt)].undo(),on(this,b,!1),on(this,tt,bt(this,tt)-1))}redo(){bt(this,tt)<bt(this,ot).length-1&&(on(this,tt,bt(this,tt)+1),on(this,b,!0),bt(this,ot)[bt(this,tt)].cmd(),on(this,b,!1))}hasSomethingToUndo(){return bt(this,tt)!==-1}hasSomethingToRedo(){return bt(this,tt)<bt(this,ot).length-1}destroy(){on(this,ot,null)}}ot=new WeakMap,b=new WeakMap,lt=new WeakMap,tt=new WeakMap,s.CommandManager=$;const g=class{constructor(Pt){Yt(this,st);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const tn=g.platform.isMac;for(const[ln,un]of Pt)for(const hn of ln){const pn=hn.startsWith("mac+");tn&&pn?(this.callbacks.set(hn.slice(4),un),this.allKeys.add(hn.split("+").at(-1))):!tn&&!pn&&(this.callbacks.set(hn,un),this.allKeys.add(hn.split("+").at(-1)))}}static get platform(){const Pt=typeof navigator<"u"?navigator.platform:"";return(0,a.shadow)(this,"platform",{isWin:Pt.includes("Win"),isMac:Pt.includes("Mac")})}exec(Pt,tn){if(!this.allKeys.has(tn.key))return;const ln=this.callbacks.get(Jt(this,st,pr).call(this,tn));ln&&(ln.bind(Pt)(),tn.stopPropagation(),tn.preventDefault())}};let nt=g;st=new WeakSet,pr=function(Pt){Pt.altKey&&this.buffer.push("alt"),Pt.ctrlKey&&this.buffer.push("ctrl"),Pt.metaKey&&this.buffer.push("meta"),Pt.shiftKey&&this.buffer.push("shift"),this.buffer.push(Pt.key);const tn=this.buffer.join("+");return this.buffer.length=0,tn},s.KeyboardManager=nt;class dt{constructor(){Yt(this,_e,null)}copy(Pt){Pt&&(Array.isArray(Pt)?on(this,_e,Pt.map(tn=>tn.serialize())):on(this,_e,[Pt.serialize()]),on(this,_e,bt(this,_e).filter(tn=>!!tn)),bt(this,_e).length===0&&on(this,_e,null))}paste(){return bt(this,_e)}isEmpty(){return bt(this,_e)===null}destroy(){on(this,_e,null)}}_e=new WeakMap;const it=class{get _colors(){const Pt=new Map([["CanvasText",null],["Canvas",null]]);return(0,c.getColorValues)(Pt),(0,a.shadow)(this,"_colors",Pt)}convert(Pt){const tn=(0,c.getRGB)(Pt);if(!window.matchMedia("(forced-colors: active)").matches)return tn;for(const[ln,un]of this._colors)if(un.every((hn,pn)=>hn===tn[pn]))return it._colorsMapping.get(ln);return tn}getHexCode(Pt){const tn=this._colors.get(Pt);return tn?a.Util.makeHexColor(...tn):Pt}};let ft=it;En(ft,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),s.ColorManager=ft;const Zt=class{constructor(Pt,tn){Yt(this,mt);Yt(this,Tt);Yt(this,Ft);Yt(this,$t);Yt(this,vt);Yt(this,Et);Yt(this,Ot);Yt(this,en);Yt(this,Qt);Yt(this,gt,null);Yt(this,rt,new Map);Yt(this,at,new Map);Yt(this,ct,new dt);Yt(this,St,new $);Yt(this,wt,0);Yt(this,Lt,null);Yt(this,Mt,null);Yt(this,zt,new j);Yt(this,Ut,!1);Yt(this,Dt,a.AnnotationEditorType.NONE);Yt(this,Rt,new Set);Yt(this,Bt,this.keydown.bind(this));Yt(this,Ht,this.onEditingAction.bind(this));Yt(this,qt,this.onPageChanging.bind(this));Yt(this,Ct,{isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Yt(this,yt,null);on(this,yt,Pt),on(this,Mt,tn),bt(this,Mt)._on("editingaction",bt(this,Ht)),bt(this,Mt)._on("pagechanging",bt(this,qt))}destroy(){Jt(this,Tt,Qn).call(this),bt(this,Mt)._off("editingaction",bt(this,Ht)),bt(this,Mt)._off("pagechanging",bt(this,qt));for(const Pt of bt(this,at).values())Pt.destroy();bt(this,at).clear(),bt(this,rt).clear(),on(this,gt,null),bt(this,Rt).clear(),bt(this,ct).destroy(),bt(this,St).destroy()}onPageChanging({pageNumber:Pt}){on(this,wt,Pt-1)}focusMainContainer(){bt(this,yt).focus()}keydown(Pt){var tn;(tn=this.getActive())!=null&&tn.shouldGetKeyboardEvents()||Zt._keyboardManager.exec(this,Pt)}onEditingAction(Pt){["undo","redo","cut","copy","paste","delete","selectAll"].includes(Pt.name)&&this[Pt.name]()}setEditingState(Pt){Pt?(Jt(this,mt,gr).call(this),Jt(this,Ft,Pn).call(this,{isEditing:bt(this,Dt)!==a.AnnotationEditorType.NONE,isEmpty:Jt(this,en,Un).call(this),hasSomethingToUndo:bt(this,St).hasSomethingToUndo(),hasSomethingToRedo:bt(this,St).hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:bt(this,ct).isEmpty()})):(Jt(this,Tt,Qn).call(this),Jt(this,Ft,Pn).call(this,{isEditing:!1}))}registerEditorTypes(Pt){on(this,Lt,Pt);for(const tn of bt(this,Lt))Jt(this,$t,Bn).call(this,tn.defaultPropertiesToUpdate)}getId(){return bt(this,zt).getId()}addLayer(Pt){bt(this,at).set(Pt.pageIndex,Pt),bt(this,Ut)?Pt.enable():Pt.disable()}removeLayer(Pt){bt(this,at).delete(Pt.pageIndex)}updateMode(Pt){if(on(this,Dt,Pt),Pt===a.AnnotationEditorType.NONE)this.setEditingState(!1),Jt(this,Et,yr).call(this);else{this.setEditingState(!0),Jt(this,vt,mr).call(this);for(const tn of bt(this,at).values())tn.updateMode(Pt)}}updateToolbar(Pt){Pt!==bt(this,Dt)&&bt(this,Mt).dispatch("switchannotationeditormode",{source:this,mode:Pt})}updateParams(Pt,tn){for(const ln of bt(this,Rt))ln.updateParams(Pt,tn);for(const ln of bt(this,Lt))ln.updateDefaultParams(Pt,tn)}getEditors(Pt){const tn=[];for(const ln of bt(this,rt).values())ln.pageIndex===Pt&&tn.push(ln);return tn}getEditor(Pt){return bt(this,rt).get(Pt)}addEditor(Pt){bt(this,rt).set(Pt.id,Pt)}removeEditor(Pt){bt(this,rt).delete(Pt.id),this.unselect(Pt)}setActiveEditor(Pt){bt(this,gt)!==Pt&&(on(this,gt,Pt),Pt&&Jt(this,$t,Bn).call(this,Pt.propertiesToUpdate))}toggleSelected(Pt){if(bt(this,Rt).has(Pt)){bt(this,Rt).delete(Pt),Pt.unselect(),Jt(this,Ft,Pn).call(this,{hasSelectedEditor:this.hasSelection});return}bt(this,Rt).add(Pt),Pt.select(),Jt(this,$t,Bn).call(this,Pt.propertiesToUpdate),Jt(this,Ft,Pn).call(this,{hasSelectedEditor:!0})}setSelected(Pt){for(const tn of bt(this,Rt))tn!==Pt&&tn.unselect();bt(this,Rt).clear(),bt(this,Rt).add(Pt),Pt.select(),Jt(this,$t,Bn).call(this,Pt.propertiesToUpdate),Jt(this,Ft,Pn).call(this,{hasSelectedEditor:!0})}isSelected(Pt){return bt(this,Rt).has(Pt)}unselect(Pt){Pt.unselect(),bt(this,Rt).delete(Pt),Jt(this,Ft,Pn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return bt(this,Rt).size!==0}undo(){bt(this,St).undo(),Jt(this,Ft,Pn).call(this,{hasSomethingToUndo:bt(this,St).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Jt(this,en,Un).call(this)})}redo(){bt(this,St).redo(),Jt(this,Ft,Pn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:bt(this,St).hasSomethingToRedo(),isEmpty:Jt(this,en,Un).call(this)})}addCommands(Pt){bt(this,St).add(Pt),Jt(this,Ft,Pn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Jt(this,en,Un).call(this)})}delete(){if(bt(this,gt)&&bt(this,gt).commitOrRemove(),!this.hasSelection)return;const Pt=[...bt(this,Rt)],tn=()=>{for(const un of Pt)un.remove()},ln=()=>{for(const un of Pt)Jt(this,Ot,Zn).call(this,un)};this.addCommands({cmd:tn,undo:ln,mustExec:!0})}copy(){if(bt(this,gt)&&bt(this,gt).commitOrRemove(),this.hasSelection){const Pt=[];for(const tn of bt(this,Rt))tn.isEmpty()||Pt.push(tn);if(Pt.length===0)return;bt(this,ct).copy(Pt),Jt(this,Ft,Pn).call(this,{hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(bt(this,ct).isEmpty())return;this.unselectAll();const Pt=bt(this,at).get(bt(this,wt)),tn=bt(this,ct).paste().map(hn=>Pt.deserialize(hn)),ln=()=>{for(const hn of tn)Jt(this,Ot,Zn).call(this,hn);Jt(this,Qt,Wn).call(this,tn)},un=()=>{for(const hn of tn)hn.remove()};this.addCommands({cmd:ln,undo:un,mustExec:!0})}selectAll(){for(const Pt of bt(this,Rt))Pt.commit();Jt(this,Qt,Wn).call(this,bt(this,rt).values())}unselectAll(){if(bt(this,gt)){bt(this,gt).commitOrRemove();return}if(Jt(this,Qt,Wn).size!==0){for(const Pt of bt(this,Rt))Pt.unselect();bt(this,Rt).clear(),Jt(this,Ft,Pn).call(this,{hasSelectedEditor:!1})}}isActive(Pt){return bt(this,gt)===Pt}getActive(){return bt(this,gt)}getMode(){return bt(this,Dt)}};let ht=Zt;gt=new WeakMap,rt=new WeakMap,at=new WeakMap,ct=new WeakMap,St=new WeakMap,wt=new WeakMap,Lt=new WeakMap,Mt=new WeakMap,zt=new WeakMap,Ut=new WeakMap,Dt=new WeakMap,Rt=new WeakMap,Bt=new WeakMap,Ht=new WeakMap,qt=new WeakMap,Ct=new WeakMap,yt=new WeakMap,mt=new WeakSet,gr=function(){bt(this,yt).addEventListener("keydown",bt(this,Bt))},Tt=new WeakSet,Qn=function(){bt(this,yt).removeEventListener("keydown",bt(this,Bt))},Ft=new WeakSet,Pn=function(Pt){Object.entries(Pt).some(([ln,un])=>bt(this,Ct)[ln]!==un)&&bt(this,Mt).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(bt(this,Ct),Pt)})},$t=new WeakSet,Bn=function(Pt){bt(this,Mt).dispatch("annotationeditorparamschanged",{source:this,details:Pt})},vt=new WeakSet,mr=function(){if(!bt(this,Ut)){on(this,Ut,!0);for(const Pt of bt(this,at).values())Pt.enable()}},Et=new WeakSet,yr=function(){if(this.unselectAll(),bt(this,Ut)){on(this,Ut,!1);for(const Pt of bt(this,at).values())Pt.disable()}},Ot=new WeakSet,Zn=function(Pt){const tn=bt(this,at).get(Pt.pageIndex);tn?tn.addOrRebuild(Pt):this.addEditor(Pt)},en=new WeakSet,Un=function(){if(bt(this,rt).size===0)return!0;if(bt(this,rt).size===1)for(const Pt of bt(this,rt).values())return Pt.isEmpty();return!1},Qt=new WeakSet,Wn=function(Pt){bt(this,Rt).clear();for(const tn of Pt)tn.isEmpty()||(bt(this,Rt).add(tn),tn.select());Jt(this,Ft,Pn).call(this,{hasSelectedEditor:!0})},En(ht,"_keyboardManager",new nt([[["ctrl+a","mac+meta+a"],Zt.prototype.selectAll],[["ctrl+c","mac+meta+c"],Zt.prototype.copy],[["ctrl+v","mac+meta+v"],Zt.prototype.paste],[["ctrl+x","mac+meta+x"],Zt.prototype.cut],[["ctrl+z","mac+meta+z"],Zt.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],Zt.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],Zt.prototype.delete],[["Escape","mac+Escape"],Zt.prototype.unselectAll]])),s.AnnotationEditorUIManager=ht},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StatTimer=s.RenderingCancelledException=s.PixelsPerInch=s.PageViewport=s.PDFDateString=s.DOMStandardFontDataFactory=s.DOMSVGFactory=s.DOMCanvasFactory=s.DOMCMapReaderFactory=s.AnnotationPrefix=void 0,s.deprecated=it,s.getColorValues=St,s.getCurrentTransform=wt,s.getCurrentTransformInverse=Lt,s.getFilenameFromUrl=tt,s.getPdfFilenameFromUrl=st,s.getRGB=ct,s.getXfaPageViewport=at,s.isDataScheme=b,s.isPdfFile=lt,s.isValidFetchUrl=g,s.loadScript=_e;var a=o(9),c=o(1);const d="http://www.w3.org/2000/svg",_="pdfjs_internal_id_";s.AnnotationPrefix=_;const Mt=class{};let j=Mt;En(j,"CSS",96),En(j,"PDF",72),En(j,"PDF_TO_CSS_UNITS",Mt.CSS/Mt.PDF),s.PixelsPerInch=j;class $ extends a.BaseCanvasFactory{constructor({ownerDocument:Ut=globalThis.document}={}){super(),this._document=Ut}_createCanvas(Ut,Dt){const Rt=this._document.createElement("canvas");return Rt.width=Ut,Rt.height=Dt,Rt}}s.DOMCanvasFactory=$;async function nt(zt,Ut=!1){if(g(zt,document.baseURI)){const Dt=await fetch(zt);if(!Dt.ok)throw new Error(Dt.statusText);return Ut?new Uint8Array(await Dt.arrayBuffer()):(0,c.stringToBytes)(await Dt.text())}return new Promise((Dt,Rt)=>{const Bt=new XMLHttpRequest;Bt.open("GET",zt,!0),Ut&&(Bt.responseType="arraybuffer"),Bt.onreadystatechange=()=>{if(Bt.readyState===XMLHttpRequest.DONE){if(Bt.status===200||Bt.status===0){let Ht;if(Ut&&Bt.response?Ht=new Uint8Array(Bt.response):!Ut&&Bt.responseText&&(Ht=(0,c.stringToBytes)(Bt.responseText)),Ht){Dt(Ht);return}}Rt(new Error(Bt.statusText))}},Bt.send(null)})}class dt extends a.BaseCMapReaderFactory{_fetchData(Ut,Dt){return nt(Ut,this.isCompressed).then(Rt=>({cMapData:Rt,compressionType:Dt}))}}s.DOMCMapReaderFactory=dt;class ft extends a.BaseStandardFontDataFactory{_fetchData(Ut){return nt(Ut,!0)}}s.DOMStandardFontDataFactory=ft;class ht extends a.BaseSVGFactory{_createSVG(Ut){return document.createElementNS(d,Ut)}}s.DOMSVGFactory=ht;class pt{constructor({viewBox:Ut,scale:Dt,rotation:Rt,offsetX:Bt=0,offsetY:Ht=0,dontFlip:qt=!1}){this.viewBox=Ut,this.scale=Dt,this.rotation=Rt,this.offsetX=Bt,this.offsetY=Ht;const Ct=(Ut[2]+Ut[0])/2,yt=(Ut[3]+Ut[1])/2;let mt,xt,Tt,kt;switch(Rt%=360,Rt<0&&(Rt+=360),Rt){case 180:mt=-1,xt=0,Tt=0,kt=1;break;case 90:mt=0,xt=1,Tt=1,kt=0;break;case 270:mt=0,xt=-1,Tt=-1,kt=0;break;case 0:mt=1,xt=0,Tt=0,kt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}qt&&(Tt=-Tt,kt=-kt);let Ft,jt,$t,ut;mt===0?(Ft=Math.abs(yt-Ut[1])*Dt+Bt,jt=Math.abs(Ct-Ut[0])*Dt+Ht,$t=Math.abs(Ut[3]-Ut[1])*Dt,ut=Math.abs(Ut[2]-Ut[0])*Dt):(Ft=Math.abs(Ct-Ut[0])*Dt+Bt,jt=Math.abs(yt-Ut[1])*Dt+Ht,$t=Math.abs(Ut[2]-Ut[0])*Dt,ut=Math.abs(Ut[3]-Ut[1])*Dt),this.transform=[mt*Dt,xt*Dt,Tt*Dt,kt*Dt,Ft-mt*Dt*Ct-Tt*Dt*yt,jt-xt*Dt*Ct-kt*Dt*yt],this.width=$t,this.height=ut}clone({scale:Ut=this.scale,rotation:Dt=this.rotation,offsetX:Rt=this.offsetX,offsetY:Bt=this.offsetY,dontFlip:Ht=!1}={}){return new pt({viewBox:this.viewBox.slice(),scale:Ut,rotation:Dt,offsetX:Rt,offsetY:Bt,dontFlip:Ht})}convertToViewportPoint(Ut,Dt){return c.Util.applyTransform([Ut,Dt],this.transform)}convertToViewportRectangle(Ut){const Dt=c.Util.applyTransform([Ut[0],Ut[1]],this.transform),Rt=c.Util.applyTransform([Ut[2],Ut[3]],this.transform);return[Dt[0],Dt[1],Rt[0],Rt[1]]}convertToPdfPoint(Ut,Dt){return c.Util.applyInverseTransform([Ut,Dt],this.transform)}}s.PageViewport=pt;class ot extends c.BaseException{constructor(Ut,Dt){super(Ut,"RenderingCancelledException"),this.type=Dt}}s.RenderingCancelledException=ot;function b(zt){const Ut=zt.length;let Dt=0;for(;Dt<Ut&&zt[Dt].trim()==="";)Dt++;return zt.substring(Dt,Dt+5).toLowerCase()==="data:"}function lt(zt){return typeof zt=="string"&&/\.pdf$/i.test(zt)}function tt(zt){const Ut=zt.indexOf("#"),Dt=zt.indexOf("?"),Rt=Math.min(Ut>0?Ut:zt.length,Dt>0?Dt:zt.length);return zt.substring(zt.lastIndexOf("/",Rt)+1,Rt)}function st(zt,Ut="document.pdf"){if(typeof zt!="string")return Ut;if(b(zt))return(0,c.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Ut;const Dt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Rt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Bt=Dt.exec(zt);let Ht=Rt.exec(Bt[1])||Rt.exec(Bt[2])||Rt.exec(Bt[3]);if(Ht&&(Ht=Ht[0],Ht.includes("%")))try{Ht=Rt.exec(decodeURIComponent(Ht))[0]}catch{}return Ht||Ut}class et{constructor(){this.started=Object.create(null),this.times=[]}time(Ut){Ut in this.started&&(0,c.warn)(`Timer is already running for ${Ut}`),this.started[Ut]=Date.now()}timeEnd(Ut){Ut in this.started||(0,c.warn)(`Timer has not been started for ${Ut}`),this.times.push({name:Ut,start:this.started[Ut],end:Date.now()}),delete this.started[Ut]}toString(){const Ut=[];let Dt=0;for(const Rt of this.times){const Bt=Rt.name;Bt.length>Dt&&(Dt=Bt.length)}for(const Rt of this.times){const Bt=Rt.end-Rt.start;Ut.push(`${Rt.name.padEnd(Dt)} ${Bt}ms
`)}return Ut.join("")}}s.StatTimer=et;function g(zt,Ut){try{const{protocol:Dt}=Ut?new URL(zt,Ut):new URL(zt);return Dt==="http:"||Dt==="https:"}catch{return!1}}function _e(zt,Ut=!1){return new Promise((Dt,Rt)=>{const Bt=document.createElement("script");Bt.src=zt,Bt.onload=function(Ht){Ut&&Bt.remove(),Dt(Ht)},Bt.onerror=function(){Rt(new Error(`Cannot load script at: ${Bt.src}`))},(document.head||document.documentElement).append(Bt)})}function it(zt){console.log("Deprecated API usage: "+zt)}let gt;class rt{static toDateObject(Ut){if(!Ut||typeof Ut!="string")return null;gt||(gt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Dt=gt.exec(Ut);if(!Dt)return null;const Rt=parseInt(Dt[1],10);let Bt=parseInt(Dt[2],10);Bt=Bt>=1&&Bt<=12?Bt-1:0;let Ht=parseInt(Dt[3],10);Ht=Ht>=1&&Ht<=31?Ht:1;let qt=parseInt(Dt[4],10);qt=qt>=0&&qt<=23?qt:0;let Ct=parseInt(Dt[5],10);Ct=Ct>=0&&Ct<=59?Ct:0;let yt=parseInt(Dt[6],10);yt=yt>=0&&yt<=59?yt:0;const mt=Dt[7]||"Z";let xt=parseInt(Dt[8],10);xt=xt>=0&&xt<=23?xt:0;let Tt=parseInt(Dt[9],10)||0;return Tt=Tt>=0&&Tt<=59?Tt:0,mt==="-"?(qt+=xt,Ct+=Tt):mt==="+"&&(qt-=xt,Ct-=Tt),new Date(Date.UTC(Rt,Bt,Ht,qt,Ct,yt))}}s.PDFDateString=rt;function at(zt,{scale:Ut=1,rotation:Dt=0}){const{width:Rt,height:Bt}=zt.attributes.style,Ht=[0,0,parseInt(Rt),parseInt(Bt)];return new pt({viewBox:Ht,scale:Ut,rotation:Dt})}function ct(zt){if(zt.startsWith("#")){const Ut=parseInt(zt.slice(1),16);return[(Ut&16711680)>>16,(Ut&65280)>>8,Ut&255]}return zt.startsWith("rgb(")?zt.slice(4,-1).split(",").map(Ut=>parseInt(Ut)):zt.startsWith("rgba(")?zt.slice(5,-1).split(",").map(Ut=>parseInt(Ut)).slice(0,3):((0,c.warn)(`Not a valid color format: "${zt}"`),[0,0,0])}function St(zt){const Ut=document.createElement("span");Ut.style.visibility="hidden",document.body.append(Ut);for(const Dt of zt.keys()){Ut.style.color=Dt;const Rt=window.getComputedStyle(Ut).color;zt.set(Dt,ct(Rt))}Ut.remove()}function wt(zt){const{a:Ut,b:Dt,c:Rt,d:Bt,e:Ht,f:qt}=zt.getTransform();return[Ut,Dt,Rt,Bt,Ht,qt]}function Lt(zt){const{a:Ut,b:Dt,c:Rt,d:Bt,e:Ht,f:qt}=zt.getTransform().invertSelf();return[Ut,Dt,Rt,Bt,Ht,qt]}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BaseStandardFontDataFactory=s.BaseSVGFactory=s.BaseCanvasFactory=s.BaseCMapReaderFactory=void 0;var a=o(1);class c{constructor(){this.constructor===c&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}create(nt,dt){if(nt<=0||dt<=0)throw new Error("Invalid canvas size");const ft=this._createCanvas(nt,dt);return{canvas:ft,context:ft.getContext("2d")}}reset(nt,dt,ft){if(!nt.canvas)throw new Error("Canvas is not specified");if(dt<=0||ft<=0)throw new Error("Invalid canvas size");nt.canvas.width=dt,nt.canvas.height=ft}destroy(nt){if(!nt.canvas)throw new Error("Canvas is not specified");nt.canvas.width=0,nt.canvas.height=0,nt.canvas=null,nt.context=null}_createCanvas(nt,dt){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}s.BaseCanvasFactory=c;class d{constructor({baseUrl:nt=null,isCompressed:dt=!1}){this.constructor===d&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=nt,this.isCompressed=dt}async fetch({name:nt}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!nt)throw new Error("CMap name must be specified.");const dt=this.baseUrl+nt+(this.isCompressed?".bcmap":""),ft=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE;return this._fetchData(dt,ft).catch(ht=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${dt}`)})}_fetchData(nt,dt){(0,a.unreachable)("Abstract method `_fetchData` called.")}}s.BaseCMapReaderFactory=d;class _{constructor({baseUrl:nt=null}){this.constructor===_&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=nt}async fetch({filename:nt}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!nt)throw new Error("Font filename must be specified.");const dt=`${this.baseUrl}${nt}`;return this._fetchData(dt).catch(ft=>{throw new Error(`Unable to load font data at: ${dt}`)})}_fetchData(nt){(0,a.unreachable)("Abstract method `_fetchData` called.")}}s.BaseStandardFontDataFactory=_;class j{constructor(){this.constructor===j&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}create(nt,dt,ft=!1){if(nt<=0||dt<=0)throw new Error("Invalid SVG dimensions");const ht=this._createSVG("svg:svg");return ht.setAttribute("version","1.1"),ft||(ht.setAttribute("width",`${nt}px`),ht.setAttribute("height",`${dt}px`)),ht.setAttribute("preserveAspectRatio","none"),ht.setAttribute("viewBox",`0 0 ${nt} ${dt}`),ht}createElement(nt){if(typeof nt!="string")throw new Error("Invalid SVG element type");return this._createSVG(nt)}_createSVG(nt){(0,a.unreachable)("Abstract method `_createSVG` called.")}}s.BaseSVGFactory=j},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MurmurHash3_64=void 0;var a=o(1);const c=3285377520,d=4294901760,_=65535;class j{constructor(nt){this.h1=nt?nt&4294967295:c,this.h2=nt?nt&4294967295:c}update(nt){let dt,ft;if(typeof nt=="string"){dt=new Uint8Array(nt.length*2),ft=0;for(let gt=0,rt=nt.length;gt<rt;gt++){const at=nt.charCodeAt(gt);at<=255?dt[ft++]=at:(dt[ft++]=at>>>8,dt[ft++]=at&255)}}else if((0,a.isArrayBuffer)(nt))dt=nt.slice(),ft=dt.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ht=ft>>2,pt=ft-ht*4,ot=new Uint32Array(dt.buffer,0,ht);let b=0,lt=0,tt=this.h1,st=this.h2;const et=3432918353,g=461845907,_e=et&_,it=g&_;for(let gt=0;gt<ht;gt++)gt&1?(b=ot[gt],b=b*et&d|b*_e&_,b=b<<15|b>>>17,b=b*g&d|b*it&_,tt^=b,tt=tt<<13|tt>>>19,tt=tt*5+3864292196):(lt=ot[gt],lt=lt*et&d|lt*_e&_,lt=lt<<15|lt>>>17,lt=lt*g&d|lt*it&_,st^=lt,st=st<<13|st>>>19,st=st*5+3864292196);switch(b=0,pt){case 3:b^=dt[ht*4+2]<<16;case 2:b^=dt[ht*4+1]<<8;case 1:b^=dt[ht*4],b=b*et&d|b*_e&_,b=b<<15|b>>>17,b=b*g&d|b*it&_,ht&1?tt^=b:st^=b}this.h1=tt,this.h2=st}hexdigest(){let nt=this.h1,dt=this.h2;nt^=dt>>>1,nt=nt*3981806797&d|nt*36045&_,dt=dt*4283543511&d|((dt<<16|nt>>>16)*2950163797&d)>>>16,nt^=dt>>>1,nt=nt*444984403&d|nt*60499&_,dt=dt*3301882366&d|((dt<<16|nt>>>16)*3120437893&d)>>>16,nt^=dt>>>1;const ft=(nt>>>0).toString(16),ht=(dt>>>0).toString(16);return ft.padStart(8,"0")+ht.padStart(8,"0")}}s.MurmurHash3_64=j},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FontLoader=s.FontFaceObject=void 0;var a=o(1);class c{constructor({docId:$,onUnsupportedFeature:nt,ownerDocument:dt=globalThis.document,styleElement:ft=null}){this.constructor===c&&(0,a.unreachable)("Cannot initialize BaseFontLoader."),this.docId=$,this._onUnsupportedFeature=nt,this._document=dt,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace($){this.nativeFontFaces.push($),this._document.fonts.add($)}insertRule($){let nt=this.styleElement;nt||(nt=this.styleElement=this._document.createElement("style"),nt.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(nt));const dt=nt.sheet;dt.insertRule($,dt.cssRules.length)}clear(){for(const $ of this.nativeFontFaces)this._document.fonts.delete($);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind($){if($.attached||$.missingFile)return;if($.attached=!0,this.isFontLoadingAPISupported){const dt=$.createNativeFontFace();if(dt){this.addNativeFontFace(dt);try{await dt.loaded}catch(ft){throw this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,a.warn)(`Failed to load font '${dt.family}': '${ft}'.`),$.disableFontFace=!0,ft}}return}const nt=$.createFontFaceRule();if(nt){if(this.insertRule(nt),this.isSyncFontLoadingSupported)return;await new Promise(dt=>{const ft=this._queueLoadingCallback(dt);this._prepareFontLoadEvent([nt],[$],ft)})}}_queueLoadingCallback($){(0,a.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var nt;const $=!!((nt=this._document)!=null&&nt.fonts);return(0,a.shadow)(this,"isFontLoadingAPISupported",$)}get isSyncFontLoadingSupported(){(0,a.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,a.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent($,nt,dt){(0,a.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let d;s.FontLoader=d,s.FontLoader=d=class extends c{constructor($){super($),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let $=!1;if(typeof navigator>"u")$=!0;else{const nt=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(nt==null?void 0:nt[1])>=14&&($=!0)}return(0,a.shadow)(this,"isSyncFontLoadingSupported",$)}_queueLoadingCallback($){function nt(){for((0,a.assert)(!ft.done,"completeRequest() cannot be called twice."),ft.done=!0;dt.requests.length>0&&dt.requests[0].done;){const ht=dt.requests.shift();setTimeout(ht.callback,0)}}const dt=this.loadingContext,ft={id:`pdfjs-font-loading-${dt.nextRequestId++}`,done:!1,complete:nt,callback:$};return dt.requests.push(ft),ft}get _loadTestFont(){const $=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,a.shadow)(this,"_loadTestFont",$())}_prepareFontLoadEvent($,nt,dt){function ft(Lt,Mt){return Lt.charCodeAt(Mt)<<24|Lt.charCodeAt(Mt+1)<<16|Lt.charCodeAt(Mt+2)<<8|Lt.charCodeAt(Mt+3)&255}function ht(Lt,Mt,zt,Ut){const Dt=Lt.substring(0,Mt),Rt=Lt.substring(Mt+zt);return Dt+Ut+Rt}let pt,ot;const b=this._document.createElement("canvas");b.width=1,b.height=1;const lt=b.getContext("2d");let tt=0;function st(Lt,Mt){if(tt++,tt>30){(0,a.warn)("Load test font never loaded."),Mt();return}if(lt.font="30px "+Lt,lt.fillText(".",0,20),lt.getImageData(0,0,1,1).data[3]>0){Mt();return}setTimeout(st.bind(null,Lt,Mt))}const et=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=ht(g,976,et.length,et);const it=16,gt=1482184792;let rt=ft(g,it);for(pt=0,ot=et.length-3;pt<ot;pt+=4)rt=rt-gt+ft(et,pt)|0;pt<et.length&&(rt=rt-gt+ft(et+"XXX",pt)|0),g=ht(g,it,4,(0,a.string32)(rt));const at=`url(data:font/opentype;base64,${btoa(g)});`,ct=`@font-face {font-family:"${et}";src:${at}}`;this.insertRule(ct);const St=[];for(const Lt of nt)St.push(Lt.loadedName);St.push(et);const wt=this._document.createElement("div");wt.style.visibility="hidden",wt.style.width=wt.style.height="10px",wt.style.position="absolute",wt.style.top=wt.style.left="0px";for(const Lt of St){const Mt=this._document.createElement("span");Mt.textContent="Hi",Mt.style.fontFamily=Lt,wt.append(Mt)}this._document.body.append(wt),st(et,()=>{wt.remove(),dt.complete()})}};class _{constructor($,{isEvalSupported:nt=!0,disableFontFace:dt=!1,ignoreErrors:ft=!1,onUnsupportedFeature:ht,fontRegistry:pt=null}){this.compiledGlyphs=Object.create(null);for(const ot in $)this[ot]=$[ot];this.isEvalSupported=nt!==!1,this.disableFontFace=dt===!0,this.ignoreErrors=ft===!0,this._onUnsupportedFeature=ht,this.fontRegistry=pt}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let $;if(!this.cssFontInfo)$=new FontFace(this.loadedName,this.data,{});else{const nt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(nt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),$=new FontFace(this.cssFontInfo.fontFamily,this.data,nt)}return this.fontRegistry&&this.fontRegistry.registerFont(this),$}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const $=(0,a.bytesToString)(this.data),nt=`url(data:${this.mimetype};base64,${btoa($)});`;let dt;if(!this.cssFontInfo)dt=`@font-face {font-family:"${this.loadedName}";src:${nt}}`;else{let ft=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ft+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),dt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ft}src:${nt}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,nt),dt}getPathGenerator($,nt){if(this.compiledGlyphs[nt]!==void 0)return this.compiledGlyphs[nt];let dt;try{dt=$.get(this.loadedName+"_path_"+nt)}catch(ft){if(!this.ignoreErrors)throw ft;return this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,a.warn)(`getPathGenerator - ignoring character: "${ft}".`),this.compiledGlyphs[nt]=function(ht,pt){}}if(this.isEvalSupported&&a.FeatureTest.isEvalSupported){const ft=[];for(const ht of dt){const pt=ht.args!==void 0?ht.args.join(","):"";ft.push("c.",ht.cmd,"(",pt,`);
`)}return this.compiledGlyphs[nt]=new Function("c","size",ft.join(""))}return this.compiledGlyphs[nt]=function(ft,ht){for(const pt of dt)pt.cmd==="scale"&&(pt.args=[ht,-ht]),ft[pt.cmd].apply(ft,pt.args)}}}s.FontFaceObject=_},(i,s,o)=>{var Bt,Jn;Object.defineProperty(s,"__esModule",{value:!0}),s.CanvasGraphics=void 0;var a=o(8),c=o(1),d=o(13),_=o(14),j=o(3);const $=16,nt=100,dt=4096,ft=15,ht=10,pt=j.isNodeJS&&typeof Path2D>"u"?-1:1e3,ot=16;function b(Ct,yt){if(Ct._removeMirroring)throw new Error("Context is already forwarding operations.");Ct.__originalSave=Ct.save,Ct.__originalRestore=Ct.restore,Ct.__originalRotate=Ct.rotate,Ct.__originalScale=Ct.scale,Ct.__originalTranslate=Ct.translate,Ct.__originalTransform=Ct.transform,Ct.__originalSetTransform=Ct.setTransform,Ct.__originalResetTransform=Ct.resetTransform,Ct.__originalClip=Ct.clip,Ct.__originalMoveTo=Ct.moveTo,Ct.__originalLineTo=Ct.lineTo,Ct.__originalBezierCurveTo=Ct.bezierCurveTo,Ct.__originalRect=Ct.rect,Ct.__originalClosePath=Ct.closePath,Ct.__originalBeginPath=Ct.beginPath,Ct._removeMirroring=()=>{Ct.save=Ct.__originalSave,Ct.restore=Ct.__originalRestore,Ct.rotate=Ct.__originalRotate,Ct.scale=Ct.__originalScale,Ct.translate=Ct.__originalTranslate,Ct.transform=Ct.__originalTransform,Ct.setTransform=Ct.__originalSetTransform,Ct.resetTransform=Ct.__originalResetTransform,Ct.clip=Ct.__originalClip,Ct.moveTo=Ct.__originalMoveTo,Ct.lineTo=Ct.__originalLineTo,Ct.bezierCurveTo=Ct.__originalBezierCurveTo,Ct.rect=Ct.__originalRect,Ct.closePath=Ct.__originalClosePath,Ct.beginPath=Ct.__originalBeginPath,delete Ct._removeMirroring},Ct.save=function(){yt.save(),this.__originalSave()},Ct.restore=function(){yt.restore(),this.__originalRestore()},Ct.translate=function(xt,Tt){yt.translate(xt,Tt),this.__originalTranslate(xt,Tt)},Ct.scale=function(xt,Tt){yt.scale(xt,Tt),this.__originalScale(xt,Tt)},Ct.transform=function(xt,Tt,kt,Ft,jt,$t){yt.transform(xt,Tt,kt,Ft,jt,$t),this.__originalTransform(xt,Tt,kt,Ft,jt,$t)},Ct.setTransform=function(xt,Tt,kt,Ft,jt,$t){yt.setTransform(xt,Tt,kt,Ft,jt,$t),this.__originalSetTransform(xt,Tt,kt,Ft,jt,$t)},Ct.resetTransform=function(){yt.resetTransform(),this.__originalResetTransform()},Ct.rotate=function(xt){yt.rotate(xt),this.__originalRotate(xt)},Ct.clip=function(xt){yt.clip(xt),this.__originalClip(xt)},Ct.moveTo=function(mt,xt){yt.moveTo(mt,xt),this.__originalMoveTo(mt,xt)},Ct.lineTo=function(mt,xt){yt.lineTo(mt,xt),this.__originalLineTo(mt,xt)},Ct.bezierCurveTo=function(mt,xt,Tt,kt,Ft,jt){yt.bezierCurveTo(mt,xt,Tt,kt,Ft,jt),this.__originalBezierCurveTo(mt,xt,Tt,kt,Ft,jt)},Ct.rect=function(mt,xt,Tt,kt){yt.rect(mt,xt,Tt,kt),this.__originalRect(mt,xt,Tt,kt)},Ct.closePath=function(){yt.closePath(),this.__originalClosePath()},Ct.beginPath=function(){yt.beginPath(),this.__originalBeginPath()}}class lt{constructor(yt){this.canvasFactory=yt,this.cache=Object.create(null)}getCanvas(yt,mt,xt){let Tt;return this.cache[yt]!==void 0?(Tt=this.cache[yt],this.canvasFactory.reset(Tt,mt,xt)):(Tt=this.canvasFactory.create(mt,xt),this.cache[yt]=Tt),Tt}delete(yt){delete this.cache[yt]}clear(){for(const yt in this.cache){const mt=this.cache[yt];this.canvasFactory.destroy(mt),delete this.cache[yt]}}}function tt(Ct,yt,mt,xt,Tt,kt,Ft,jt,$t,ut){const[vt,_t,Et,At,Ot,Xt]=(0,a.getCurrentTransform)(Ct);if(_t===0&&Et===0){const Qt=Ft*vt+Ot,Gt=Math.round(Qt),Zt=jt*At+Xt,nn=Math.round(Zt),Pt=(Ft+$t)*vt+Ot,tn=Math.abs(Math.round(Pt)-Gt)||1,ln=(jt+ut)*At+Xt,un=Math.abs(Math.round(ln)-nn)||1;return Ct.setTransform(Math.sign(vt),0,0,Math.sign(At),Gt,nn),Ct.drawImage(yt,mt,xt,Tt,kt,0,0,tn,un),Ct.setTransform(vt,_t,Et,At,Ot,Xt),[tn,un]}if(vt===0&&At===0){const Qt=jt*Et+Ot,Gt=Math.round(Qt),Zt=Ft*_t+Xt,nn=Math.round(Zt),Pt=(jt+ut)*Et+Ot,tn=Math.abs(Math.round(Pt)-Gt)||1,ln=(Ft+$t)*_t+Xt,un=Math.abs(Math.round(ln)-nn)||1;return Ct.setTransform(0,Math.sign(_t),Math.sign(Et),0,Gt,nn),Ct.drawImage(yt,mt,xt,Tt,kt,0,0,un,tn),Ct.setTransform(vt,_t,Et,At,Ot,Xt),[un,tn]}Ct.drawImage(yt,mt,xt,Tt,kt,Ft,jt,$t,ut);const en=Math.hypot(vt,_t),Vt=Math.hypot(Et,At);return[en*$t,Vt*ut]}function st(Ct){const{width:yt,height:mt}=Ct;if(yt>pt||mt>pt)return null;const xt=1e3,Tt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),kt=yt+1;let Ft=new Uint8Array(kt*(mt+1)),jt,$t,ut;const vt=yt+7&-8;let _t=new Uint8Array(vt*mt),Et=0;for(const Vt of Ct.data){let Qt=128;for(;Qt>0;)_t[Et++]=Vt&Qt?0:255,Qt>>=1}let At=0;for(Et=0,_t[Et]!==0&&(Ft[0]=1,++At),$t=1;$t<yt;$t++)_t[Et]!==_t[Et+1]&&(Ft[$t]=_t[Et]?2:1,++At),Et++;for(_t[Et]!==0&&(Ft[$t]=2,++At),jt=1;jt<mt;jt++){Et=jt*vt,ut=jt*kt,_t[Et-vt]!==_t[Et]&&(Ft[ut]=_t[Et]?1:8,++At);let Vt=(_t[Et]?4:0)+(_t[Et-vt]?8:0);for($t=1;$t<yt;$t++)Vt=(Vt>>2)+(_t[Et+1]?4:0)+(_t[Et-vt+1]?8:0),Tt[Vt]&&(Ft[ut+$t]=Tt[Vt],++At),Et++;if(_t[Et-vt]!==_t[Et]&&(Ft[ut+$t]=_t[Et]?2:4,++At),At>xt)return null}for(Et=vt*(mt-1),ut=jt*kt,_t[Et]!==0&&(Ft[ut]=8,++At),$t=1;$t<yt;$t++)_t[Et]!==_t[Et+1]&&(Ft[ut+$t]=_t[Et]?4:8,++At),Et++;if(_t[Et]!==0&&(Ft[ut+$t]=4,++At),At>xt)return null;const Ot=new Int32Array([0,kt,-1,0,-kt,0,0,0,1]),Xt=new Path2D;for(jt=0;At&&jt<=mt;jt++){let Vt=jt*kt;const Qt=Vt+yt;for(;Vt<Qt&&!Ft[Vt];)Vt++;if(Vt===Qt)continue;Xt.moveTo(Vt%kt,jt);const Gt=Vt;let Zt=Ft[Vt];do{const nn=Ot[Zt];do Vt+=nn;while(!Ft[Vt]);const Pt=Ft[Vt];Pt!==5&&Pt!==10?(Zt=Pt,Ft[Vt]=0):(Zt=Pt&51*Zt>>4,Ft[Vt]&=Zt>>2|Zt<<2),Xt.lineTo(Vt%kt,Vt/kt|0),Ft[Vt]||--At}while(Gt!==Vt);--jt}return _t=null,Ft=null,function(Vt){Vt.save(),Vt.scale(1/yt,-1/mt),Vt.translate(0,-mt),Vt.fill(Xt),Vt.beginPath(),Vt.restore()}}class et{constructor(yt,mt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=c.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=c.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=c.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,yt,mt])}clone(){const yt=Object.create(this);return yt.clipBox=this.clipBox.slice(),yt}setCurrentPoint(yt,mt){this.x=yt,this.y=mt}updatePathMinMax(yt,mt,xt){[mt,xt]=c.Util.applyTransform([mt,xt],yt),this.minX=Math.min(this.minX,mt),this.minY=Math.min(this.minY,xt),this.maxX=Math.max(this.maxX,mt),this.maxY=Math.max(this.maxY,xt)}updateRectMinMax(yt,mt){const xt=c.Util.applyTransform(mt,yt),Tt=c.Util.applyTransform(mt.slice(2),yt);this.minX=Math.min(this.minX,xt[0],Tt[0]),this.minY=Math.min(this.minY,xt[1],Tt[1]),this.maxX=Math.max(this.maxX,xt[0],Tt[0]),this.maxY=Math.max(this.maxY,xt[1],Tt[1])}updateScalingPathMinMax(yt,mt){c.Util.scaleMinMax(yt,mt),this.minX=Math.min(this.minX,mt[0]),this.maxX=Math.max(this.maxX,mt[1]),this.minY=Math.min(this.minY,mt[2]),this.maxY=Math.max(this.maxY,mt[3])}updateCurvePathMinMax(yt,mt,xt,Tt,kt,Ft,jt,$t,ut,vt){const _t=c.Util.bezierBoundingBox(mt,xt,Tt,kt,Ft,jt,$t,ut);if(vt){vt[0]=Math.min(vt[0],_t[0],_t[2]),vt[1]=Math.max(vt[1],_t[0],_t[2]),vt[2]=Math.min(vt[2],_t[1],_t[3]),vt[3]=Math.max(vt[3],_t[1],_t[3]);return}this.updateRectMinMax(yt,_t)}getPathBoundingBox(yt=d.PathType.FILL,mt=null){const xt=[this.minX,this.minY,this.maxX,this.maxY];if(yt===d.PathType.STROKE){mt||(0,c.unreachable)("Stroke bounding box must include transform.");const Tt=c.Util.singularValueDecompose2dScale(mt),kt=Tt[0]*this.lineWidth/2,Ft=Tt[1]*this.lineWidth/2;xt[0]-=kt,xt[1]-=Ft,xt[2]+=kt,xt[3]+=Ft}return xt}updateClipFromPath(){const yt=c.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(yt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(yt){this.clipBox=yt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(yt=d.PathType.FILL,mt=null){return c.Util.intersect(this.clipBox,this.getPathBoundingBox(yt,mt))}}function g(Ct,yt,mt=null){if(typeof ImageData<"u"&&yt instanceof ImageData){Ct.putImageData(yt,0,0);return}const xt=yt.height,Tt=yt.width,kt=xt%ot,Ft=(xt-kt)/ot,jt=kt===0?Ft:Ft+1,$t=Ct.createImageData(Tt,ot);let ut=0,vt;const _t=yt.data,Et=$t.data;let At,Ot,Xt,en,Vt,Qt,Gt,Zt;if(mt)switch(mt.length){case 1:Vt=mt[0],Qt=mt[0],Gt=mt[0],Zt=mt[0];break;case 4:Vt=mt[0],Qt=mt[1],Gt=mt[2],Zt=mt[3];break}if(yt.kind===c.ImageKind.GRAYSCALE_1BPP){const nn=_t.byteLength,Pt=new Uint32Array(Et.buffer,0,Et.byteLength>>2),tn=Pt.length,ln=Tt+7>>3;let un=4294967295,hn=c.FeatureTest.isLittleEndian?4278190080:255;for(Zt&&Zt[0]===255&&Zt[255]===0&&([un,hn]=[hn,un]),At=0;At<jt;At++){for(Xt=At<Ft?ot:kt,vt=0,Ot=0;Ot<Xt;Ot++){const pn=nn-ut;let Sn=0;const _n=pn>ln?Tt:pn*8-7,Dn=_n&-8;let gn=0,xn=0;for(;Sn<Dn;Sn+=8)xn=_t[ut++],Pt[vt++]=xn&128?un:hn,Pt[vt++]=xn&64?un:hn,Pt[vt++]=xn&32?un:hn,Pt[vt++]=xn&16?un:hn,Pt[vt++]=xn&8?un:hn,Pt[vt++]=xn&4?un:hn,Pt[vt++]=xn&2?un:hn,Pt[vt++]=xn&1?un:hn;for(;Sn<_n;Sn++)gn===0&&(xn=_t[ut++],gn=128),Pt[vt++]=xn&gn?un:hn,gn>>=1}for(;vt<tn;)Pt[vt++]=0;Ct.putImageData($t,0,At*ot)}}else if(yt.kind===c.ImageKind.RGBA_32BPP){const nn=!!(Vt||Qt||Gt);for(Ot=0,en=Tt*ot*4,At=0;At<Ft;At++){if(Et.set(_t.subarray(ut,ut+en)),ut+=en,nn)for(let Pt=0;Pt<en;Pt+=4)Vt&&(Et[Pt+0]=Vt[Et[Pt+0]]),Qt&&(Et[Pt+1]=Qt[Et[Pt+1]]),Gt&&(Et[Pt+2]=Gt[Et[Pt+2]]);Ct.putImageData($t,0,Ot),Ot+=ot}if(At<jt){if(en=Tt*kt*4,Et.set(_t.subarray(ut,ut+en)),nn)for(let Pt=0;Pt<en;Pt+=4)Vt&&(Et[Pt+0]=Vt[Et[Pt+0]]),Qt&&(Et[Pt+1]=Qt[Et[Pt+1]]),Gt&&(Et[Pt+2]=Gt[Et[Pt+2]]);Ct.putImageData($t,0,Ot)}}else if(yt.kind===c.ImageKind.RGB_24BPP){const nn=!!(Vt||Qt||Gt);for(Xt=ot,en=Tt*Xt,At=0;At<jt;At++){for(At>=Ft&&(Xt=kt,en=Tt*Xt),vt=0,Ot=en;Ot--;)Et[vt++]=_t[ut++],Et[vt++]=_t[ut++],Et[vt++]=_t[ut++],Et[vt++]=255;if(nn)for(let Pt=0;Pt<vt;Pt+=4)Vt&&(Et[Pt+0]=Vt[Et[Pt+0]]),Qt&&(Et[Pt+1]=Qt[Et[Pt+1]]),Gt&&(Et[Pt+2]=Gt[Et[Pt+2]]);Ct.putImageData($t,0,At*ot)}}else throw new Error(`bad image kind: ${yt.kind}`)}function _e(Ct,yt){if(yt.bitmap){Ct.drawImage(yt.bitmap,0,0);return}const mt=yt.height,xt=yt.width,Tt=mt%ot,kt=(mt-Tt)/ot,Ft=Tt===0?kt:kt+1,jt=Ct.createImageData(xt,ot);let $t=0;const ut=yt.data,vt=jt.data;for(let _t=0;_t<Ft;_t++){const Et=_t<kt?ot:Tt;({srcPos:$t}=(0,_.applyMaskImageData)({src:ut,srcPos:$t,dest:vt,width:xt,height:Et})),Ct.putImageData(jt,0,_t*ot)}}function it(Ct,yt){const mt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let xt=0,Tt=mt.length;xt<Tt;xt++){const kt=mt[xt];Ct[kt]!==void 0&&(yt[kt]=Ct[kt])}Ct.setLineDash!==void 0&&(yt.setLineDash(Ct.getLineDash()),yt.lineDashOffset=Ct.lineDashOffset)}function gt(Ct,yt){Ct.strokeStyle=Ct.fillStyle=yt||"#000000",Ct.fillRule="nonzero",Ct.globalAlpha=1,Ct.lineWidth=1,Ct.lineCap="butt",Ct.lineJoin="miter",Ct.miterLimit=10,Ct.globalCompositeOperation="source-over",Ct.font="10px sans-serif",Ct.setLineDash!==void 0&&(Ct.setLineDash([]),Ct.lineDashOffset=0)}function rt(Ct,yt,mt,xt){const Tt=Ct.length;for(let kt=3;kt<Tt;kt+=4){const Ft=Ct[kt];if(Ft===0)Ct[kt-3]=yt,Ct[kt-2]=mt,Ct[kt-1]=xt;else if(Ft<255){const jt=255-Ft;Ct[kt-3]=Ct[kt-3]*Ft+yt*jt>>8,Ct[kt-2]=Ct[kt-2]*Ft+mt*jt>>8,Ct[kt-1]=Ct[kt-1]*Ft+xt*jt>>8}}}function at(Ct,yt,mt){const xt=Ct.length,Tt=1/255;for(let kt=3;kt<xt;kt+=4){const Ft=mt?mt[Ct[kt]]:Ct[kt];yt[kt]=yt[kt]*Ft*Tt|0}}function ct(Ct,yt,mt){const xt=Ct.length;for(let Tt=3;Tt<xt;Tt+=4){const kt=Ct[Tt-3]*77+Ct[Tt-2]*152+Ct[Tt-1]*28;yt[Tt]=mt?yt[Tt]*mt[kt>>8]>>8:yt[Tt]*kt>>16}}function St(Ct,yt,mt,xt,Tt,kt,Ft,jt,$t,ut,vt){const _t=!!kt,Et=_t?kt[0]:0,At=_t?kt[1]:0,Ot=_t?kt[2]:0;let Xt;Tt==="Luminosity"?Xt=ct:Xt=at;const Vt=Math.min(xt,Math.ceil(1048576/mt));for(let Qt=0;Qt<xt;Qt+=Vt){const Gt=Math.min(Vt,xt-Qt),Zt=Ct.getImageData(jt-ut,Qt+($t-vt),mt,Gt),nn=yt.getImageData(jt,Qt+$t,mt,Gt);_t&&rt(Zt.data,Et,At,Ot),Xt(Zt.data,nn.data,Ft),yt.putImageData(nn,jt,Qt+$t)}}function wt(Ct,yt,mt,xt){const Tt=xt[0],kt=xt[1],Ft=xt[2]-Tt,jt=xt[3]-kt;Ft===0||jt===0||(St(yt.context,mt,Ft,jt,yt.subtype,yt.backdrop,yt.transferMap,Tt,kt,yt.offsetX,yt.offsetY),Ct.save(),Ct.globalAlpha=1,Ct.globalCompositeOperation="source-over",Ct.setTransform(1,0,0,1,0,0),Ct.drawImage(mt.canvas,0,0),Ct.restore())}function Lt(Ct,yt){const mt=c.Util.singularValueDecompose2dScale(Ct);mt[0]=Math.fround(mt[0]),mt[1]=Math.fround(mt[1]);const xt=Math.fround((globalThis.devicePixelRatio||1)*a.PixelsPerInch.PDF_TO_CSS_UNITS);return yt!==void 0?yt:mt[0]<=xt||mt[1]<=xt}const Mt=["butt","round","square"],zt=["miter","round","bevel"],Ut={},Dt={},qt=class{constructor(yt,mt,xt,Tt,kt,Ft,jt,$t){Yt(this,Bt);this.ctx=yt,this.current=new et(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=mt,this.objs=xt,this.canvasFactory=Tt,this.imageLayer=kt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=Ft,this.cachedCanvases=new lt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=jt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=($t==null?void 0:$t.background)||null,this.foregroundColor=($t==null?void 0:$t.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(yt,mt=null){return typeof yt=="string"?yt.startsWith("g_")?this.commonObjs.get(yt):this.objs.get(yt):mt}beginDrawing({transform:yt,viewport:mt,transparency:xt=!1,background:Tt=null}){const kt=this.ctx.canvas.width,Ft=this.ctx.canvas.height,jt=Tt||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const $t=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const ut=this.backgroundColor=this.ctx.fillStyle;let vt=!0,_t=jt;if(this.ctx.fillStyle=jt,_t=this.ctx.fillStyle,vt=typeof _t=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_t),$t==="#000000"&&ut==="#ffffff"||$t===ut||!vt)this.foregroundColor=this.backgroundColor=null;else{const[Et,At,Ot]=(0,a.getRGB)(_t),Xt=Vt=>(Vt/=255,Vt<=.03928?Vt/12.92:((Vt+.055)/1.055)**2.4),en=Math.round(.2126*Xt(Et)+.7152*Xt(At)+.0722*Xt(Ot));this.selectColor=(Vt,Qt,Gt)=>{const Zt=.2126*Xt(Vt)+.7152*Xt(Qt)+.0722*Xt(Gt);return Math.round(Zt)===en?ut:$t}}}if(this.ctx.fillStyle=this.backgroundColor||jt,this.ctx.fillRect(0,0,kt,Ft),this.ctx.restore(),xt){const $t=this.cachedCanvases.getCanvas("transparent",kt,Ft);this.compositeCtx=this.ctx,this.transparentCanvas=$t.canvas,this.ctx=$t.context,this.ctx.save(),this.ctx.transform(...(0,a.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),gt(this.ctx,this.foregroundColor),yt&&(this.ctx.transform(...yt),this.outputScaleX=yt[0],this.outputScaleY=yt[0]),this.ctx.transform(...mt.transform),this.viewportScale=mt.scale,this.baseTransform=(0,a.getCurrentTransform)(this.ctx),this.imageLayer&&((0,a.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(yt,mt,xt,Tt){const kt=yt.argsArray,Ft=yt.fnArray;let jt=mt||0;const $t=kt.length;if($t===jt)return jt;const ut=$t-jt>ht&&typeof xt=="function",vt=ut?Date.now()+ft:0;let _t=0;const Et=this.commonObjs,At=this.objs;let Ot;for(;;){if(Tt!==void 0&&jt===Tt.nextBreakPoint)return Tt.breakIt(jt,xt),jt;if(Ot=Ft[jt],Ot!==c.OPS.dependency)this[Ot].apply(this,kt[jt]);else for(const Xt of kt[jt]){const en=Xt.startsWith("g_")?Et:At;if(!en.has(Xt))return en.get(Xt,xt),jt}if(jt++,jt===$t)return jt;if(ut&&++_t>ht){if(Date.now()>vt)return xt(),jt;_t=0}}}endDrawing(){Jt(this,Bt,Jn).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const yt of this._cachedBitmapsMap.values()){for(const mt of yt.values())typeof HTMLCanvasElement<"u"&&mt instanceof HTMLCanvasElement&&(mt.width=mt.height=0);yt.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(yt,mt){const xt=yt.width,Tt=yt.height;let kt=Math.max(Math.hypot(mt[0],mt[1]),1),Ft=Math.max(Math.hypot(mt[2],mt[3]),1),jt=xt,$t=Tt,ut="prescale1",vt,_t;for(;kt>2&&jt>1||Ft>2&&$t>1;){let Et=jt,At=$t;kt>2&&jt>1&&(Et=Math.ceil(jt/2),kt/=jt/Et),Ft>2&&$t>1&&(At=Math.ceil($t/2),Ft/=$t/At),vt=this.cachedCanvases.getCanvas(ut,Et,At),_t=vt.context,_t.clearRect(0,0,Et,At),_t.drawImage(yt,0,0,jt,$t,0,0,Et,At),yt=vt.canvas,jt=Et,$t=At,ut=ut==="prescale1"?"prescale2":"prescale1"}return{img:yt,paintWidth:jt,paintHeight:$t}}_createMaskCanvas(yt){const mt=this.ctx,{width:xt,height:Tt}=yt,kt=this.current.fillColor,Ft=this.current.patternFill,jt=(0,a.getCurrentTransform)(mt);let $t,ut,vt,_t;if((yt.bitmap||yt.data)&&yt.count>1){const tn=yt.bitmap||yt.data.buffer,ln=jt.slice(0,4);ut=JSON.stringify(Ft?ln:[ln,kt]),$t=this._cachedBitmapsMap.get(tn),$t||($t=new Map,this._cachedBitmapsMap.set(tn,$t));const un=$t.get(ut);if(un&&!Ft){const hn=Math.round(Math.min(jt[0],jt[2])+jt[4]),pn=Math.round(Math.min(jt[1],jt[3])+jt[5]);return{canvas:un,offsetX:hn,offsetY:pn}}vt=un}vt||(_t=this.cachedCanvases.getCanvas("maskCanvas",xt,Tt),_e(_t.context,yt));let Et=c.Util.transform(jt,[1/xt,0,0,-1/Tt,0,0]);Et=c.Util.transform(Et,[1,0,0,1,0,-Tt]);const At=c.Util.applyTransform([0,0],Et),Ot=c.Util.applyTransform([xt,Tt],Et),Xt=c.Util.normalizeRect([At[0],At[1],Ot[0],Ot[1]]),en=Math.round(Xt[2]-Xt[0])||1,Vt=Math.round(Xt[3]-Xt[1])||1,Qt=this.cachedCanvases.getCanvas("fillCanvas",en,Vt),Gt=Qt.context,Zt=Math.min(At[0],Ot[0]),nn=Math.min(At[1],Ot[1]);Gt.translate(-Zt,-nn),Gt.transform(...Et),vt||(vt=this._scaleImage(_t.canvas,(0,a.getCurrentTransformInverse)(Gt)),vt=vt.img,$t&&Ft&&$t.set(ut,vt)),Gt.imageSmoothingEnabled=Lt((0,a.getCurrentTransform)(Gt),yt.interpolate),tt(Gt,vt,0,0,vt.width,vt.height,0,0,xt,Tt),Gt.globalCompositeOperation="source-in";const Pt=c.Util.transform((0,a.getCurrentTransformInverse)(Gt),[1,0,0,1,-Zt,-nn]);return Gt.fillStyle=Ft?kt.getPattern(mt,this,Pt,d.PathType.FILL):kt,Gt.fillRect(0,0,xt,Tt),$t&&!Ft&&(this.cachedCanvases.delete("fillCanvas"),$t.set(ut,Qt.canvas)),{canvas:Qt.canvas,offsetX:Math.round(Zt),offsetY:Math.round(nn)}}setLineWidth(yt){yt!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=yt,this.ctx.lineWidth=yt}setLineCap(yt){this.ctx.lineCap=Mt[yt]}setLineJoin(yt){this.ctx.lineJoin=zt[yt]}setMiterLimit(yt){this.ctx.miterLimit=yt}setDash(yt,mt){const xt=this.ctx;xt.setLineDash!==void 0&&(xt.setLineDash(yt),xt.lineDashOffset=mt)}setRenderingIntent(yt){}setFlatness(yt){}setGState(yt){for(let mt=0,xt=yt.length;mt<xt;mt++){const Tt=yt[mt],kt=Tt[0],Ft=Tt[1];switch(kt){case"LW":this.setLineWidth(Ft);break;case"LC":this.setLineCap(Ft);break;case"LJ":this.setLineJoin(Ft);break;case"ML":this.setMiterLimit(Ft);break;case"D":this.setDash(Ft[0],Ft[1]);break;case"RI":this.setRenderingIntent(Ft);break;case"FL":this.setFlatness(Ft);break;case"Font":this.setFont(Ft[0],Ft[1]);break;case"CA":this.current.strokeAlpha=Tt[1];break;case"ca":this.current.fillAlpha=Tt[1],this.ctx.globalAlpha=Tt[1];break;case"BM":this.ctx.globalCompositeOperation=Ft;break;case"SMask":this.current.activeSMask=Ft?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=Ft}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const yt=this.inSMaskMode;this.current.activeSMask&&!yt?this.beginSMaskMode():!this.current.activeSMask&&yt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const yt=this.ctx.canvas.width,mt=this.ctx.canvas.height,xt="smaskGroupAt"+this.groupLevel,Tt=this.cachedCanvases.getCanvas(xt,yt,mt);this.suspendedCtx=this.ctx,this.ctx=Tt.context;const kt=this.ctx;kt.setTransform(...(0,a.getCurrentTransform)(this.suspendedCtx)),it(this.suspendedCtx,kt),b(kt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),it(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(yt){if(!this.current.activeSMask)return;yt?(yt[0]=Math.floor(yt[0]),yt[1]=Math.floor(yt[1]),yt[2]=Math.ceil(yt[2]),yt[3]=Math.ceil(yt[3])):yt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const mt=this.current.activeSMask,xt=this.suspendedCtx;wt(xt,mt,this.ctx,yt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(it(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const yt=this.current;this.stateStack.push(yt),this.current=yt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),it(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(yt,mt,xt,Tt,kt,Ft){this.ctx.transform(yt,mt,xt,Tt,kt,Ft),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(yt,mt,xt){const Tt=this.ctx,kt=this.current;let Ft=kt.x,jt=kt.y,$t,ut;const vt=(0,a.getCurrentTransform)(Tt),_t=vt[0]===0&&vt[3]===0||vt[1]===0&&vt[2]===0,Et=_t?xt.slice(0):null;for(let At=0,Ot=0,Xt=yt.length;At<Xt;At++)switch(yt[At]|0){case c.OPS.rectangle:Ft=mt[Ot++],jt=mt[Ot++];const en=mt[Ot++],Vt=mt[Ot++],Qt=Ft+en,Gt=jt+Vt;Tt.moveTo(Ft,jt),en===0||Vt===0?Tt.lineTo(Qt,Gt):(Tt.lineTo(Qt,jt),Tt.lineTo(Qt,Gt),Tt.lineTo(Ft,Gt)),_t||kt.updateRectMinMax(vt,[Ft,jt,Qt,Gt]),Tt.closePath();break;case c.OPS.moveTo:Ft=mt[Ot++],jt=mt[Ot++],Tt.moveTo(Ft,jt),_t||kt.updatePathMinMax(vt,Ft,jt);break;case c.OPS.lineTo:Ft=mt[Ot++],jt=mt[Ot++],Tt.lineTo(Ft,jt),_t||kt.updatePathMinMax(vt,Ft,jt);break;case c.OPS.curveTo:$t=Ft,ut=jt,Ft=mt[Ot+4],jt=mt[Ot+5],Tt.bezierCurveTo(mt[Ot],mt[Ot+1],mt[Ot+2],mt[Ot+3],Ft,jt),kt.updateCurvePathMinMax(vt,$t,ut,mt[Ot],mt[Ot+1],mt[Ot+2],mt[Ot+3],Ft,jt,Et),Ot+=6;break;case c.OPS.curveTo2:$t=Ft,ut=jt,Tt.bezierCurveTo(Ft,jt,mt[Ot],mt[Ot+1],mt[Ot+2],mt[Ot+3]),kt.updateCurvePathMinMax(vt,$t,ut,Ft,jt,mt[Ot],mt[Ot+1],mt[Ot+2],mt[Ot+3],Et),Ft=mt[Ot+2],jt=mt[Ot+3],Ot+=4;break;case c.OPS.curveTo3:$t=Ft,ut=jt,Ft=mt[Ot+2],jt=mt[Ot+3],Tt.bezierCurveTo(mt[Ot],mt[Ot+1],Ft,jt,Ft,jt),kt.updateCurvePathMinMax(vt,$t,ut,mt[Ot],mt[Ot+1],Ft,jt,Ft,jt,Et),Ot+=4;break;case c.OPS.closePath:Tt.closePath();break}_t&&kt.updateScalingPathMinMax(vt,Et),kt.setCurrentPoint(Ft,jt)}closePath(){this.ctx.closePath()}stroke(yt){yt=typeof yt<"u"?yt:!0;const mt=this.ctx,xt=this.current.strokeColor;mt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof xt=="object"&&(xt!=null&&xt.getPattern)?(mt.save(),mt.strokeStyle=xt.getPattern(mt,this,(0,a.getCurrentTransformInverse)(mt),d.PathType.STROKE),this.rescaleAndStroke(!1),mt.restore()):this.rescaleAndStroke(!0)),yt&&this.consumePath(this.current.getClippedPathBoundingBox()),mt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(yt){yt=typeof yt<"u"?yt:!0;const mt=this.ctx,xt=this.current.fillColor,Tt=this.current.patternFill;let kt=!1;Tt&&(mt.save(),mt.fillStyle=xt.getPattern(mt,this,(0,a.getCurrentTransformInverse)(mt),d.PathType.FILL),kt=!0);const Ft=this.current.getClippedPathBoundingBox();this.contentVisible&&Ft!==null&&(this.pendingEOFill?(mt.fill("evenodd"),this.pendingEOFill=!1):mt.fill()),kt&&mt.restore(),yt&&this.consumePath(Ft)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Ut}eoClip(){this.pendingClip=Dt}beginText(){this.current.textMatrix=c.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const yt=this.pendingTextPaths,mt=this.ctx;if(yt===void 0){mt.beginPath();return}mt.save(),mt.beginPath();for(const xt of yt)mt.setTransform(...xt.transform),mt.translate(xt.x,xt.y),xt.addToPath(mt,xt.fontSize);mt.restore(),mt.clip(),mt.beginPath(),delete this.pendingTextPaths}setCharSpacing(yt){this.current.charSpacing=yt}setWordSpacing(yt){this.current.wordSpacing=yt}setHScale(yt){this.current.textHScale=yt/100}setLeading(yt){this.current.leading=-yt}setFont(yt,mt){const xt=this.commonObjs.get(yt),Tt=this.current;if(!xt)throw new Error(`Can't find font for ${yt}`);if(Tt.fontMatrix=xt.fontMatrix||c.FONT_IDENTITY_MATRIX,(Tt.fontMatrix[0]===0||Tt.fontMatrix[3]===0)&&(0,c.warn)("Invalid font matrix for font "+yt),mt<0?(mt=-mt,Tt.fontDirection=-1):Tt.fontDirection=1,this.current.font=xt,this.current.fontSize=mt,xt.isType3Font)return;const kt=xt.loadedName||"sans-serif";let Ft="normal";xt.black?Ft="900":xt.bold&&(Ft="bold");const jt=xt.italic?"italic":"normal",$t=`"${kt}", ${xt.fallbackName}`;let ut=mt;mt<$?ut=$:mt>nt&&(ut=nt),this.current.fontSizeScale=mt/ut,this.ctx.font=`${jt} ${Ft} ${ut}px ${$t}`}setTextRenderingMode(yt){this.current.textRenderingMode=yt}setTextRise(yt){this.current.textRise=yt}moveText(yt,mt){this.current.x=this.current.lineX+=yt,this.current.y=this.current.lineY+=mt}setLeadingMoveText(yt,mt){this.setLeading(-mt),this.moveText(yt,mt)}setTextMatrix(yt,mt,xt,Tt,kt,Ft){this.current.textMatrix=[yt,mt,xt,Tt,kt,Ft],this.current.textMatrixScale=Math.hypot(yt,mt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(yt,mt,xt,Tt){const kt=this.ctx,Ft=this.current,jt=Ft.font,$t=Ft.textRenderingMode,ut=Ft.fontSize/Ft.fontSizeScale,vt=$t&c.TextRenderingMode.FILL_STROKE_MASK,_t=!!($t&c.TextRenderingMode.ADD_TO_PATH_FLAG),Et=Ft.patternFill&&!jt.missingFile;let At;(jt.disableFontFace||_t||Et)&&(At=jt.getPathGenerator(this.commonObjs,yt)),jt.disableFontFace||Et?(kt.save(),kt.translate(mt,xt),kt.beginPath(),At(kt,ut),Tt&&kt.setTransform(...Tt),(vt===c.TextRenderingMode.FILL||vt===c.TextRenderingMode.FILL_STROKE)&&kt.fill(),(vt===c.TextRenderingMode.STROKE||vt===c.TextRenderingMode.FILL_STROKE)&&kt.stroke(),kt.restore()):((vt===c.TextRenderingMode.FILL||vt===c.TextRenderingMode.FILL_STROKE)&&kt.fillText(yt,mt,xt),(vt===c.TextRenderingMode.STROKE||vt===c.TextRenderingMode.FILL_STROKE)&&kt.strokeText(yt,mt,xt)),_t&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,a.getCurrentTransform)(kt),x:mt,y:xt,fontSize:ut,addToPath:At})}get isFontSubpixelAAEnabled(){const{context:yt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);yt.scale(1.5,1),yt.fillText("I",0,10);const mt=yt.getImageData(0,0,10,10).data;let xt=!1;for(let Tt=3;Tt<mt.length;Tt+=4)if(mt[Tt]>0&&mt[Tt]<255){xt=!0;break}return(0,c.shadow)(this,"isFontSubpixelAAEnabled",xt)}showText(yt){const mt=this.current,xt=mt.font;if(xt.isType3Font)return this.showType3Text(yt);const Tt=mt.fontSize;if(Tt===0)return;const kt=this.ctx,Ft=mt.fontSizeScale,jt=mt.charSpacing,$t=mt.wordSpacing,ut=mt.fontDirection,vt=mt.textHScale*ut,_t=yt.length,Et=xt.vertical,At=Et?1:-1,Ot=xt.defaultVMetrics,Xt=Tt*mt.fontMatrix[0],en=mt.textRenderingMode===c.TextRenderingMode.FILL&&!xt.disableFontFace&&!mt.patternFill;kt.save(),kt.transform(...mt.textMatrix),kt.translate(mt.x,mt.y+mt.textRise),ut>0?kt.scale(vt,-1):kt.scale(vt,1);let Vt;if(mt.patternFill){kt.save();const Pt=mt.fillColor.getPattern(kt,this,(0,a.getCurrentTransformInverse)(kt),d.PathType.FILL);Vt=(0,a.getCurrentTransform)(kt),kt.restore(),kt.fillStyle=Pt}let Qt=mt.lineWidth;const Gt=mt.textMatrixScale;if(Gt===0||Qt===0){const Pt=mt.textRenderingMode&c.TextRenderingMode.FILL_STROKE_MASK;(Pt===c.TextRenderingMode.STROKE||Pt===c.TextRenderingMode.FILL_STROKE)&&(Qt=this.getSinglePixelWidth())}else Qt/=Gt;Ft!==1&&(kt.scale(Ft,Ft),Qt/=Ft),kt.lineWidth=Qt;let Zt=0,nn;for(nn=0;nn<_t;++nn){const Pt=yt[nn];if(typeof Pt=="number"){Zt+=At*Pt*Tt/1e3;continue}let tn=!1;const ln=(Pt.isSpace?$t:0)+jt,un=Pt.fontChar,hn=Pt.accent;let pn,Sn,_n=Pt.width;if(Et){const gn=Pt.vmetric||Ot,xn=-(Pt.vmetric?gn[1]:_n*.5)*Xt,zn=gn[2]*Xt;_n=gn?-gn[0]:_n,pn=xn/Ft,Sn=(Zt+zn)/Ft}else pn=Zt/Ft,Sn=0;if(xt.remeasure&&_n>0){const gn=kt.measureText(un).width*1e3/Tt*Ft;if(_n<gn&&this.isFontSubpixelAAEnabled){const xn=_n/gn;tn=!0,kt.save(),kt.scale(xn,1),pn/=xn}else _n!==gn&&(pn+=(_n-gn)/2e3*Tt/Ft)}if(this.contentVisible&&(Pt.isInFont||xt.missingFile)){if(en&&!hn)kt.fillText(un,pn,Sn);else if(this.paintChar(un,pn,Sn,Vt),hn){const gn=pn+Tt*hn.offset.x/Ft,xn=Sn-Tt*hn.offset.y/Ft;this.paintChar(hn.fontChar,gn,xn,Vt)}}let Dn;Et?Dn=_n*Xt-ln*ut:Dn=_n*Xt+ln*ut,Zt+=Dn,tn&&kt.restore()}Et?mt.y-=Zt:mt.x+=Zt*vt,kt.restore(),this.compose()}showType3Text(yt){const mt=this.ctx,xt=this.current,Tt=xt.font,kt=xt.fontSize,Ft=xt.fontDirection,jt=Tt.vertical?1:-1,$t=xt.charSpacing,ut=xt.wordSpacing,vt=xt.textHScale*Ft,_t=xt.fontMatrix||c.FONT_IDENTITY_MATRIX,Et=yt.length,At=xt.textRenderingMode===c.TextRenderingMode.INVISIBLE;let Ot,Xt,en,Vt;if(!(At||kt===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,mt.save(),mt.transform(...xt.textMatrix),mt.translate(xt.x,xt.y),mt.scale(vt,Ft),Ot=0;Ot<Et;++Ot){if(Xt=yt[Ot],typeof Xt=="number"){Vt=jt*Xt*kt/1e3,this.ctx.translate(Vt,0),xt.x+=Vt*vt;continue}const Qt=(Xt.isSpace?ut:0)+$t,Gt=Tt.charProcOperatorList[Xt.operatorListId];if(!Gt){(0,c.warn)(`Type3 character "${Xt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Xt,this.save(),mt.scale(kt,kt),mt.transform(..._t),this.executeOperatorList(Gt),this.restore()),en=c.Util.applyTransform([Xt.width,0],_t)[0]*kt+Qt,mt.translate(en,0),xt.x+=en*vt}mt.restore(),this.processingType3=null}}setCharWidth(yt,mt){}setCharWidthAndBounds(yt,mt,xt,Tt,kt,Ft){this.ctx.rect(xt,Tt,kt-xt,Ft-Tt),this.ctx.clip(),this.endPath()}getColorN_Pattern(yt){let mt;if(yt[0]==="TilingPattern"){const xt=yt[1],Tt=this.baseTransform||(0,a.getCurrentTransform)(this.ctx),kt={createCanvasGraphics:Ft=>new qt(Ft,this.commonObjs,this.objs,this.canvasFactory)};mt=new d.TilingPattern(yt,xt,this.ctx,kt,Tt)}else mt=this._getPattern(yt[1],yt[2]);return mt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(yt,mt,xt){var kt;const Tt=((kt=this.selectColor)==null?void 0:kt.call(this,yt,mt,xt))||c.Util.makeHexColor(yt,mt,xt);this.ctx.strokeStyle=Tt,this.current.strokeColor=Tt}setFillRGBColor(yt,mt,xt){var kt;const Tt=((kt=this.selectColor)==null?void 0:kt.call(this,yt,mt,xt))||c.Util.makeHexColor(yt,mt,xt);this.ctx.fillStyle=Tt,this.current.fillColor=Tt,this.current.patternFill=!1}_getPattern(yt,mt=null){let xt;return this.cachedPatterns.has(yt)?xt=this.cachedPatterns.get(yt):(xt=(0,d.getShadingPattern)(this.objs.get(yt)),this.cachedPatterns.set(yt,xt)),mt&&(xt.matrix=mt),xt}shadingFill(yt){if(!this.contentVisible)return;const mt=this.ctx;this.save();const xt=this._getPattern(yt);mt.fillStyle=xt.getPattern(mt,this,(0,a.getCurrentTransformInverse)(mt),d.PathType.SHADING);const Tt=(0,a.getCurrentTransformInverse)(mt);if(Tt){const kt=mt.canvas,Ft=kt.width,jt=kt.height,$t=c.Util.applyTransform([0,0],Tt),ut=c.Util.applyTransform([0,jt],Tt),vt=c.Util.applyTransform([Ft,0],Tt),_t=c.Util.applyTransform([Ft,jt],Tt),Et=Math.min($t[0],ut[0],vt[0],_t[0]),At=Math.min($t[1],ut[1],vt[1],_t[1]),Ot=Math.max($t[0],ut[0],vt[0],_t[0]),Xt=Math.max($t[1],ut[1],vt[1],_t[1]);this.ctx.fillRect(Et,At,Ot-Et,Xt-At)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,c.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,c.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(yt,mt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(yt)&&yt.length===6&&this.transform(...yt),this.baseTransform=(0,a.getCurrentTransform)(this.ctx),mt)){const xt=mt[2]-mt[0],Tt=mt[3]-mt[1];this.ctx.rect(mt[0],mt[1],xt,Tt),this.current.updateRectMinMax((0,a.getCurrentTransform)(this.ctx),mt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(yt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const mt=this.ctx;yt.isolated||(0,c.info)("TODO: Support non-isolated groups."),yt.knockout&&(0,c.warn)("Knockout groups not supported.");const xt=(0,a.getCurrentTransform)(mt);if(yt.matrix&&mt.transform(...yt.matrix),!yt.bbox)throw new Error("Bounding box is required.");let Tt=c.Util.getAxialAlignedBoundingBox(yt.bbox,(0,a.getCurrentTransform)(mt));const kt=[0,0,mt.canvas.width,mt.canvas.height];Tt=c.Util.intersect(Tt,kt)||[0,0,0,0];const Ft=Math.floor(Tt[0]),jt=Math.floor(Tt[1]);let $t=Math.max(Math.ceil(Tt[2])-Ft,1),ut=Math.max(Math.ceil(Tt[3])-jt,1),vt=1,_t=1;$t>dt&&(vt=$t/dt,$t=dt),ut>dt&&(_t=ut/dt,ut=dt),this.current.startNewPathAndClipBox([0,0,$t,ut]);let Et="groupAt"+this.groupLevel;yt.smask&&(Et+="_smask_"+this.smaskCounter++%2);const At=this.cachedCanvases.getCanvas(Et,$t,ut),Ot=At.context;Ot.scale(1/vt,1/_t),Ot.translate(-Ft,-jt),Ot.transform(...xt),yt.smask?this.smaskStack.push({canvas:At.canvas,context:Ot,offsetX:Ft,offsetY:jt,scaleX:vt,scaleY:_t,subtype:yt.smask.subtype,backdrop:yt.smask.backdrop,transferMap:yt.smask.transferMap||null,startTransformInverse:null}):(mt.setTransform(1,0,0,1,0,0),mt.translate(Ft,jt),mt.scale(vt,_t),mt.save()),it(mt,Ot),this.ctx=Ot,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(mt),this.groupLevel++}endGroup(yt){if(!this.contentVisible)return;this.groupLevel--;const mt=this.ctx,xt=this.groupStack.pop();if(this.ctx=xt,this.ctx.imageSmoothingEnabled=!1,yt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Tt=(0,a.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Tt);const kt=c.Util.getAxialAlignedBoundingBox([0,0,mt.canvas.width,mt.canvas.height],Tt);this.ctx.drawImage(mt.canvas,0,0),this.ctx.restore(),this.compose(kt)}}beginAnnotation(yt,mt,xt,Tt,kt){if(Jt(this,Bt,Jn).call(this),gt(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(mt)&&mt.length===4){const Ft=mt[2]-mt[0],jt=mt[3]-mt[1];if(kt&&this.annotationCanvasMap){xt=xt.slice(),xt[4]-=mt[0],xt[5]-=mt[1],mt=mt.slice(),mt[0]=mt[1]=0,mt[2]=Ft,mt[3]=jt;const[$t,ut]=c.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)(this.ctx)),{viewportScale:vt}=this,_t=Math.ceil(Ft*this.outputScaleX*vt),Et=Math.ceil(jt*this.outputScaleY*vt);this.annotationCanvas=this.canvasFactory.create(_t,Et);const{canvas:At,context:Ot}=this.annotationCanvas;this.annotationCanvasMap.set(yt,At),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Ot,this.ctx.setTransform($t,0,0,-ut,0,jt*ut),gt(this.ctx,this.foregroundColor)}else gt(this.ctx,this.foregroundColor),this.ctx.rect(mt[0],mt[1],Ft,jt),this.ctx.clip(),this.endPath()}this.current=new et(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...xt),this.transform(...Tt)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(yt){if(!this.contentVisible)return;const mt=yt.count;yt=this.getObject(yt.data,yt),yt.count=mt;const xt=this.ctx,Tt=this.processingType3;if(Tt&&(Tt.compiled===void 0&&(Tt.compiled=st(yt)),Tt.compiled)){Tt.compiled(xt);return}const kt=this._createMaskCanvas(yt),Ft=kt.canvas;xt.save(),xt.setTransform(1,0,0,1,0,0),xt.drawImage(Ft,kt.offsetX,kt.offsetY),xt.restore(),this.compose()}paintImageMaskXObjectRepeat(yt,mt,xt=0,Tt=0,kt,Ft){if(!this.contentVisible)return;yt=this.getObject(yt.data,yt);const jt=this.ctx;jt.save();const $t=(0,a.getCurrentTransform)(jt);jt.transform(mt,xt,Tt,kt,0,0);const ut=this._createMaskCanvas(yt);jt.setTransform(1,0,0,1,0,0);for(let vt=0,_t=Ft.length;vt<_t;vt+=2){const Et=c.Util.transform($t,[mt,xt,Tt,kt,Ft[vt],Ft[vt+1]]),[At,Ot]=c.Util.applyTransform([0,0],Et);jt.drawImage(ut.canvas,At,Ot)}jt.restore(),this.compose()}paintImageMaskXObjectGroup(yt){if(!this.contentVisible)return;const mt=this.ctx,xt=this.current.fillColor,Tt=this.current.patternFill;for(const kt of yt){const{data:Ft,width:jt,height:$t,transform:ut}=kt,vt=this.cachedCanvases.getCanvas("maskCanvas",jt,$t),_t=vt.context;_t.save();const Et=this.getObject(Ft,kt);_e(_t,Et),_t.globalCompositeOperation="source-in",_t.fillStyle=Tt?xt.getPattern(_t,this,(0,a.getCurrentTransformInverse)(mt),d.PathType.FILL):xt,_t.fillRect(0,0,jt,$t),_t.restore(),mt.save(),mt.transform(...ut),mt.scale(1,-1),tt(mt,vt.canvas,0,0,jt,$t,0,-1,1,1),mt.restore()}this.compose()}paintImageXObject(yt){if(!this.contentVisible)return;const mt=this.getObject(yt);if(!mt){(0,c.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(mt)}paintImageXObjectRepeat(yt,mt,xt,Tt){if(!this.contentVisible)return;const kt=this.getObject(yt);if(!kt){(0,c.warn)("Dependent image isn't ready yet");return}const Ft=kt.width,jt=kt.height,$t=[];for(let ut=0,vt=Tt.length;ut<vt;ut+=2)$t.push({transform:[mt,0,0,xt,Tt[ut],Tt[ut+1]],x:0,y:0,w:Ft,h:jt});this.paintInlineImageXObjectGroup(kt,$t)}paintInlineImageXObject(yt){if(!this.contentVisible)return;const mt=yt.width,xt=yt.height,Tt=this.ctx;this.save(),Tt.scale(1/mt,-1/xt);let kt;if(typeof HTMLElement=="function"&&yt instanceof HTMLElement||!yt.data)kt=yt;else{const ut=this.cachedCanvases.getCanvas("inlineImage",mt,xt),vt=ut.context;g(vt,yt,this.current.transferMaps),kt=ut.canvas}const Ft=this._scaleImage(kt,(0,a.getCurrentTransformInverse)(Tt));Tt.imageSmoothingEnabled=Lt((0,a.getCurrentTransform)(Tt),yt.interpolate);const[jt,$t]=tt(Tt,Ft.img,0,0,Ft.paintWidth,Ft.paintHeight,0,-xt,mt,xt);if(this.imageLayer){const[ut,vt]=c.Util.applyTransform([0,-xt],(0,a.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:yt,left:ut,top:vt,width:jt,height:$t})}this.compose(),this.restore()}paintInlineImageXObjectGroup(yt,mt){if(!this.contentVisible)return;const xt=this.ctx,Tt=yt.width,kt=yt.height,Ft=this.cachedCanvases.getCanvas("inlineImage",Tt,kt),jt=Ft.context;g(jt,yt,this.current.transferMaps);for(const $t of mt){if(xt.save(),xt.transform(...$t.transform),xt.scale(1,-1),tt(xt,Ft.canvas,$t.x,$t.y,$t.w,$t.h,0,-1,1,1),this.imageLayer){const[ut,vt]=c.Util.applyTransform([$t.x,$t.y],(0,a.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:yt,left:ut,top:vt,width:Tt,height:kt})}xt.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(yt){}markPointProps(yt,mt){}beginMarkedContent(yt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(yt,mt){yt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(mt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(yt){const mt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(yt);const xt=this.ctx;this.pendingClip&&(mt||(this.pendingClip===Dt?xt.clip("evenodd"):xt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),xt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const yt=(0,a.getCurrentTransform)(this.ctx);if(yt[1]===0&&yt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(yt[0]),Math.abs(yt[3]));else{const mt=Math.abs(yt[0]*yt[3]-yt[2]*yt[1]),xt=Math.hypot(yt[0],yt[2]),Tt=Math.hypot(yt[1],yt[3]);this._cachedGetSinglePixelWidth=Math.max(xt,Tt)/mt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:yt}=this.current,mt=(0,a.getCurrentTransform)(this.ctx);let xt,Tt;if(mt[1]===0&&mt[2]===0){const kt=Math.abs(mt[0]),Ft=Math.abs(mt[3]);if(yt===0)xt=1/kt,Tt=1/Ft;else{const jt=kt*yt,$t=Ft*yt;xt=jt<1?1/jt:1,Tt=$t<1?1/$t:1}}else{const kt=Math.abs(mt[0]*mt[3]-mt[2]*mt[1]),Ft=Math.hypot(mt[0],mt[1]),jt=Math.hypot(mt[2],mt[3]);if(yt===0)xt=jt/kt,Tt=Ft/kt;else{const $t=yt*kt;xt=jt>$t?jt/$t:1,Tt=Ft>$t?Ft/$t:1}}this._cachedScaleForStroking=[xt,Tt]}return this._cachedScaleForStroking}rescaleAndStroke(yt){const{ctx:mt}=this,{lineWidth:xt}=this.current,[Tt,kt]=this.getScaleForStroking();if(mt.lineWidth=xt||1,Tt===1&&kt===1){mt.stroke();return}let Ft,jt,$t;yt&&(Ft=(0,a.getCurrentTransform)(mt),jt=mt.getLineDash().slice(),$t=mt.lineDashOffset),mt.scale(Tt,kt);const ut=Math.max(Tt,kt);mt.setLineDash(mt.getLineDash().map(vt=>vt/ut)),mt.lineDashOffset/=ut,mt.stroke(),yt&&(mt.setTransform(...Ft),mt.setLineDash(jt),mt.lineDashOffset=$t)}isContentVisible(){for(let yt=this.markedContentStack.length-1;yt>=0;yt--)if(!this.markedContentStack[yt].visible)return!1;return!0}};let Rt=qt;Bt=new WeakSet,Jn=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},s.CanvasGraphics=Rt;for(const Ct in c.OPS)Rt.prototype[Ct]!==void 0&&(Rt.prototype[c.OPS[Ct]]=Rt.prototype[Ct])},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TilingPattern=s.PathType=void 0,s.getShadingPattern=ot;var a=o(1),c=o(8),d=o(3);const _={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};s.PathType=_;function j(tt,st){if(!st||d.isNodeJS)return;const et=st[2]-st[0],g=st[3]-st[1],_e=new Path2D;_e.rect(st[0],st[1],et,g),tt.clip(_e)}class ${constructor(){this.constructor===$&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,a.unreachable)("Abstract method `getPattern` called.")}}class nt extends ${constructor(st){super(),this._type=st[1],this._bbox=st[2],this._colorStops=st[3],this._p0=st[4],this._p1=st[5],this._r0=st[6],this._r1=st[7],this.matrix=null}_createGradient(st){let et;this._type==="axial"?et=st.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(et=st.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const g of this._colorStops)et.addColorStop(g[0],g[1]);return et}getPattern(st,et,g,_e){let it;if(_e===_.STROKE||_e===_.FILL){const gt=et.current.getClippedPathBoundingBox(_e,(0,c.getCurrentTransform)(st))||[0,0,0,0],rt=Math.ceil(gt[2]-gt[0])||1,at=Math.ceil(gt[3]-gt[1])||1,ct=et.cachedCanvases.getCanvas("pattern",rt,at,!0),St=ct.context;St.clearRect(0,0,St.canvas.width,St.canvas.height),St.beginPath(),St.rect(0,0,St.canvas.width,St.canvas.height),St.translate(-gt[0],-gt[1]),g=a.Util.transform(g,[1,0,0,1,gt[0],gt[1]]),St.transform(...et.baseTransform),this.matrix&&St.transform(...this.matrix),j(St,this._bbox),St.fillStyle=this._createGradient(St),St.fill(),it=st.createPattern(ct.canvas,"no-repeat");const wt=new DOMMatrix(g);try{it.setTransform(wt)}catch(Lt){(0,a.warn)(`RadialAxialShadingPattern.getPattern: "${Lt==null?void 0:Lt.message}".`)}}else j(st,this._bbox),it=this._createGradient(st);return it}}function dt(tt,st,et,g,_e,it,gt,rt){const at=st.coords,ct=st.colors,St=tt.data,wt=tt.width*4;let Lt;at[et+1]>at[g+1]&&(Lt=et,et=g,g=Lt,Lt=it,it=gt,gt=Lt),at[g+1]>at[_e+1]&&(Lt=g,g=_e,_e=Lt,Lt=gt,gt=rt,rt=Lt),at[et+1]>at[g+1]&&(Lt=et,et=g,g=Lt,Lt=it,it=gt,gt=Lt);const Mt=(at[et]+st.offsetX)*st.scaleX,zt=(at[et+1]+st.offsetY)*st.scaleY,Ut=(at[g]+st.offsetX)*st.scaleX,Dt=(at[g+1]+st.offsetY)*st.scaleY,Rt=(at[_e]+st.offsetX)*st.scaleX,Bt=(at[_e+1]+st.offsetY)*st.scaleY;if(zt>=Bt)return;const Ht=ct[it],qt=ct[it+1],Ct=ct[it+2],yt=ct[gt],mt=ct[gt+1],xt=ct[gt+2],Tt=ct[rt],kt=ct[rt+1],Ft=ct[rt+2],jt=Math.round(zt),$t=Math.round(Bt);let ut,vt,_t,Et,At,Ot,Xt,en;for(let Vt=jt;Vt<=$t;Vt++){if(Vt<Dt){let Pt;Vt<zt?Pt=0:Pt=(zt-Vt)/(zt-Dt),ut=Mt-(Mt-Ut)*Pt,vt=Ht-(Ht-yt)*Pt,_t=qt-(qt-mt)*Pt,Et=Ct-(Ct-xt)*Pt}else{let Pt;Vt>Bt?Pt=1:Dt===Bt?Pt=0:Pt=(Dt-Vt)/(Dt-Bt),ut=Ut-(Ut-Rt)*Pt,vt=yt-(yt-Tt)*Pt,_t=mt-(mt-kt)*Pt,Et=xt-(xt-Ft)*Pt}let Qt;Vt<zt?Qt=0:Vt>Bt?Qt=1:Qt=(zt-Vt)/(zt-Bt),At=Mt-(Mt-Rt)*Qt,Ot=Ht-(Ht-Tt)*Qt,Xt=qt-(qt-kt)*Qt,en=Ct-(Ct-Ft)*Qt;const Gt=Math.round(Math.min(ut,At)),Zt=Math.round(Math.max(ut,At));let nn=wt*Vt+Gt*4;for(let Pt=Gt;Pt<=Zt;Pt++)Qt=(ut-Pt)/(ut-At),Qt<0?Qt=0:Qt>1&&(Qt=1),St[nn++]=vt-(vt-Ot)*Qt|0,St[nn++]=_t-(_t-Xt)*Qt|0,St[nn++]=Et-(Et-en)*Qt|0,St[nn++]=255}}function ft(tt,st,et){const g=st.coords,_e=st.colors;let it,gt;switch(st.type){case"lattice":const rt=st.verticesPerRow,at=Math.floor(g.length/rt)-1,ct=rt-1;for(it=0;it<at;it++){let St=it*rt;for(let wt=0;wt<ct;wt++,St++)dt(tt,et,g[St],g[St+1],g[St+rt],_e[St],_e[St+1],_e[St+rt]),dt(tt,et,g[St+rt+1],g[St+1],g[St+rt],_e[St+rt+1],_e[St+1],_e[St+rt])}break;case"triangles":for(it=0,gt=g.length;it<gt;it+=3)dt(tt,et,g[it],g[it+1],g[it+2],_e[it],_e[it+1],_e[it+2]);break;default:throw new Error("illegal figure")}}class ht extends ${constructor(st){super(),this._coords=st[2],this._colors=st[3],this._figures=st[4],this._bounds=st[5],this._bbox=st[7],this._background=st[8],this.matrix=null}_createMeshCanvas(st,et,g){const rt=Math.floor(this._bounds[0]),at=Math.floor(this._bounds[1]),ct=Math.ceil(this._bounds[2])-rt,St=Math.ceil(this._bounds[3])-at,wt=Math.min(Math.ceil(Math.abs(ct*st[0]*1.1)),3e3),Lt=Math.min(Math.ceil(Math.abs(St*st[1]*1.1)),3e3),Mt=ct/wt,zt=St/Lt,Ut={coords:this._coords,colors:this._colors,offsetX:-rt,offsetY:-at,scaleX:1/Mt,scaleY:1/zt},Dt=wt+2*2,Rt=Lt+2*2,Bt=g.getCanvas("mesh",Dt,Rt,!1),Ht=Bt.context,qt=Ht.createImageData(wt,Lt);if(et){const yt=qt.data;for(let mt=0,xt=yt.length;mt<xt;mt+=4)yt[mt]=et[0],yt[mt+1]=et[1],yt[mt+2]=et[2],yt[mt+3]=255}for(const yt of this._figures)ft(qt,yt,Ut);return Ht.putImageData(qt,2,2),{canvas:Bt.canvas,offsetX:rt-2*Mt,offsetY:at-2*zt,scaleX:Mt,scaleY:zt}}getPattern(st,et,g,_e){j(st,this._bbox);let it;if(_e===_.SHADING)it=a.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(st));else if(it=a.Util.singularValueDecompose2dScale(et.baseTransform),this.matrix){const rt=a.Util.singularValueDecompose2dScale(this.matrix);it=[it[0]*rt[0],it[1]*rt[1]]}const gt=this._createMeshCanvas(it,_e===_.SHADING?null:this._background,et.cachedCanvases);return _e!==_.SHADING&&(st.setTransform(...et.baseTransform),this.matrix&&st.transform(...this.matrix)),st.translate(gt.offsetX,gt.offsetY),st.scale(gt.scaleX,gt.scaleY),st.createPattern(gt.canvas,"no-repeat")}}class pt extends ${getPattern(){return"hotpink"}}function ot(tt){switch(tt[0]){case"RadialAxial":return new nt(tt);case"Mesh":return new ht(tt);case"Dummy":return new pt}throw new Error(`Unknown IR type: ${tt[0]}`)}const b={COLORED:1,UNCOLORED:2};class lt{static get MAX_PATTERN_SIZE(){return(0,a.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(st,et,g,_e,it){this.operatorList=st[2],this.matrix=st[3]||[1,0,0,1,0,0],this.bbox=st[4],this.xstep=st[5],this.ystep=st[6],this.paintType=st[7],this.tilingType=st[8],this.color=et,this.ctx=g,this.canvasGraphicsFactory=_e,this.baseTransform=it}createPatternCanvas(st){const et=this.operatorList,g=this.bbox,_e=this.xstep,it=this.ystep,gt=this.paintType,rt=this.tilingType,at=this.color,ct=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+rt);const St=g[0],wt=g[1],Lt=g[2],Mt=g[3],zt=a.Util.singularValueDecompose2dScale(this.matrix),Ut=a.Util.singularValueDecompose2dScale(this.baseTransform),Dt=[zt[0]*Ut[0],zt[1]*Ut[1]],Rt=this.getSizeAndScale(_e,this.ctx.canvas.width,Dt[0]),Bt=this.getSizeAndScale(it,this.ctx.canvas.height,Dt[1]),Ht=st.cachedCanvases.getCanvas("pattern",Rt.size,Bt.size,!0),qt=Ht.context,Ct=ct.createCanvasGraphics(qt);Ct.groupLevel=st.groupLevel,this.setFillAndStrokeStyleToContext(Ct,gt,at);let yt=St,mt=wt,xt=Lt,Tt=Mt;return St<0&&(yt=0,xt+=Math.abs(St)),wt<0&&(mt=0,Tt+=Math.abs(wt)),qt.translate(-(Rt.scale*yt),-(Bt.scale*mt)),Ct.transform(Rt.scale,0,0,Bt.scale,0,0),qt.save(),this.clipBbox(Ct,yt,mt,xt,Tt),Ct.baseTransform=(0,c.getCurrentTransform)(Ct.ctx),Ct.executeOperatorList(et),Ct.endDrawing(),{canvas:Ht.canvas,scaleX:Rt.scale,scaleY:Bt.scale,offsetX:yt,offsetY:mt}}getSizeAndScale(st,et,g){st=Math.abs(st);const _e=Math.max(lt.MAX_PATTERN_SIZE,et);let it=Math.ceil(st*g);return it>=_e?it=_e:g=it/st,{scale:g,size:it}}clipBbox(st,et,g,_e,it){const gt=_e-et,rt=it-g;st.ctx.rect(et,g,gt,rt),st.current.updateRectMinMax((0,c.getCurrentTransform)(st.ctx),[et,g,_e,it]),st.clip(),st.endPath()}setFillAndStrokeStyleToContext(st,et,g){const _e=st.ctx,it=st.current;switch(et){case b.COLORED:const gt=this.ctx;_e.fillStyle=gt.fillStyle,_e.strokeStyle=gt.strokeStyle,it.fillColor=gt.fillStyle,it.strokeColor=gt.strokeStyle;break;case b.UNCOLORED:const rt=a.Util.makeHexColor(g[0],g[1],g[2]);_e.fillStyle=rt,_e.strokeStyle=rt,it.fillColor=rt,it.strokeColor=rt;break;default:throw new a.FormatError(`Unsupported paint type: ${et}`)}}getPattern(st,et,g,_e){let it=g;_e!==_.SHADING&&(it=a.Util.transform(it,et.baseTransform),this.matrix&&(it=a.Util.transform(it,this.matrix)));const gt=this.createPatternCanvas(et);let rt=new DOMMatrix(it);rt=rt.translate(gt.offsetX,gt.offsetY),rt=rt.scale(1/gt.scaleX,1/gt.scaleY);const at=st.createPattern(gt.canvas,"repeat");try{at.setTransform(rt)}catch(ct){(0,a.warn)(`TilingPattern.getPattern: "${ct==null?void 0:ct.message}".`)}return at}}s.TilingPattern=lt},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.applyMaskImageData=c;var a=o(1);function c({src:d,srcPos:_=0,dest:j,destPos:$=0,width:nt,height:dt,inverseDecode:ft=!1}){const ht=a.FeatureTest.isLittleEndian?4278190080:255,[pt,ot]=ft?[0,ht]:[ht,0],b=nt>>3,lt=nt&7,tt=d.length;j=new Uint32Array(j.buffer);for(let st=0;st<dt;st++){for(const g=_+b;_<g;_++){const _e=_<tt?d[_]:255;j[$++]=_e&128?ot:pt,j[$++]=_e&64?ot:pt,j[$++]=_e&32?ot:pt,j[$++]=_e&16?ot:pt,j[$++]=_e&8?ot:pt,j[$++]=_e&4?ot:pt,j[$++]=_e&2?ot:pt,j[$++]=_e&1?ot:pt}if(lt===0)continue;const et=_<tt?d[_++]:255;for(let g=0;g<lt;g++)j[$++]=et&1<<7-g?ot:pt}return{srcPos:_,destPos:$}}},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GlobalWorkerOptions=void 0;const o=Object.create(null);s.GlobalWorkerOptions=o,o.workerPort=o.workerPort===void 0?null:o.workerPort,o.workerSrc=o.workerSrc===void 0?"":o.workerSrc},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MessageHandler=void 0;var a=o(1);const c={UNKNOWN:0,DATA:1,ERROR:2},d={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function _($){switch($ instanceof Error||typeof $=="object"&&$!==null||(0,a.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),$.name){case"AbortException":return new a.AbortException($.message);case"MissingPDFException":return new a.MissingPDFException($.message);case"PasswordException":return new a.PasswordException($.message,$.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException($.message,$.status);case"UnknownErrorException":return new a.UnknownErrorException($.message,$.details);default:return new a.UnknownErrorException($.message,$.toString())}}class j{constructor(nt,dt,ft){this.sourceName=nt,this.targetName=dt,this.comObj=ft,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=ht=>{const pt=ht.data;if(pt.targetName!==this.sourceName)return;if(pt.stream){this._processStreamMessage(pt);return}if(pt.callback){const b=pt.callbackId,lt=this.callbackCapabilities[b];if(!lt)throw new Error(`Cannot resolve callback ${b}`);if(delete this.callbackCapabilities[b],pt.callback===c.DATA)lt.resolve(pt.data);else if(pt.callback===c.ERROR)lt.reject(_(pt.reason));else throw new Error("Unexpected callback case");return}const ot=this.actionHandler[pt.action];if(!ot)throw new Error(`Unknown action from worker: ${pt.action}`);if(pt.callbackId){const b=this.sourceName,lt=pt.sourceName;new Promise(function(tt){tt(ot(pt.data))}).then(function(tt){ft.postMessage({sourceName:b,targetName:lt,callback:c.DATA,callbackId:pt.callbackId,data:tt})},function(tt){ft.postMessage({sourceName:b,targetName:lt,callback:c.ERROR,callbackId:pt.callbackId,reason:_(tt)})});return}if(pt.streamId){this._createStreamSink(pt);return}ot(pt.data)},ft.addEventListener("message",this._onComObjOnMessage)}on(nt,dt){const ft=this.actionHandler;if(ft[nt])throw new Error(`There is already an actionName called "${nt}"`);ft[nt]=dt}send(nt,dt,ft){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:nt,data:dt},ft)}sendWithPromise(nt,dt,ft){const ht=this.callbackId++,pt=(0,a.createPromiseCapability)();this.callbackCapabilities[ht]=pt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:nt,callbackId:ht,data:dt},ft)}catch(ot){pt.reject(ot)}return pt.promise}sendWithStream(nt,dt,ft,ht){const pt=this.streamId++,ot=this.sourceName,b=this.targetName,lt=this.comObj;return new ReadableStream({start:tt=>{const st=(0,a.createPromiseCapability)();return this.streamControllers[pt]={controller:tt,startCall:st,pullCall:null,cancelCall:null,isClosed:!1},lt.postMessage({sourceName:ot,targetName:b,action:nt,streamId:pt,data:dt,desiredSize:tt.desiredSize},ht),st.promise},pull:tt=>{const st=(0,a.createPromiseCapability)();return this.streamControllers[pt].pullCall=st,lt.postMessage({sourceName:ot,targetName:b,stream:d.PULL,streamId:pt,desiredSize:tt.desiredSize}),st.promise},cancel:tt=>{(0,a.assert)(tt instanceof Error,"cancel must have a valid reason");const st=(0,a.createPromiseCapability)();return this.streamControllers[pt].cancelCall=st,this.streamControllers[pt].isClosed=!0,lt.postMessage({sourceName:ot,targetName:b,stream:d.CANCEL,streamId:pt,reason:_(tt)}),st.promise}},ft)}_createStreamSink(nt){const dt=nt.streamId,ft=this.sourceName,ht=nt.sourceName,pt=this.comObj,ot=this,b=this.actionHandler[nt.action],lt={enqueue(tt,st=1,et){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=st,g>0&&this.desiredSize<=0&&(this.sinkCapability=(0,a.createPromiseCapability)(),this.ready=this.sinkCapability.promise),pt.postMessage({sourceName:ft,targetName:ht,stream:d.ENQUEUE,streamId:dt,chunk:tt},et)},close(){this.isCancelled||(this.isCancelled=!0,pt.postMessage({sourceName:ft,targetName:ht,stream:d.CLOSE,streamId:dt}),delete ot.streamSinks[dt])},error(tt){(0,a.assert)(tt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,pt.postMessage({sourceName:ft,targetName:ht,stream:d.ERROR,streamId:dt,reason:_(tt)}))},sinkCapability:(0,a.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:nt.desiredSize,ready:null};lt.sinkCapability.resolve(),lt.ready=lt.sinkCapability.promise,this.streamSinks[dt]=lt,new Promise(function(tt){tt(b(nt.data,lt))}).then(function(){pt.postMessage({sourceName:ft,targetName:ht,stream:d.START_COMPLETE,streamId:dt,success:!0})},function(tt){pt.postMessage({sourceName:ft,targetName:ht,stream:d.START_COMPLETE,streamId:dt,reason:_(tt)})})}_processStreamMessage(nt){const dt=nt.streamId,ft=this.sourceName,ht=nt.sourceName,pt=this.comObj,ot=this.streamControllers[dt],b=this.streamSinks[dt];switch(nt.stream){case d.START_COMPLETE:nt.success?ot.startCall.resolve():ot.startCall.reject(_(nt.reason));break;case d.PULL_COMPLETE:nt.success?ot.pullCall.resolve():ot.pullCall.reject(_(nt.reason));break;case d.PULL:if(!b){pt.postMessage({sourceName:ft,targetName:ht,stream:d.PULL_COMPLETE,streamId:dt,success:!0});break}b.desiredSize<=0&&nt.desiredSize>0&&b.sinkCapability.resolve(),b.desiredSize=nt.desiredSize,new Promise(function(lt){lt(b.onPull&&b.onPull())}).then(function(){pt.postMessage({sourceName:ft,targetName:ht,stream:d.PULL_COMPLETE,streamId:dt,success:!0})},function(lt){pt.postMessage({sourceName:ft,targetName:ht,stream:d.PULL_COMPLETE,streamId:dt,reason:_(lt)})});break;case d.ENQUEUE:if((0,a.assert)(ot,"enqueue should have stream controller"),ot.isClosed)break;ot.controller.enqueue(nt.chunk);break;case d.CLOSE:if((0,a.assert)(ot,"close should have stream controller"),ot.isClosed)break;ot.isClosed=!0,ot.controller.close(),this._deleteStreamController(ot,dt);break;case d.ERROR:(0,a.assert)(ot,"error should have stream controller"),ot.controller.error(_(nt.reason)),this._deleteStreamController(ot,dt);break;case d.CANCEL_COMPLETE:nt.success?ot.cancelCall.resolve():ot.cancelCall.reject(_(nt.reason)),this._deleteStreamController(ot,dt);break;case d.CANCEL:if(!b)break;new Promise(function(lt){lt(b.onCancel&&b.onCancel(_(nt.reason)))}).then(function(){pt.postMessage({sourceName:ft,targetName:ht,stream:d.CANCEL_COMPLETE,streamId:dt,success:!0})},function(lt){pt.postMessage({sourceName:ft,targetName:ht,stream:d.CANCEL_COMPLETE,streamId:dt,reason:_(lt)})}),b.sinkCapability.reject(_(nt.reason)),b.isCancelled=!0,delete this.streamSinks[dt];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(nt,dt){await Promise.allSettled([nt.startCall&&nt.startCall.promise,nt.pullCall&&nt.pullCall.promise,nt.cancelCall&&nt.cancelCall.promise]),delete this.streamControllers[dt]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}s.MessageHandler=j},(i,s,o)=>{var d,_;Object.defineProperty(s,"__esModule",{value:!0}),s.Metadata=void 0;var a=o(1);class c{constructor({parsedData:$,rawData:nt}){Yt(this,d,void 0);Yt(this,_,void 0);on(this,d,$),on(this,_,nt)}getRaw(){return bt(this,_)}get($){return bt(this,d).get($)??null}getAll(){return(0,a.objectFromMap)(bt(this,d))}has($){return bt(this,d).has($)}}d=new WeakMap,_=new WeakMap,s.Metadata=c},(i,s,o)=>{var j,$,nt,dt,ft,ht,er;Object.defineProperty(s,"__esModule",{value:!0}),s.OptionalContentConfig=void 0;var a=o(1);const c=Symbol("INTERNAL");class d{constructor(b,lt){Yt(this,j,!0);this.name=b,this.intent=lt}get visible(){return bt(this,j)}_setVisible(b,lt){b!==c&&(0,a.unreachable)("Internal method `_setVisible` called."),on(this,j,lt)}}j=new WeakMap;class _{constructor(b){Yt(this,ht);Yt(this,$,!0);Yt(this,nt,new Map);Yt(this,dt,null);Yt(this,ft,null);if(this.name=null,this.creator=null,b!==null){this.name=b.name,this.creator=b.creator,on(this,ft,b.order);for(const lt of b.groups)bt(this,nt).set(lt.id,new d(lt.name,lt.intent));if(b.baseState==="OFF")for(const lt of bt(this,nt).values())lt._setVisible(c,!1);for(const lt of b.on)bt(this,nt).get(lt)._setVisible(c,!0);for(const lt of b.off)bt(this,nt).get(lt)._setVisible(c,!1);on(this,dt,new Map);for(const[lt,tt]of bt(this,nt))bt(this,dt).set(lt,tt.visible)}}isVisible(b){if(bt(this,nt).size===0)return!0;if(!b)return(0,a.warn)("Optional content group not defined."),!0;if(b.type==="OCG")return bt(this,nt).has(b.id)?bt(this,nt).get(b.id).visible:((0,a.warn)(`Optional content group not found: ${b.id}`),!0);if(b.type==="OCMD"){if(b.expression)return Jt(this,ht,er).call(this,b.expression);if(!b.policy||b.policy==="AnyOn"){for(const lt of b.ids){if(!bt(this,nt).has(lt))return(0,a.warn)(`Optional content group not found: ${lt}`),!0;if(bt(this,nt).get(lt).visible)return!0}return!1}else if(b.policy==="AllOn"){for(const lt of b.ids){if(!bt(this,nt).has(lt))return(0,a.warn)(`Optional content group not found: ${lt}`),!0;if(!bt(this,nt).get(lt).visible)return!1}return!0}else if(b.policy==="AnyOff"){for(const lt of b.ids){if(!bt(this,nt).has(lt))return(0,a.warn)(`Optional content group not found: ${lt}`),!0;if(!bt(this,nt).get(lt).visible)return!0}return!1}else if(b.policy==="AllOff"){for(const lt of b.ids){if(!bt(this,nt).has(lt))return(0,a.warn)(`Optional content group not found: ${lt}`),!0;if(bt(this,nt).get(lt).visible)return!1}return!0}return(0,a.warn)(`Unknown optional content policy ${b.policy}.`),!0}return(0,a.warn)(`Unknown group type ${b.type}.`),!0}setVisibility(b,lt=!0){if(!bt(this,nt).has(b)){(0,a.warn)(`Optional content group not found: ${b}`);return}bt(this,nt).get(b)._setVisible(c,!!lt),on(this,$,null)}get hasInitialVisibility(){if(bt(this,$)!==null)return bt(this,$);for(const[b,lt]of bt(this,nt)){const tt=bt(this,dt).get(b);if(lt.visible!==tt)return on(this,$,!1)}return on(this,$,!0)}getOrder(){return bt(this,nt).size?bt(this,ft)?bt(this,ft).slice():[...bt(this,nt).keys()]:null}getGroups(){return bt(this,nt).size>0?(0,a.objectFromMap)(bt(this,nt)):null}getGroup(b){return bt(this,nt).get(b)||null}}$=new WeakMap,nt=new WeakMap,dt=new WeakMap,ft=new WeakMap,ht=new WeakSet,er=function(b){const lt=b.length;if(lt<2)return!0;const tt=b[0];for(let st=1;st<lt;st++){const et=b[st];let g;if(Array.isArray(et))g=Jt(this,ht,er).call(this,et);else if(bt(this,nt).has(et))g=bt(this,nt).get(et).visible;else return(0,a.warn)(`Optional content group not found: ${et}`),!0;switch(tt){case"And":if(!g)return!1;break;case"Or":if(g)return!0;break;case"Not":return!g;default:return!0}}return tt==="And"},s.OptionalContentConfig=_},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFDataTransportStream=void 0;var a=o(1),c=o(8);class d{constructor(nt,dt){(0,a.assert)(dt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=nt.progressiveDone||!1,this._contentDispositionFilename=nt.contentDispositionFilename||null;const ft=nt.initialData;if((ft==null?void 0:ft.length)>0){const ht=new Uint8Array(ft).buffer;this._queuedChunks.push(ht)}this._pdfDataRangeTransport=dt,this._isStreamingSupported=!nt.disableStream,this._isRangeSupported=!nt.disableRange,this._contentLength=nt.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((ht,pt)=>{this._onReceiveData({begin:ht,chunk:pt})}),this._pdfDataRangeTransport.addProgressListener((ht,pt)=>{this._onProgress({loaded:ht,total:pt})}),this._pdfDataRangeTransport.addProgressiveReadListener(ht=>{this._onReceiveData({chunk:ht})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(nt){const dt=new Uint8Array(nt.chunk).buffer;if(nt.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(dt):this._queuedChunks.push(dt);else{const ft=this._rangeReaders.some(function(ht){return ht._begin!==nt.begin?!1:(ht._enqueue(dt),!0)});(0,a.assert)(ft,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var nt;return((nt=this._fullRequestReader)==null?void 0:nt._loaded)??0}_onProgress(nt){if(nt.total===void 0){const dt=this._rangeReaders[0];dt!=null&&dt.onProgress&&dt.onProgress({loaded:nt.loaded})}else{const dt=this._fullRequestReader;dt!=null&&dt.onProgress&&dt.onProgress({loaded:nt.loaded,total:nt.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(nt){const dt=this._rangeReaders.indexOf(nt);dt>=0&&this._rangeReaders.splice(dt,1)}getFullReader(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const nt=this._queuedChunks;return this._queuedChunks=null,new _(this,nt,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(nt,dt){if(dt<=this._progressiveDataLength)return null;const ft=new j(this,nt,dt);return this._pdfDataRangeTransport.requestDataRange(nt,dt),this._rangeReaders.push(ft),ft}cancelAllRequests(nt){this._fullRequestReader&&this._fullRequestReader.cancel(nt);for(const dt of this._rangeReaders.slice(0))dt.cancel(nt);this._pdfDataRangeTransport.abort()}}s.PDFDataTransportStream=d;class _{constructor(nt,dt,ft=!1,ht=null){this._stream=nt,this._done=ft||!1,this._filename=(0,c.isPdfFile)(ht)?ht:null,this._queuedChunks=dt||[],this._loaded=0;for(const pt of this._queuedChunks)this._loaded+=pt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),nt._fullRequestReader=this,this.onProgress=null}_enqueue(nt){this._done||(this._requests.length>0?this._requests.shift().resolve({value:nt,done:!1}):this._queuedChunks.push(nt),this._loaded+=nt.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const nt=(0,a.createPromiseCapability)();return this._requests.push(nt),nt.promise}cancel(nt){this._done=!0;for(const dt of this._requests)dt.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class j{constructor(nt,dt,ft){this._stream=nt,this._begin=dt,this._end=ft,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(nt){if(!this._done){if(this._requests.length===0)this._queuedChunk=nt;else{this._requests.shift().resolve({value:nt,done:!1});for(const ft of this._requests)ft.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const dt=this._queuedChunk;return this._queuedChunk=null,{value:dt,done:!1}}if(this._done)return{value:void 0,done:!0};const nt=(0,a.createPromiseCapability)();return this._requests.push(nt),nt.promise}cancel(nt){this._done=!0;for(const dt of this._requests)dt.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaText=void 0;class o{static textContent(c){const d=[],_={items:d,styles:Object.create(null)};function j($){var ft;if(!$)return;let nt=null;const dt=$.name;if(dt==="#text")nt=$.value;else if(o.shouldBuildText(dt))(ft=$==null?void 0:$.attributes)!=null&&ft.textContent?nt=$.attributes.textContent:$.value&&(nt=$.value);else return;if(nt!==null&&d.push({str:nt}),!!$.children)for(const ht of $.children)j(ht)}return j(c),_}static shouldBuildText(c){return!(c==="textarea"||c==="input"||c==="option"||c==="select")}}s.XfaText=o},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NodeStandardFontDataFactory=s.NodeCanvasFactory=s.NodeCMapReaderFactory=void 0;var a=o(9);const c=function($){return new Promise((nt,dt)=>{require$$5.readFile($,(ht,pt)=>{if(ht||!pt){dt(new Error(ht));return}nt(new Uint8Array(pt))})})};class d extends a.BaseCanvasFactory{_createCanvas(nt,dt){return require$$5.createCanvas(nt,dt)}}s.NodeCanvasFactory=d;class _ extends a.BaseCMapReaderFactory{_fetchData(nt,dt){return c(nt).then(ft=>({cMapData:ft,compressionType:dt}))}}s.NodeCMapReaderFactory=_;class j extends a.BaseStandardFontDataFactory{_fetchData(nt){return c(nt)}}s.NodeStandardFontDataFactory=j},(i,s,o)=>{var $,nt,dt,ft,ht,pt,ot,b,lt,tr,st,vr,g,nr,it,_r;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayer=void 0;var a=o(7),c=o(1),d=o(23),_=o(24);const rt=class{constructor(ct){Yt(this,lt);Yt(this,st);Yt(this,g);Yt(this,it);Yt(this,$,void 0);Yt(this,nt,!1);Yt(this,dt,this.pointerup.bind(this));Yt(this,ft,this.pointerdown.bind(this));Yt(this,ht,new Map);Yt(this,pt,!1);Yt(this,ot,!1);Yt(this,b,void 0);rt._initialized||(rt._initialized=!0,d.FreeTextEditor.initialize(ct.l10n),_.InkEditor.initialize(ct.l10n),ct.uiManager.registerEditorTypes([d.FreeTextEditor,_.InkEditor])),on(this,b,ct.uiManager),this.annotationStorage=ct.annotationStorage,this.pageIndex=ct.pageIndex,this.div=ct.div,on(this,$,ct.accessibilityManager),bt(this,b).addLayer(this)}updateToolbar(ct){bt(this,b).updateToolbar(ct)}updateMode(ct=bt(this,b).getMode()){Jt(this,it,_r).call(this),ct===c.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),bt(this,b).unselectAll()}addInkEditorIfNeeded(ct){if(!ct&&bt(this,b).getMode()!==c.AnnotationEditorType.INK)return;if(!ct){for(const wt of bt(this,ht).values())if(wt.isEmpty()){wt.setInBackground();return}}Jt(this,g,nr).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(ct){bt(this,b).setEditingState(ct)}addCommands(ct){bt(this,b).addCommands(ct)}enable(){this.div.style.pointerEvents="auto";for(const ct of bt(this,ht).values())ct.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const ct of bt(this,ht).values())ct.disableEditing()}setActiveEditor(ct){bt(this,b).getActive()!==ct&&bt(this,b).setActiveEditor(ct)}enableClick(){this.div.addEventListener("pointerdown",bt(this,ft)),this.div.addEventListener("pointerup",bt(this,dt))}disableClick(){this.div.removeEventListener("pointerdown",bt(this,ft)),this.div.removeEventListener("pointerup",bt(this,dt))}attach(ct){bt(this,ht).set(ct.id,ct)}detach(ct){var St;bt(this,ht).delete(ct.id),(St=bt(this,$))==null||St.removePointerInTextLayer(ct.contentDiv)}remove(ct){bt(this,b).removeEditor(ct),this.detach(ct),this.annotationStorage.remove(ct.id),ct.div.style.display="none",setTimeout(()=>{ct.div.style.display="",ct.div.remove(),ct.isAttachedToDOM=!1,document.activeElement===document.body&&bt(this,b).focusMainContainer()},0),bt(this,ot)||this.addInkEditorIfNeeded(!1)}add(ct){if(Jt(this,lt,tr).call(this,ct),bt(this,b).addEditor(ct),this.attach(ct),!ct.isAttachedToDOM){const St=ct.render();this.div.append(St),ct.isAttachedToDOM=!0}this.moveEditorInDOM(ct),ct.onceAdded(),this.addToAnnotationStorage(ct)}moveEditorInDOM(ct){var St;(St=bt(this,$))==null||St.moveElementInDOM(this.div,ct.div,ct.contentDiv,!0)}addToAnnotationStorage(ct){!ct.isEmpty()&&!this.annotationStorage.has(ct.id)&&this.annotationStorage.setValue(ct.id,ct)}addOrRebuild(ct){ct.needsToBeRebuilt()?ct.rebuild():this.add(ct)}addANewEditor(ct){const St=()=>{this.addOrRebuild(ct)},wt=()=>{ct.remove()};this.addCommands({cmd:St,undo:wt,mustExec:!0})}addUndoableEditor(ct){const St=()=>{this.addOrRebuild(ct)},wt=()=>{ct.remove()};this.addCommands({cmd:St,undo:wt,mustExec:!1})}getNextId(){return bt(this,b).getId()}deserialize(ct){switch(ct.annotationType){case c.AnnotationEditorType.FREETEXT:return d.FreeTextEditor.deserialize(ct,this);case c.AnnotationEditorType.INK:return _.InkEditor.deserialize(ct,this)}return null}setSelected(ct){bt(this,b).setSelected(ct)}toggleSelected(ct){bt(this,b).toggleSelected(ct)}isSelected(ct){return bt(this,b).isSelected(ct)}unselect(ct){bt(this,b).unselect(ct)}pointerup(ct){const St=a.KeyboardManager.platform.isMac;if(!(ct.button!==0||ct.ctrlKey&&St)&&ct.target===this.div&&bt(this,pt)){if(on(this,pt,!1),!bt(this,nt)){on(this,nt,!0);return}Jt(this,g,nr).call(this,ct)}}pointerdown(ct){const St=a.KeyboardManager.platform.isMac;if(ct.button!==0||ct.ctrlKey&&St||ct.target!==this.div)return;on(this,pt,!0);const wt=bt(this,b).getActive();on(this,nt,!wt||wt.isEmpty())}drop(ct){const St=ct.dataTransfer.getData("text/plain"),wt=bt(this,b).getEditor(St);if(!wt)return;ct.preventDefault(),ct.dataTransfer.dropEffect="move",Jt(this,lt,tr).call(this,wt);const Lt=this.div.getBoundingClientRect(),Mt=ct.clientX-Lt.x,zt=ct.clientY-Lt.y;wt.translate(Mt-wt.startX,zt-wt.startY),this.moveEditorInDOM(wt),wt.div.focus()}dragover(ct){ct.preventDefault()}destroy(){var ct,St;((ct=bt(this,b).getActive())==null?void 0:ct.parent)===this&&bt(this,b).setActiveEditor(null);for(const wt of bt(this,ht).values())(St=bt(this,$))==null||St.removePointerInTextLayer(wt.contentDiv),wt.isAttachedToDOM=!1,wt.div.remove(),wt.parent=null;this.div=null,bt(this,ht).clear(),bt(this,b).removeLayer(this)}render(ct){this.viewport=ct.viewport,(0,a.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const St of bt(this,b).getEditors(this.pageIndex))this.add(St);this.updateMode()}update(ct){this.viewport=ct.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[ct,St,wt,Lt]=this.viewport.viewBox,Mt=wt-ct,zt=Lt-St;return[Mt,zt]}get viewportBaseDimensions(){const{width:ct,height:St,rotation:wt}=this.viewport;return wt%180===0?[ct,St]:[St,ct]}setDimensions(){const{width:ct,height:St,rotation:wt}=this.viewport,Lt=wt%180!==0,Mt=Math.floor(ct)+"px",zt=Math.floor(St)+"px";this.div.style.width=Lt?zt:Mt,this.div.style.height=Lt?Mt:zt,this.div.setAttribute("data-main-rotation",wt)}};let j=rt;$=new WeakMap,nt=new WeakMap,dt=new WeakMap,ft=new WeakMap,ht=new WeakMap,pt=new WeakMap,ot=new WeakMap,b=new WeakMap,lt=new WeakSet,tr=function(ct){var St;ct.parent!==this&&(this.attach(ct),ct.pageIndex=this.pageIndex,(St=ct.parent)==null||St.detach(ct),ct.parent=this,ct.div&&ct.isAttachedToDOM&&(ct.div.remove(),this.div.append(ct.div)))},st=new WeakSet,vr=function(ct){switch(bt(this,b).getMode()){case c.AnnotationEditorType.FREETEXT:return new d.FreeTextEditor(ct);case c.AnnotationEditorType.INK:return new _.InkEditor(ct)}return null},g=new WeakSet,nr=function(ct){const St=this.getNextId(),wt=Jt(this,st,vr).call(this,{parent:this,id:St,x:ct.offsetX,y:ct.offsetY});return wt&&this.add(wt),wt},it=new WeakSet,_r=function(){on(this,ot,!0);for(const ct of bt(this,ht).values())ct.isEmpty()&&ct.remove();on(this,ot,!1)},En(j,"_initialized",!1),s.AnnotationEditorLayer=j},(i,s,o)=>{var j,$,nt,dt,ft,ht,pt,ot,Sr,lt,Er,st,xr,g,rr;Object.defineProperty(s,"__esModule",{value:!0}),s.FreeTextEditor=void 0;var a=o(1),c=o(7),d=o(6);const it=class extends d.AnnotationEditor{constructor(at){super({...at,name:"freeTextEditor"});Yt(this,ot);Yt(this,lt);Yt(this,st);Yt(this,g);Yt(this,j,this.editorDivBlur.bind(this));Yt(this,$,this.editorDivFocus.bind(this));Yt(this,nt,this.editorDivKeydown.bind(this));Yt(this,dt,void 0);Yt(this,ft,"");Yt(this,ht,!1);Yt(this,pt,void 0);on(this,dt,at.color||it._defaultColor||d.AnnotationEditor._defaultLineColor),on(this,pt,at.fontSize||it._defaultFontSize)}static initialize(at){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(St=>[St,at.get(St)]));const ct=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(ct.getPropertyValue("--freetext-padding"))}static updateDefaultParams(at,ct){switch(at){case a.AnnotationEditorParamsType.FREETEXT_SIZE:it._defaultFontSize=ct;break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:it._defaultColor=ct;break}}updateParams(at,ct){switch(at){case a.AnnotationEditorParamsType.FREETEXT_SIZE:Jt(this,ot,Sr).call(this,ct);break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:Jt(this,lt,Er).call(this,ct);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,it._defaultFontSize],[a.AnnotationEditorParamsType.FREETEXT_COLOR,it._defaultColor||d.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,bt(this,pt)],[a.AnnotationEditorParamsType.FREETEXT_COLOR,bt(this,dt)]]}getInitialTranslation(){return[-it._internalPadding*this.parent.scaleFactor,-(it._internalPadding+bt(this,pt))*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(a.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",bt(this,nt)),this.editorDiv.addEventListener("focus",bt(this,$)),this.editorDiv.addEventListener("blur",bt(this,j)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",bt(this,nt)),this.editorDiv.removeEventListener("focus",bt(this,$)),this.editorDiv.removeEventListener("blur",bt(this,j)),this.div.focus(),this.isEditing=!1)}focusin(at){super.focusin(at),at.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}commit(){super.commit(),bt(this,ht)||(on(this,ht,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),on(this,ft,Jt(this,st,xr).call(this).trimEnd()),Jt(this,g,rr).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(at){this.enableEditMode(),this.editorDiv.focus()}keydown(at){at.target===this.div&&at.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(at){it._keyboardManager.exec(this,at)}editorDivFocus(at){this.isEditing=!0}editorDivBlur(at){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let at,ct;this.width&&(at=this.x,ct=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),it._l10nPromise.get("editor_free_text_aria_label").then(wt=>{var Lt;return(Lt=this.editorDiv)==null?void 0:Lt.setAttribute("aria-label",wt)}),it._l10nPromise.get("free_text_default_content").then(wt=>{var Lt;return(Lt=this.editorDiv)==null?void 0:Lt.setAttribute("default-content",wt)}),this.editorDiv.contentEditable=!0;const{style:St}=this.editorDiv;if(St.fontSize=`calc(${bt(this,pt)}px * var(--scale-factor))`,St.color=bt(this,dt),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,c.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[wt,Lt]=this.parent.viewportBaseDimensions;this.setAt(at*wt,ct*Lt,this.width*wt,this.height*Lt);for(const Mt of bt(this,ft).split(`
`)){const zt=document.createElement("div");zt.append(Mt?document.createTextNode(Mt):document.createElement("br")),this.editorDiv.append(zt)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(at,ct){const St=super.deserialize(at,ct);return on(St,pt,at.fontSize),on(St,dt,a.Util.makeHexColor(...at.color)),on(St,ft,at.value),St}serialize(){if(this.isEmpty())return null;const at=it._internalPadding*this.parent.scaleFactor,ct=this.getRect(at,at),St=d.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:a.AnnotationEditorType.FREETEXT,color:St,fontSize:bt(this,pt),value:bt(this,ft),pageIndex:this.parent.pageIndex,rect:ct,rotation:this.rotation}}};let _=it;j=new WeakMap,$=new WeakMap,nt=new WeakMap,dt=new WeakMap,ft=new WeakMap,ht=new WeakMap,pt=new WeakMap,ot=new WeakSet,Sr=function(at){const ct=wt=>{this.editorDiv.style.fontSize=`calc(${wt}px * var(--scale-factor))`,this.translate(0,-(wt-bt(this,pt))*this.parent.scaleFactor),on(this,pt,wt),Jt(this,g,rr).call(this)},St=bt(this,pt);this.parent.addCommands({cmd:()=>{ct(at)},undo:()=>{ct(St)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},lt=new WeakSet,Er=function(at){const ct=bt(this,dt);this.parent.addCommands({cmd:()=>{on(this,dt,at),this.editorDiv.style.color=at},undo:()=>{on(this,dt,ct),this.editorDiv.style.color=ct},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},st=new WeakSet,xr=function(){const at=this.editorDiv.getElementsByTagName("div");if(at.length===0)return this.editorDiv.innerText;const ct=[];for(let St=0,wt=at.length;St<wt;St++){const Mt=at[St].firstChild;(Mt==null?void 0:Mt.nodeName)==="#text"?ct.push(Mt.data):ct.push("")}return ct.join(`
`)},g=new WeakSet,rr=function(){const[at,ct]=this.parent.viewportBaseDimensions,St=this.div.getBoundingClientRect();this.width=St.width/at,this.height=St.height/ct},En(_,"_freeTextDefaultContent",""),En(_,"_l10nPromise"),En(_,"_internalPadding",0),En(_,"_defaultColor",null),En(_,"_defaultFontSize",10),En(_,"_keyboardManager",new c.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],it.prototype.commitOrRemove]])),En(_,"_type","freetext"),s.FreeTextEditor=_},(i,s,o)=>{var nt,dt,ft,ht,pt,ot,b,lt,tt,st,et,g,_e,it,gt,wr,at,br,St,Ar,Lt,Cr,zt,ir,Dt,Tr,Bt,kr,qt,Pr,yt,On,xt,sr,kt,Hn,jt,Vn,ut,jn,_t,or,At,Gn,Xt,ar,Vt,Rr,Gt,Fr,nn,Mr,tn,lr,un,qn,pn,$n,_n,cr;Object.defineProperty(s,"__esModule",{value:!0}),s.InkEditor=void 0,Object.defineProperty(s,"fitCurve",{enumerable:!0,get:function(){return d.fitCurve}});var a=o(1),c=o(6),d=o(25),_=o(7);const j=16,gn=class extends c.AnnotationEditor{constructor(Kt){super({...Kt,name:"inkEditor"});Yt(this,gt);Yt(this,at);Yt(this,St);Yt(this,Lt);Yt(this,zt);Yt(this,Dt);Yt(this,Bt);Yt(this,qt);Yt(this,yt);Yt(this,xt);Yt(this,kt);Yt(this,jt);Yt(this,ut);Yt(this,_t);Yt(this,At);Yt(this,Vt);Yt(this,Gt);Yt(this,nn);Yt(this,tn);Yt(this,un);Yt(this,pn);Yt(this,_n);Yt(this,nt,0);Yt(this,dt,0);Yt(this,ft,0);Yt(this,ht,this.canvasPointermove.bind(this));Yt(this,pt,this.canvasPointerleave.bind(this));Yt(this,ot,this.canvasPointerup.bind(this));Yt(this,b,this.canvasPointerdown.bind(this));Yt(this,lt,!1);Yt(this,tt,!1);Yt(this,st,null);Yt(this,et,null);Yt(this,g,0);Yt(this,_e,0);Yt(this,it,null);this.color=Kt.color||null,this.thickness=Kt.thickness||null,this.opacity=Kt.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(Kt){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(rn=>[rn,Kt.get(rn)]))}static updateDefaultParams(Kt,rn){switch(Kt){case a.AnnotationEditorParamsType.INK_THICKNESS:gn._defaultThickness=rn;break;case a.AnnotationEditorParamsType.INK_COLOR:gn._defaultColor=rn;break;case a.AnnotationEditorParamsType.INK_OPACITY:gn._defaultOpacity=rn/100;break}}updateParams(Kt,rn){switch(Kt){case a.AnnotationEditorParamsType.INK_THICKNESS:Jt(this,gt,wr).call(this,rn);break;case a.AnnotationEditorParamsType.INK_COLOR:Jt(this,at,br).call(this,rn);break;case a.AnnotationEditorParamsType.INK_OPACITY:Jt(this,St,Ar).call(this,rn);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,gn._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,gn._defaultColor||c.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(gn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||gn._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,this.color||gn._defaultColor||c.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??gn._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(Jt(this,kt,Hn).call(this),Jt(this,jt,Vn).call(this)),this.isAttachedToDOM||(this.parent.add(this),Jt(this,ut,jn).call(this)),Jt(this,pn,$n).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,bt(this,et).disconnect(),on(this,et,null),super.remove())}enableEditMode(){bt(this,lt)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",bt(this,b)),this.canvas.addEventListener("pointerup",bt(this,ot)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",bt(this,b)),this.canvas.removeEventListener("pointerup",bt(this,ot)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){bt(this,lt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),on(this,lt,!0),this.div.classList.add("disabled"),Jt(this,pn,$n).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(Kt){super.focusin(Kt),this.enableEditMode()}canvasPointerdown(Kt){Kt.button!==0||!this.isInEditMode()||bt(this,lt)||(this.setInForeground(),Kt.type!=="mouse"&&this.div.focus(),Kt.stopPropagation(),this.canvas.addEventListener("pointerleave",bt(this,pt)),this.canvas.addEventListener("pointermove",bt(this,ht)),Jt(this,Dt,Tr).call(this,Kt.offsetX,Kt.offsetY))}canvasPointermove(Kt){Kt.stopPropagation(),Jt(this,Bt,kr).call(this,Kt.offsetX,Kt.offsetY)}canvasPointerup(Kt){Kt.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(Kt.stopPropagation(),Jt(this,xt,sr).call(this,Kt),this.setInBackground())}canvasPointerleave(Kt){Jt(this,xt,sr).call(this,Kt),this.setInBackground()}render(){if(this.div)return this.div;let Kt,rn;this.width&&(Kt=this.x,rn=this.y),super.render(),gn._l10nPromise.get("editor_ink_aria_label").then(an=>{var cn;return(cn=this.div)==null?void 0:cn.setAttribute("aria-label",an)});const[Wt,It,Nt,sn]=Jt(this,Lt,Cr).call(this);if(this.setAt(Wt,It,0,0),this.setDims(Nt,sn),Jt(this,kt,Hn).call(this),this.width){const[an,cn]=this.parent.viewportBaseDimensions;this.setAt(Kt*an,rn*cn,this.width*an,this.height*cn),on(this,tt,!0),Jt(this,ut,jn).call(this),this.setDims(this.width*an,this.height*cn),Jt(this,yt,On).call(this),Jt(this,_n,cr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Jt(this,jt,Vn).call(this),this.div}setDimensions(Kt,rn){const Wt=Math.round(Kt),It=Math.round(rn);if(bt(this,g)===Wt&&bt(this,_e)===It)return;on(this,g,Wt),on(this,_e,It),this.canvas.style.visibility="hidden",bt(this,nt)&&Math.abs(bt(this,nt)-Kt/rn)>.01&&(rn=Math.ceil(Kt/bt(this,nt)),this.setDims(Kt,rn));const[Nt,sn]=this.parent.viewportBaseDimensions;this.width=Kt/Nt,this.height=rn/sn,bt(this,lt)&&Jt(this,_t,or).call(this,Kt,rn),Jt(this,ut,jn).call(this),Jt(this,yt,On).call(this),this.canvas.style.visibility="visible"}static deserialize(Kt,rn){var wn,vn;const Wt=super.deserialize(Kt,rn);Wt.thickness=Kt.thickness,Wt.color=a.Util.makeHexColor(...Kt.color),Wt.opacity=Kt.opacity;const[It,Nt]=rn.pageDimensions,sn=Wt.width*It,an=Wt.height*Nt,cn=rn.scaleFactor,dn=Kt.thickness/2;on(Wt,nt,sn/an),on(Wt,lt,!0),on(Wt,g,Math.round(sn)),on(Wt,_e,Math.round(an));for(const{bezier:fn}of Kt.paths){const An=[];Wt.paths.push(An);let bn=cn*(fn[0]-dn),kn=cn*(an-fn[1]-dn);for(let Cn=2,Rn=fn.length;Cn<Rn;Cn+=6){const Ln=cn*(fn[Cn]-dn),In=cn*(an-fn[Cn+1]-dn),Mn=cn*(fn[Cn+2]-dn),Tn=cn*(an-fn[Cn+3]-dn),Fn=cn*(fn[Cn+4]-dn),Nn=cn*(an-fn[Cn+5]-dn);An.push([[bn,kn],[Ln,In],[Mn,Tn],[Fn,Nn]]),bn=Fn,kn=Nn}const yn=Jt(this,Xt,ar).call(this,An);Wt.bezierPath2D.push(yn)}const mn=Jt(wn=Wt,tn,lr).call(wn);return on(Wt,ft,Math.max(j,mn[2]-mn[0])),on(Wt,dt,Math.max(j,mn[3]-mn[1])),Jt(vn=Wt,_t,or).call(vn,sn,an),Wt}serialize(){if(this.isEmpty())return null;const Kt=this.getRect(0,0),rn=this.rotation%180===0?Kt[3]-Kt[1]:Kt[2]-Kt[0],Wt=c.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:a.AnnotationEditorType.INK,color:Wt,thickness:this.thickness,opacity:this.opacity,paths:Jt(this,Vt,Rr).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,rn),pageIndex:this.parent.pageIndex,rect:Kt,rotation:this.rotation}}};let $=gn;nt=new WeakMap,dt=new WeakMap,ft=new WeakMap,ht=new WeakMap,pt=new WeakMap,ot=new WeakMap,b=new WeakMap,lt=new WeakMap,tt=new WeakMap,st=new WeakMap,et=new WeakMap,g=new WeakMap,_e=new WeakMap,it=new WeakMap,gt=new WeakSet,wr=function(Kt){const rn=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=Kt,Jt(this,pn,$n).call(this)},undo:()=>{this.thickness=rn,Jt(this,pn,$n).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},at=new WeakSet,br=function(Kt){const rn=this.color;this.parent.addCommands({cmd:()=>{this.color=Kt,Jt(this,yt,On).call(this)},undo:()=>{this.color=rn,Jt(this,yt,On).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},St=new WeakSet,Ar=function(Kt){Kt/=100;const rn=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=Kt,Jt(this,yt,On).call(this)},undo:()=>{this.opacity=rn,Jt(this,yt,On).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Lt=new WeakSet,Cr=function(){const{width:Kt,height:rn,rotation:Wt}=this.parent.viewport;switch(Wt){case 90:return[0,Kt,Kt,rn];case 180:return[Kt,rn,Kt,rn];case 270:return[rn,0,Kt,rn];default:return[0,0,Kt,rn]}},zt=new WeakSet,ir=function(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,_.opacityToHex)(this.opacity)}`},Dt=new WeakSet,Tr=function(Kt,rn){this.isEditing=!0,bt(this,tt)||(on(this,tt,!0),Jt(this,ut,jn).call(this),this.thickness||(this.thickness=gn._defaultThickness),this.color||(this.color=gn._defaultColor||c.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=gn._defaultOpacity)),this.currentPath.push([Kt,rn]),on(this,st,null),Jt(this,zt,ir).call(this),this.ctx.beginPath(),this.ctx.moveTo(Kt,rn),on(this,it,()=>{bt(this,it)&&(bt(this,st)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):Jt(this,yt,On).call(this),this.ctx.lineTo(...bt(this,st)),on(this,st,null),this.ctx.stroke()),window.requestAnimationFrame(bt(this,it)))}),window.requestAnimationFrame(bt(this,it))},Bt=new WeakSet,kr=function(Kt,rn){const[Wt,It]=this.currentPath.at(-1);Kt===Wt&&rn===It||(this.currentPath.push([Kt,rn]),on(this,st,[Kt,rn]))},qt=new WeakSet,Pr=function(Kt,rn){var dn;this.ctx.closePath(),on(this,it,null),Kt=Math.min(Math.max(Kt,0),this.canvas.width),rn=Math.min(Math.max(rn,0),this.canvas.height);const[Wt,It]=this.currentPath.at(-1);(Kt!==Wt||rn!==It)&&this.currentPath.push([Kt,rn]);let Nt;if(this.currentPath.length!==1)Nt=(0,d.fitCurve)(this.currentPath,30,null);else{const mn=[Kt,rn];Nt=[[mn,mn.slice(),mn.slice(),mn]]}const sn=Jt(dn=gn,Xt,ar).call(dn,Nt);this.currentPath.length=0;const an=()=>{this.paths.push(Nt),this.bezierPath2D.push(sn),this.rebuild()},cn=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Jt(this,kt,Hn).call(this),Jt(this,jt,Vn).call(this)),Jt(this,pn,$n).call(this))};this.parent.addCommands({cmd:an,undo:cn,mustExec:!0})},yt=new WeakSet,On=function(){if(this.isEmpty()){Jt(this,At,Gn).call(this);return}Jt(this,zt,ir).call(this);const{canvas:Kt,ctx:rn}=this;rn.setTransform(1,0,0,1,0,0),rn.clearRect(0,0,Kt.width,Kt.height),Jt(this,At,Gn).call(this);for(const Wt of this.bezierPath2D)rn.stroke(Wt)},xt=new WeakSet,sr=function(Kt){Jt(this,qt,Pr).call(this,Kt.offsetX,Kt.offsetY),this.canvas.removeEventListener("pointerleave",bt(this,pt)),this.canvas.removeEventListener("pointermove",bt(this,ht)),this.parent.addToAnnotationStorage(this)},kt=new WeakSet,Hn=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",gn._l10nPromise.get("editor_ink_canvas_aria_label").then(Kt=>{var rn;return(rn=this.canvas)==null?void 0:rn.setAttribute("aria-label",Kt)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},jt=new WeakSet,Vn=function(){on(this,et,new ResizeObserver(Kt=>{const rn=Kt[0].contentRect;rn.width&&rn.height&&this.setDimensions(rn.width,rn.height)})),bt(this,et).observe(this.div)},ut=new WeakSet,jn=function(){if(!bt(this,tt))return;const[Kt,rn]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*Kt),this.canvas.height=Math.ceil(this.height*rn),Jt(this,At,Gn).call(this)},_t=new WeakSet,or=function(Kt,rn){const Wt=Jt(this,un,qn).call(this),It=(Kt-Wt)/bt(this,ft),Nt=(rn-Wt)/bt(this,dt);this.scaleFactor=Math.min(It,Nt)},At=new WeakSet,Gn=function(){const Kt=Jt(this,un,qn).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Kt,this.translationY*this.scaleFactor+Kt)},Xt=new WeakSet,ar=function(Kt){const rn=new Path2D;for(let Wt=0,It=Kt.length;Wt<It;Wt++){const[Nt,sn,an,cn]=Kt[Wt];Wt===0&&rn.moveTo(...Nt),rn.bezierCurveTo(sn[0],sn[1],an[0],an[1],cn[0],cn[1])}return rn},Vt=new WeakSet,Rr=function(Kt,rn,Wt,It){const sn=[],an=this.thickness/2;let cn,dn;for(const mn of this.paths){cn=[],dn=[];for(let wn=0,vn=mn.length;wn<vn;wn++){const[fn,An,bn,kn]=mn[wn],yn=Kt*(fn[0]+rn)+an,Cn=It-Kt*(fn[1]+Wt)-an,Rn=Kt*(An[0]+rn)+an,Ln=It-Kt*(An[1]+Wt)-an,In=Kt*(bn[0]+rn)+an,Mn=It-Kt*(bn[1]+Wt)-an,Tn=Kt*(kn[0]+rn)+an,Fn=It-Kt*(kn[1]+Wt)-an;wn===0&&(cn.push(yn,Cn),dn.push(yn,Cn)),cn.push(Rn,Ln,In,Mn,Tn,Fn),Jt(this,Gt,Fr).call(this,yn,Cn,Rn,Ln,In,Mn,Tn,Fn,4,dn)}sn.push({bezier:cn,points:dn})}return sn},Gt=new WeakSet,Fr=function(Kt,rn,Wt,It,Nt,sn,an,cn,dn,mn){if(Jt(this,nn,Mr).call(this,Kt,rn,Wt,It,Nt,sn,an,cn)){mn.push(an,cn);return}for(let wn=1;wn<dn-1;wn++){const vn=wn/dn,fn=1-vn;let An=vn*Kt+fn*Wt,bn=vn*rn+fn*It,kn=vn*Wt+fn*Nt,yn=vn*It+fn*sn;const Cn=vn*Nt+fn*an,Rn=vn*sn+fn*cn;An=vn*An+fn*kn,bn=vn*bn+fn*yn,kn=vn*kn+fn*Cn,yn=vn*yn+fn*Rn,An=vn*An+fn*kn,bn=vn*bn+fn*yn,mn.push(An,bn)}mn.push(an,cn)},nn=new WeakSet,Mr=function(Kt,rn,Wt,It,Nt,sn,an,cn){const mn=(3*Wt-2*Kt-an)**2,wn=(3*It-2*rn-cn)**2,vn=(3*Nt-Kt-2*an)**2,fn=(3*sn-rn-2*cn)**2;return Math.max(mn,vn)+Math.max(wn,fn)<=10},tn=new WeakSet,lr=function(){let Kt=1/0,rn=-1/0,Wt=1/0,It=-1/0;for(const Nt of this.paths)for(const[sn,an,cn,dn]of Nt){const mn=a.Util.bezierBoundingBox(...sn,...an,...cn,...dn);Kt=Math.min(Kt,mn[0]),Wt=Math.min(Wt,mn[1]),rn=Math.max(rn,mn[2]),It=Math.max(It,mn[3])}return[Kt,Wt,rn,It]},un=new WeakSet,qn=function(){return bt(this,lt)?Math.ceil(this.thickness*this.parent.scaleFactor):0},pn=new WeakSet,$n=function(Kt=!1){if(this.isEmpty())return;if(!bt(this,lt)){Jt(this,yt,On).call(this);return}const rn=Jt(this,tn,lr).call(this),Wt=Jt(this,un,qn).call(this);on(this,ft,Math.max(j,rn[2]-rn[0])),on(this,dt,Math.max(j,rn[3]-rn[1]));const It=Math.ceil(Wt+bt(this,ft)*this.scaleFactor),Nt=Math.ceil(Wt+bt(this,dt)*this.scaleFactor),[sn,an]=this.parent.viewportBaseDimensions;this.width=It/sn,this.height=Nt/an,on(this,nt,It/Nt),Jt(this,_n,cr).call(this);const cn=this.translationX,dn=this.translationY;this.translationX=-rn[0],this.translationY=-rn[1],Jt(this,ut,jn).call(this),Jt(this,yt,On).call(this),on(this,g,It),on(this,_e,Nt),this.setDims(It,Nt);const mn=Kt?Wt/this.scaleFactor/2:0;this.translate(cn-this.translationX-mn,dn-this.translationY-mn)},_n=new WeakSet,cr=function(){const{style:Kt}=this.div;bt(this,nt)>=1?(Kt.minHeight=`${j}px`,Kt.minWidth=`${Math.round(bt(this,nt)*j)}px`):(Kt.minWidth=`${j}px`,Kt.minHeight=`${Math.round(j/bt(this,nt))}px`)},Yt($,Xt),En($,"_defaultColor",null),En($,"_defaultOpacity",1),En($,"_defaultThickness",1),En($,"_l10nPromise"),En($,"_type","ink"),s.InkEditor=$},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.fitCurve=void 0;const a=o(26);s.fitCurve=a},i=>{function s(ot,b,lt){if(!Array.isArray(ot))throw new TypeError("First argument should be an array");if(ot.forEach(g=>{if(!Array.isArray(g)||g.some(_e=>typeof _e!="number")||g.length!==ot[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),ot=ot.filter((g,_e)=>_e===0||!g.every((it,gt)=>it===ot[_e-1][gt])),ot.length<2)return[];const tt=ot.length,st=ft(ot[1],ot[0]),et=ft(ot[tt-2],ot[tt-1]);return o(ot,st,et,b,lt)}function o(ot,b,lt,tt,st){var g,_e,it,gt,rt,at,ct,St,wt,Lt,Mt,zt,Ut;if(ot.length===2)return zt=ht.vectorLen(ht.subtract(ot[0],ot[1]))/3,g=[ot[0],ht.addArrays(ot[0],ht.mulItems(b,zt)),ht.addArrays(ot[1],ht.mulItems(lt,zt)),ot[1]],[g];if(_e=j(ot),[g,gt,at]=a(ot,_e,_e,b,lt,st),gt===0||gt<tt)return[g];if(gt<tt*tt)for(it=_e,rt=gt,ct=at,Ut=0;Ut<20;Ut++){if(it=d(g,ot,it),[g,gt,at]=a(ot,_e,it,b,lt,st),gt<tt)return[g];if(at===ct){let Dt=gt/rt;if(Dt>.9999&&Dt<1.0001)break}rt=gt,ct=at}return Mt=[],St=ht.subtract(ot[at-1],ot[at+1]),St.every(Dt=>Dt===0)&&(St=ht.subtract(ot[at-1],ot[at]),[St[0],St[1]]=[-St[1],St[0]]),wt=ht.normalize(St),Lt=ht.mulItems(wt,-1),Mt=Mt.concat(o(ot.slice(0,at+1),b,wt,tt,st)),Mt=Mt.concat(o(ot.slice(at),Lt,lt,tt,st)),Mt}function a(ot,b,lt,tt,st,et){var g,_e,it;return g=c(ot,lt,tt,st),[_e,it]=$(ot,g,b),et&&et({bez:g,points:ot,params:b,maxErr:_e,maxPoint:it}),[g,_e,it]}function c(ot,b,lt,tt){var st,et,g,_e,it,gt,rt,at,ct,St,wt,Lt,Mt,zt,Ut,Dt,Rt,Bt=ot[0],Ht=ot[ot.length-1];for(st=[Bt,null,null,Ht],et=ht.zeros_Xx2x2(b.length),Mt=0,zt=b.length;Mt<zt;Mt++)Dt=b[Mt],Rt=1-Dt,g=et[Mt],g[0]=ht.mulItems(lt,3*Dt*(Rt*Rt)),g[1]=ht.mulItems(tt,3*Rt*(Dt*Dt));for(_e=[[0,0],[0,0]],it=[0,0],Mt=0,zt=ot.length;Mt<zt;Mt++)Dt=b[Mt],g=et[Mt],_e[0][0]+=ht.dot(g[0],g[0]),_e[0][1]+=ht.dot(g[0],g[1]),_e[1][0]+=ht.dot(g[0],g[1]),_e[1][1]+=ht.dot(g[1],g[1]),Ut=ht.subtract(ot[Mt],pt.q([Bt,Bt,Ht,Ht],Dt)),it[0]+=ht.dot(g[0],Ut),it[1]+=ht.dot(g[1],Ut);return gt=_e[0][0]*_e[1][1]-_e[1][0]*_e[0][1],rt=_e[0][0]*it[1]-_e[1][0]*it[0],at=it[0]*_e[1][1]-it[1]*_e[0][1],ct=gt===0?0:at/gt,St=gt===0?0:rt/gt,Lt=ht.vectorLen(ht.subtract(Bt,Ht)),wt=1e-6*Lt,ct<wt||St<wt?(st[1]=ht.addArrays(Bt,ht.mulItems(lt,Lt/3)),st[2]=ht.addArrays(Ht,ht.mulItems(tt,Lt/3))):(st[1]=ht.addArrays(Bt,ht.mulItems(lt,ct)),st[2]=ht.addArrays(Ht,ht.mulItems(tt,St))),st}function d(ot,b,lt){return lt.map((tt,st)=>_(ot,b[st],tt))}function _(ot,b,lt){var tt=ht.subtract(pt.q(ot,lt),b),st=pt.qprime(ot,lt),et=ht.mulMatrix(tt,st),g=ht.sum(ht.squareItems(st))+2*ht.mulMatrix(tt,pt.qprimeprime(ot,lt));return g===0?lt:lt-et/g}function j(ot){var b=[],lt,tt,st;return ot.forEach((et,g)=>{lt=g?tt+ht.vectorLen(ht.subtract(et,st)):0,b.push(lt),tt=lt,st=et}),b=b.map(et=>et/tt),b}function $(ot,b,lt){var tt,st,et,g,_e,it,gt,rt;st=0,et=Math.floor(ot.length/2);const at=nt(b,10);for(_e=0,it=ot.length;_e<it;_e++)gt=ot[_e],rt=dt(b,lt[_e],at,10),g=ht.subtract(pt.q(b,rt),gt),tt=g[0]*g[0]+g[1]*g[1],tt>st&&(st=tt,et=_e);return[st,et]}var nt=function(ot,b){for(var lt,tt=[0],st=ot[0],et=0,g=1;g<=b;g++)lt=pt.q(ot,g/b),et+=ht.vectorLen(ht.subtract(lt,st)),tt.push(et),st=lt;return tt=tt.map(_e=>_e/et),tt};function dt(ot,b,lt,tt){if(b<0)return 0;if(b>1)return 1;for(var st,et,g,_e,it,gt=1;gt<=tt;gt++)if(b<=lt[gt]){_e=(gt-1)/tt,g=gt/tt,et=lt[gt-1],st=lt[gt],it=(b-et)/(st-et)*(g-_e)+_e;break}return it}function ft(ot,b){return ht.normalize(ht.subtract(ot,b))}class ht{static zeros_Xx2x2(b){for(var lt=[];b--;)lt.push([0,0]);return lt}static mulItems(b,lt){return b.map(tt=>tt*lt)}static mulMatrix(b,lt){return b.reduce((tt,st,et)=>tt+st*lt[et],0)}static subtract(b,lt){return b.map((tt,st)=>tt-lt[st])}static addArrays(b,lt){return b.map((tt,st)=>tt+lt[st])}static addItems(b,lt){return b.map(tt=>tt+lt)}static sum(b){return b.reduce((lt,tt)=>lt+tt)}static dot(b,lt){return ht.mulMatrix(b,lt)}static vectorLen(b){return Math.hypot(...b)}static divItems(b,lt){return b.map(tt=>tt/lt)}static squareItems(b){return b.map(lt=>lt*lt)}static normalize(b){return this.divItems(b,this.vectorLen(b))}}class pt{static q(b,lt){var tt=1-lt,st=ht.mulItems(b[0],tt*tt*tt),et=ht.mulItems(b[1],3*tt*tt*lt),g=ht.mulItems(b[2],3*tt*lt*lt),_e=ht.mulItems(b[3],lt*lt*lt);return ht.addArrays(ht.addArrays(st,et),ht.addArrays(g,_e))}static qprime(b,lt){var tt=1-lt,st=ht.mulItems(ht.subtract(b[1],b[0]),3*tt*tt),et=ht.mulItems(ht.subtract(b[2],b[1]),6*tt*lt),g=ht.mulItems(ht.subtract(b[3],b[2]),3*lt*lt);return ht.addArrays(ht.addArrays(st,et),g)}static qprimeprime(b,lt){return ht.addArrays(ht.mulItems(ht.addArrays(ht.subtract(b[2],ht.mulItems(b[1],2)),b[0]),6*(1-lt)),ht.mulItems(ht.addArrays(ht.subtract(b[3],ht.mulItems(b[2],2)),b[1]),6*lt))}}i.exports=s,i.exports.fitCubic=o,i.exports.createTangent=ft},(i,s,o)=>{var yt,ur,xt,dr,kt,hr;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationLayer=void 0;var a=o(1),c=o(8),d=o(5),_=o(28),j=o(29);const $=1e3,nt=9,dt=new WeakSet;function ft($t){return{width:$t[2]-$t[0],height:$t[3]-$t[1]}}class ht{static create(ut){switch(ut.data.annotationType){case a.AnnotationType.LINK:return new ot(ut);case a.AnnotationType.TEXT:return new b(ut);case a.AnnotationType.WIDGET:switch(ut.data.fieldType){case"Tx":return new tt(ut);case"Btn":return ut.data.radioButton?new et(ut):ut.data.checkBox?new st(ut):new g(ut);case"Ch":return new _e(ut)}return new lt(ut);case a.AnnotationType.POPUP:return new it(ut);case a.AnnotationType.FREETEXT:return new rt(ut);case a.AnnotationType.LINE:return new at(ut);case a.AnnotationType.SQUARE:return new ct(ut);case a.AnnotationType.CIRCLE:return new St(ut);case a.AnnotationType.POLYLINE:return new wt(ut);case a.AnnotationType.CARET:return new Mt(ut);case a.AnnotationType.INK:return new zt(ut);case a.AnnotationType.POLYGON:return new Lt(ut);case a.AnnotationType.HIGHLIGHT:return new Ut(ut);case a.AnnotationType.UNDERLINE:return new Dt(ut);case a.AnnotationType.SQUIGGLY:return new Rt(ut);case a.AnnotationType.STRIKEOUT:return new Bt(ut);case a.AnnotationType.STAMP:return new Ht(ut);case a.AnnotationType.FILEATTACHMENT:return new qt(ut);default:return new pt(ut)}}}class pt{constructor(ut,{isRenderable:vt=!1,ignoreBorder:_t=!1,createQuadrilaterals:Et=!1}={}){this.isRenderable=vt,this.data=ut.data,this.layer=ut.layer,this.page=ut.page,this.viewport=ut.viewport,this.linkService=ut.linkService,this.downloadManager=ut.downloadManager,this.imageResourcesPath=ut.imageResourcesPath,this.renderForms=ut.renderForms,this.svgFactory=ut.svgFactory,this.annotationStorage=ut.annotationStorage,this.enableScripting=ut.enableScripting,this.hasJSActions=ut.hasJSActions,this._fieldObjects=ut.fieldObjects,this._mouseState=ut.mouseState,vt&&(this.container=this._createContainer(_t)),Et&&(this.quadrilaterals=this._createQuadrilaterals(_t))}_createContainer(ut=!1){const vt=this.data,_t=this.page,Et=this.viewport,At=document.createElement("section"),{width:Ot,height:Xt}=ft(vt.rect),[en,Vt,Qt,Gt]=Et.viewBox,Zt=Qt-en,nn=Gt-Vt;At.setAttribute("data-annotation-id",vt.id);const Pt=a.Util.normalizeRect([vt.rect[0],_t.view[3]-vt.rect[1]+_t.view[1],vt.rect[2],_t.view[3]-vt.rect[3]+_t.view[1]]);if(!ut&&vt.borderStyle.width>0){At.style.borderWidth=`${vt.borderStyle.width}px`;const ln=vt.borderStyle.horizontalCornerRadius,un=vt.borderStyle.verticalCornerRadius;if(ln>0||un>0){const pn=`calc(${ln}px * var(--scale-factor)) / calc(${un}px * var(--scale-factor))`;At.style.borderRadius=pn}else if(this instanceof et){const pn=`calc(${Ot}px * var(--scale-factor)) / calc(${Xt}px * var(--scale-factor))`;At.style.borderRadius=pn}switch(vt.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:At.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:At.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:At.style.borderBottomStyle="solid";break}const hn=vt.borderColor||null;hn?At.style.borderColor=a.Util.makeHexColor(hn[0]|0,hn[1]|0,hn[2]|0):At.style.borderWidth=0}At.style.left=`${100*(Pt[0]-en)/Zt}%`,At.style.top=`${100*(Pt[1]-Vt)/nn}%`;const{rotation:tn}=vt;return vt.hasOwnCanvas||tn===0?(At.style.width=`${100*Ot/Zt}%`,At.style.height=`${100*Xt/nn}%`):this.setRotation(tn,At),At}setRotation(ut,vt=this.container){const[_t,Et,At,Ot]=this.viewport.viewBox,Xt=At-_t,en=Ot-Et,{width:Vt,height:Qt}=ft(this.data.rect);let Gt,Zt;ut%180===0?(Gt=100*Vt/Xt,Zt=100*Qt/en):(Gt=100*Qt/Xt,Zt=100*Vt/en),vt.style.width=`${Gt}%`,vt.style.height=`${Zt}%`,vt.setAttribute("data-main-rotation",(360-ut)%360)}get _commonActions(){const ut=(vt,_t,Et)=>{const At=Et.detail[vt];Et.target.style[_t]=_.ColorConverters[`${At[0]}_HTML`](At.slice(1))};return(0,a.shadow)(this,"_commonActions",{display:vt=>{const _t=vt.detail.display%2===1;this.container.style.visibility=_t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:_t,print:vt.detail.display===0||vt.detail.display===3})},print:vt=>{this.annotationStorage.setValue(this.data.id,{print:vt.detail.print})},hidden:vt=>{this.container.style.visibility=vt.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:vt.detail.hidden})},focus:vt=>{setTimeout(()=>vt.target.focus({preventScroll:!1}),0)},userName:vt=>{vt.target.title=vt.detail.userName},readonly:vt=>{vt.detail.readonly?vt.target.setAttribute("readonly",""):vt.target.removeAttribute("readonly")},required:vt=>{this._setRequired(vt.target,vt.detail.required)},bgColor:vt=>{ut("bgColor","backgroundColor",vt)},fillColor:vt=>{ut("fillColor","backgroundColor",vt)},fgColor:vt=>{ut("fgColor","color",vt)},textColor:vt=>{ut("textColor","color",vt)},borderColor:vt=>{ut("borderColor","borderColor",vt)},strokeColor:vt=>{ut("strokeColor","borderColor",vt)},rotation:vt=>{const _t=vt.detail.rotation;this.setRotation(_t),this.annotationStorage.setValue(this.data.id,{rotation:_t})}})}_dispatchEventFromSandbox(ut,vt){const _t=this._commonActions;for(const Et of Object.keys(vt.detail)){const At=ut[Et]||_t[Et];At&&At(vt)}}_setDefaultPropertiesFromJS(ut){if(!this.enableScripting)return;const vt=this.annotationStorage.getRawValue(this.data.id);if(!vt)return;const _t=this._commonActions;for(const[Et,At]of Object.entries(vt)){const Ot=_t[Et];if(Ot){const Xt={detail:{[Et]:At},target:ut};Ot(Xt),delete vt[Et]}}}_createQuadrilaterals(ut=!1){if(!this.data.quadPoints)return null;const vt=[],_t=this.data.rect;for(const Et of this.data.quadPoints)this.data.rect=[Et[2].x,Et[2].y,Et[1].x,Et[1].y],vt.push(this._createContainer(ut));return this.data.rect=_t,vt}_createPopup(ut,vt){let _t=this.container;this.quadrilaterals&&(ut=ut||this.quadrilaterals,_t=this.quadrilaterals[0]),ut||(ut=document.createElement("div"),ut.className="popupTriggerArea",_t.append(ut));const At=new gt({container:_t,trigger:ut,color:vt.color,titleObj:vt.titleObj,modificationDate:vt.modificationDate,contentsObj:vt.contentsObj,richText:vt.richText,hideWrapper:!0}).render();At.style.left="100%",_t.append(At)}_renderQuadrilaterals(ut){for(const vt of this.quadrilaterals)vt.className=ut;return this.quadrilaterals}render(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(ut,vt=null){const _t=[];if(this._fieldObjects){const Et=this._fieldObjects[ut];if(Et)for(const{page:At,id:Ot,exportValues:Xt}of Et){if(At===-1||Ot===vt)continue;const en=typeof Xt=="string"?Xt:null,Vt=document.querySelector(`[data-element-id="${Ot}"]`);if(Vt&&!dt.has(Vt)){(0,a.warn)(`_getElementsByName - element not allowed: ${Ot}`);continue}_t.push({id:Ot,exportValue:en,domElement:Vt})}return _t}for(const Et of document.getElementsByName(ut)){const{id:At,exportValue:Ot}=Et;At!==vt&&dt.has(Et)&&_t.push({id:At,exportValue:Ot,domElement:Et})}return _t}static get platform(){const ut=typeof navigator<"u"?navigator.platform:"";return(0,a.shadow)(this,"platform",{isWin:ut.includes("Win"),isMac:ut.includes("Mac")})}}class ot extends pt{constructor(ut,vt=null){super(ut,{isRenderable:!0,ignoreBorder:!!(vt!=null&&vt.ignoreBorder),createQuadrilaterals:!0}),this.isTooltipOnly=ut.data.isTooltipOnly}render(){const{data:ut,linkService:vt}=this,_t=document.createElement("a");_t.setAttribute("data-element-id",ut.id);let Et=!1;return ut.url?(vt.addLinkAttributes(_t,ut.url,ut.newWindow),Et=!0):ut.action?(this._bindNamedAction(_t,ut.action),Et=!0):ut.dest?(this._bindLink(_t,ut.dest),Et=!0):(ut.actions&&(ut.actions.Action||ut.actions["Mouse Up"]||ut.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(_t,ut),Et=!0),ut.resetForm?(this._bindResetFormAction(_t,ut.resetForm),Et=!0):this.isTooltipOnly&&!Et&&(this._bindLink(_t,""),Et=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((At,Ot)=>{const Xt=Ot===0?_t:_t.cloneNode();return At.append(Xt),At}):(this.container.className="linkAnnotation",Et&&this.container.append(_t),this.container)}_bindLink(ut,vt){ut.href=this.linkService.getDestinationHash(vt),ut.onclick=()=>(vt&&this.linkService.goToDestination(vt),!1),(vt||vt==="")&&(ut.className="internalLink")}_bindNamedAction(ut,vt){ut.href=this.linkService.getAnchorUrl(""),ut.onclick=()=>(this.linkService.executeNamedAction(vt),!1),ut.className="internalLink"}_bindJSAction(ut,vt){ut.href=this.linkService.getAnchorUrl("");const _t=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Et of Object.keys(vt.actions)){const At=_t.get(Et);At&&(ut[At]=()=>{var Ot;return(Ot=this.linkService.eventBus)==null||Ot.dispatch("dispatcheventinsandbox",{source:this,detail:{id:vt.id,name:Et}}),!1})}ut.onclick||(ut.onclick=()=>!1),ut.className="internalLink"}_bindResetFormAction(ut,vt){const _t=ut.onclick;if(_t||(ut.href=this.linkService.getAnchorUrl("")),ut.className="internalLink",!this._fieldObjects){(0,a.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),_t||(ut.onclick=()=>!1);return}ut.onclick=()=>{var Qt;_t&&_t();const{fields:Et,refs:At,include:Ot}=vt,Xt=[];if(Et.length!==0||At.length!==0){const Gt=new Set(At);for(const Zt of Et){const nn=this._fieldObjects[Zt]||[];for(const{id:Pt}of nn)Gt.add(Pt)}for(const Zt of Object.values(this._fieldObjects))for(const nn of Zt)Gt.has(nn.id)===Ot&&Xt.push(nn)}else for(const Gt of Object.values(this._fieldObjects))Xt.push(...Gt);const en=this.annotationStorage,Vt=[];for(const Gt of Xt){const{id:Zt}=Gt;switch(Vt.push(Zt),Gt.type){case"text":{const Pt=Gt.defaultValue||"";en.setValue(Zt,{value:Pt});break}case"checkbox":case"radiobutton":{const Pt=Gt.defaultValue===Gt.exportValues;en.setValue(Zt,{value:Pt});break}case"combobox":case"listbox":{const Pt=Gt.defaultValue||"";en.setValue(Zt,{value:Pt});break}default:continue}const nn=document.querySelector(`[data-element-id="${Zt}"]`);if(nn){if(!dt.has(nn)){(0,a.warn)(`_bindResetFormAction - element not allowed: ${Zt}`);continue}}else continue;nn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Qt=this.linkService.eventBus)==null||Qt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Vt,name:"ResetForm"}})),!1}}}class b extends pt{constructor(ut){var _t,Et,At;const vt=!!(ut.data.hasPopup||(_t=ut.data.titleObj)!=null&&_t.str||(Et=ut.data.contentsObj)!=null&&Et.str||(At=ut.data.richText)!=null&&At.str);super(ut,{isRenderable:vt})}render(){this.container.className="textAnnotation";const ut=document.createElement("img");return ut.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",ut.alt="[{{type}} Annotation]",ut.dataset.l10nId="text_annotation_type",ut.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(ut,this.data),this.container.append(ut),this.container}}class lt extends pt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(ut){const{isWin:vt,isMac:_t}=pt.platform;return vt&&ut.ctrlKey||_t&&ut.metaKey}_setEventListener(ut,vt,_t,Et){vt.includes("mouse")?ut.addEventListener(vt,At=>{var Ot;(Ot=this.linkService.eventBus)==null||Ot.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:_t,value:Et(At),shift:At.shiftKey,modifier:this._getKeyModifier(At)}})}):ut.addEventListener(vt,At=>{var Ot;(Ot=this.linkService.eventBus)==null||Ot.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:_t,value:Et(At)}})})}_setEventListeners(ut,vt,_t){var Et;for(const[At,Ot]of vt)(Ot==="Action"||(Et=this.data.actions)!=null&&Et[Ot])&&this._setEventListener(ut,At,Ot,_t)}_setBackgroundColor(ut){const vt=this.data.backgroundColor||null;ut.style.backgroundColor=vt===null?"transparent":a.Util.makeHexColor(vt[0],vt[1],vt[2])}_setTextStyle(ut){const vt=["left","center","right"],{fontColor:_t}=this.data.defaultAppearanceData,Et=this.data.defaultAppearanceData.fontSize||nt,At=ut.style;let Ot;if(this.data.multiLine){const Xt=Math.abs(this.data.rect[3]-this.data.rect[1]),en=Math.round(Xt/(a.LINE_FACTOR*Et))||1,Vt=Xt/en;Ot=Math.min(Et,Math.round(Vt/a.LINE_FACTOR))}else{const Xt=Math.abs(this.data.rect[3]-this.data.rect[1]);Ot=Math.min(Et,Math.round(Xt/a.LINE_FACTOR))}At.fontSize=`calc(${Ot}px * var(--scale-factor))`,At.color=a.Util.makeHexColor(_t[0],_t[1],_t[2]),this.data.textAlignment!==null&&(At.textAlign=vt[this.data.textAlignment])}_setRequired(ut,vt){vt?ut.setAttribute("required",!0):ut.removeAttribute("required"),ut.setAttribute("aria-required",vt)}}class tt extends lt{constructor(ut){const vt=ut.renderForms||!ut.data.hasAppearance&&!!ut.data.fieldValue;super(ut,{isRenderable:vt})}setPropertyOnSiblings(ut,vt,_t,Et){const At=this.annotationStorage;for(const Ot of this._getElementsByName(ut.name,ut.id))Ot.domElement&&(Ot.domElement[vt]=_t),At.setValue(Ot.id,{[Et]:_t})}render(){var Et;const ut=this.annotationStorage,vt=this.data.id;this.container.className="textWidgetAnnotation";let _t=null;if(this.renderForms){const At=ut.getValue(vt,{value:this.data.fieldValue});let Ot=At.formattedValue||At.value||"";const Xt=ut.getValue(vt,{charLimit:this.data.maxLen}).charLimit;Xt&&Ot.length>Xt&&(Ot=Ot.slice(0,Xt));const en={userValue:Ot,formattedValue:null,valueOnFocus:""};this.data.multiLine?(_t=document.createElement("textarea"),_t.textContent=Ot,this.data.doNotScroll&&(_t.style.overflowY="hidden")):(_t=document.createElement("input"),_t.type="text",_t.setAttribute("value",Ot),this.data.doNotScroll&&(_t.style.overflowX="hidden")),dt.add(_t),_t.setAttribute("data-element-id",vt),_t.disabled=this.data.readOnly,_t.name=this.data.fieldName,_t.tabIndex=$,this._setRequired(_t,this.data.required),Xt&&(_t.maxLength=Xt),_t.addEventListener("input",Qt=>{ut.setValue(vt,{value:Qt.target.value}),this.setPropertyOnSiblings(_t,"value",Qt.target.value,"value")}),_t.addEventListener("resetform",Qt=>{const Gt=this.data.defaultFieldValue??"";_t.value=en.userValue=Gt,en.formattedValue=null});let Vt=Qt=>{const{formattedValue:Gt}=en;Gt!=null&&(Qt.target.value=Gt),Qt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){_t.addEventListener("focus",Gt=>{en.userValue&&(Gt.target.value=en.userValue),en.valueOnFocus=Gt.target.value}),_t.addEventListener("updatefromsandbox",Gt=>{const Zt={value(nn){en.userValue=nn.detail.value??"",ut.setValue(vt,{value:en.userValue.toString()}),nn.target.value=en.userValue},formattedValue(nn){const{formattedValue:Pt}=nn.detail;en.formattedValue=Pt,Pt!=null&&nn.target!==document.activeElement&&(nn.target.value=Pt),ut.setValue(vt,{formattedValue:Pt})},selRange(nn){nn.target.setSelectionRange(...nn.detail.selRange)},charLimit:nn=>{var un;const{charLimit:Pt}=nn.detail,{target:tn}=nn;if(Pt===0){tn.removeAttribute("maxLength");return}tn.setAttribute("maxLength",Pt);let ln=en.userValue;!ln||ln.length<=Pt||(ln=ln.slice(0,Pt),tn.value=en.userValue=ln,ut.setValue(vt,{value:ln}),(un=this.linkService.eventBus)==null||un.dispatch("dispatcheventinsandbox",{source:this,detail:{id:vt,name:"Keystroke",value:ln,willCommit:!0,commitKey:1,selStart:tn.selectionStart,selEnd:tn.selectionEnd}}))}};this._dispatchEventFromSandbox(Zt,Gt)}),_t.addEventListener("keydown",Gt=>{var Pt;let Zt=-1;if(Gt.key==="Escape"?Zt=0:Gt.key==="Enter"?Zt=2:Gt.key==="Tab"&&(Zt=3),Zt===-1)return;const{value:nn}=Gt.target;en.valueOnFocus!==nn&&(en.userValue=nn,(Pt=this.linkService.eventBus)==null||Pt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:vt,name:"Keystroke",value:nn,willCommit:!0,commitKey:Zt,selStart:Gt.target.selectionStart,selEnd:Gt.target.selectionEnd}}))});const Qt=Vt;Vt=null,_t.addEventListener("blur",Gt=>{var nn;const{value:Zt}=Gt.target;en.userValue=Zt,this._mouseState.isDown&&en.valueOnFocus!==Zt&&((nn=this.linkService.eventBus)==null||nn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:vt,name:"Keystroke",value:Zt,willCommit:!0,commitKey:1,selStart:Gt.target.selectionStart,selEnd:Gt.target.selectionEnd}})),Qt(Gt)}),(Et=this.data.actions)!=null&&Et.Keystroke&&_t.addEventListener("beforeinput",Gt=>{var pn;const{data:Zt,target:nn}=Gt,{value:Pt,selectionStart:tn,selectionEnd:ln}=nn;let un=tn,hn=ln;switch(Gt.inputType){case"deleteWordBackward":{const Sn=Pt.substring(0,tn).match(/\w*[^\w]*$/);Sn&&(un-=Sn[0].length);break}case"deleteWordForward":{const Sn=Pt.substring(tn).match(/^[^\w]*\w*/);Sn&&(hn+=Sn[0].length);break}case"deleteContentBackward":tn===ln&&(un-=1);break;case"deleteContentForward":tn===ln&&(hn+=1);break}Gt.preventDefault(),(pn=this.linkService.eventBus)==null||pn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:vt,name:"Keystroke",value:Pt,change:Zt||"",willCommit:!1,selStart:un,selEnd:hn}})}),this._setEventListeners(_t,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Gt=>Gt.target.value)}if(Vt&&_t.addEventListener("blur",Vt),this.data.comb){const Gt=(this.data.rect[2]-this.data.rect[0])/Xt;_t.classList.add("comb"),_t.style.letterSpacing=`calc(${Gt}px * var(--scale-factor) - 1ch)`}}else _t=document.createElement("div"),_t.textContent=this.data.fieldValue,_t.style.verticalAlign="middle",_t.style.display="table-cell";return this._setTextStyle(_t),this._setBackgroundColor(_t),this._setDefaultPropertiesFromJS(_t),this.container.append(_t),this.container}}class st extends lt{constructor(ut){super(ut,{isRenderable:ut.renderForms})}render(){const ut=this.annotationStorage,vt=this.data,_t=vt.id;let Et=ut.getValue(_t,{value:vt.exportValue===vt.fieldValue}).value;typeof Et=="string"&&(Et=Et!=="Off",ut.setValue(_t,{value:Et})),this.container.className="buttonWidgetAnnotation checkBox";const At=document.createElement("input");return dt.add(At),At.setAttribute("data-element-id",_t),At.disabled=vt.readOnly,this._setRequired(At,this.data.required),At.type="checkbox",At.name=vt.fieldName,Et&&At.setAttribute("checked",!0),At.setAttribute("exportValue",vt.exportValue),At.tabIndex=$,At.addEventListener("change",Ot=>{const{name:Xt,checked:en}=Ot.target;for(const Vt of this._getElementsByName(Xt,_t)){const Qt=en&&Vt.exportValue===vt.exportValue;Vt.domElement&&(Vt.domElement.checked=Qt),ut.setValue(Vt.id,{value:Qt})}ut.setValue(_t,{value:en})}),At.addEventListener("resetform",Ot=>{const Xt=vt.defaultFieldValue||"Off";Ot.target.checked=Xt===vt.exportValue}),this.enableScripting&&this.hasJSActions&&(At.addEventListener("updatefromsandbox",Ot=>{const Xt={value(en){en.target.checked=en.detail.value!=="Off",ut.setValue(_t,{value:en.target.checked})}};this._dispatchEventFromSandbox(Xt,Ot)}),this._setEventListeners(At,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ot=>Ot.target.checked)),this._setBackgroundColor(At),this._setDefaultPropertiesFromJS(At),this.container.append(At),this.container}}class et extends lt{constructor(ut){super(ut,{isRenderable:ut.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const ut=this.annotationStorage,vt=this.data,_t=vt.id;let Et=ut.getValue(_t,{value:vt.fieldValue===vt.buttonValue}).value;typeof Et=="string"&&(Et=Et!==vt.buttonValue,ut.setValue(_t,{value:Et}));const At=document.createElement("input");if(dt.add(At),At.setAttribute("data-element-id",_t),At.disabled=vt.readOnly,this._setRequired(At,this.data.required),At.type="radio",At.name=vt.fieldName,Et&&At.setAttribute("checked",!0),At.tabIndex=$,At.addEventListener("change",Ot=>{const{name:Xt,checked:en}=Ot.target;for(const Vt of this._getElementsByName(Xt,_t))ut.setValue(Vt.id,{value:!1});ut.setValue(_t,{value:en})}),At.addEventListener("resetform",Ot=>{const Xt=vt.defaultFieldValue;Ot.target.checked=Xt!=null&&Xt===vt.buttonValue}),this.enableScripting&&this.hasJSActions){const Ot=vt.buttonValue;At.addEventListener("updatefromsandbox",Xt=>{const en={value:Vt=>{const Qt=Ot===Vt.detail.value;for(const Gt of this._getElementsByName(Vt.target.name)){const Zt=Qt&&Gt.id===_t;Gt.domElement&&(Gt.domElement.checked=Zt),ut.setValue(Gt.id,{value:Zt})}}};this._dispatchEventFromSandbox(en,Xt)}),this._setEventListeners(At,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Xt=>Xt.target.checked)}return this._setBackgroundColor(At),this._setDefaultPropertiesFromJS(At),this.container.append(At),this.container}}class g extends ot{constructor(ut){super(ut,{ignoreBorder:ut.data.hasAppearance})}render(){const ut=super.render();ut.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(ut.title=this.data.alternativeText);const vt=ut.lastChild;return this.enableScripting&&this.hasJSActions&&vt&&(this._setDefaultPropertiesFromJS(vt),vt.addEventListener("updatefromsandbox",_t=>{this._dispatchEventFromSandbox({},_t)})),ut}}class _e extends lt{constructor(ut){super(ut,{isRenderable:ut.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const ut=this.annotationStorage,vt=this.data.id,_t=ut.getValue(vt,{value:this.data.fieldValue}),Et=document.createElement("select");dt.add(Et),Et.setAttribute("data-element-id",vt),Et.disabled=this.data.readOnly,this._setRequired(Et,this.data.required),Et.name=this.data.fieldName,Et.tabIndex=$;let At=this.data.combo&&this.data.options.length>0;this.data.combo||(Et.size=this.data.options.length,this.data.multiSelect&&(Et.multiple=!0)),Et.addEventListener("resetform",Vt=>{const Qt=this.data.defaultFieldValue;for(const Gt of Et.options)Gt.selected=Gt.value===Qt});for(const Vt of this.data.options){const Qt=document.createElement("option");Qt.textContent=Vt.displayValue,Qt.value=Vt.exportValue,_t.value.includes(Vt.exportValue)&&(Qt.setAttribute("selected",!0),At=!1),Et.append(Qt)}let Ot=null;if(At){const Vt=document.createElement("option");Vt.value=" ",Vt.setAttribute("hidden",!0),Vt.setAttribute("selected",!0),Et.prepend(Vt),Ot=()=>{Vt.remove(),Et.removeEventListener("input",Ot),Ot=null},Et.addEventListener("input",Ot)}const Xt=(Vt,Qt)=>{const Gt=Qt?"value":"textContent",Zt=Vt.target.options;return Vt.target.multiple?Array.prototype.filter.call(Zt,nn=>nn.selected).map(nn=>nn[Gt]):Zt.selectedIndex===-1?null:Zt[Zt.selectedIndex][Gt]},en=Vt=>{const Qt=Vt.target.options;return Array.prototype.map.call(Qt,Gt=>({displayValue:Gt.textContent,exportValue:Gt.value}))};return this.enableScripting&&this.hasJSActions?(Et.addEventListener("updatefromsandbox",Vt=>{const Qt={value(Gt){Ot==null||Ot();const Zt=Gt.detail.value,nn=new Set(Array.isArray(Zt)?Zt:[Zt]);for(const Pt of Et.options)Pt.selected=nn.has(Pt.value);ut.setValue(vt,{value:Xt(Gt,!0)})},multipleSelection(Gt){Et.multiple=!0},remove(Gt){const Zt=Et.options,nn=Gt.detail.remove;Zt[nn].selected=!1,Et.remove(nn),Zt.length>0&&Array.prototype.findIndex.call(Zt,tn=>tn.selected)===-1&&(Zt[0].selected=!0),ut.setValue(vt,{value:Xt(Gt,!0),items:en(Gt)})},clear(Gt){for(;Et.length!==0;)Et.remove(0);ut.setValue(vt,{value:null,items:[]})},insert(Gt){const{index:Zt,displayValue:nn,exportValue:Pt}=Gt.detail.insert,tn=Et.children[Zt],ln=document.createElement("option");ln.textContent=nn,ln.value=Pt,tn?tn.before(ln):Et.append(ln),ut.setValue(vt,{value:Xt(Gt,!0),items:en(Gt)})},items(Gt){const{items:Zt}=Gt.detail;for(;Et.length!==0;)Et.remove(0);for(const nn of Zt){const{displayValue:Pt,exportValue:tn}=nn,ln=document.createElement("option");ln.textContent=Pt,ln.value=tn,Et.append(ln)}Et.options.length>0&&(Et.options[0].selected=!0),ut.setValue(vt,{value:Xt(Gt,!0),items:en(Gt)})},indices(Gt){const Zt=new Set(Gt.detail.indices);for(const nn of Gt.target.options)nn.selected=Zt.has(nn.index);ut.setValue(vt,{value:Xt(Gt,!0)})},editable(Gt){Gt.target.disabled=!Gt.detail.editable}};this._dispatchEventFromSandbox(Qt,Vt)}),Et.addEventListener("input",Vt=>{var Zt;const Qt=Xt(Vt,!0),Gt=Xt(Vt,!1);ut.setValue(vt,{value:Qt}),(Zt=this.linkService.eventBus)==null||Zt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:vt,name:"Keystroke",value:Gt,changeEx:Qt,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(Et,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],Vt=>Vt.target.checked)):Et.addEventListener("input",function(Vt){ut.setValue(vt,{value:Xt(Vt,!0)})}),this.data.combo&&this._setTextStyle(Et),this._setBackgroundColor(Et),this._setDefaultPropertiesFromJS(Et),this.container.append(Et),this.container}}class it extends pt{constructor(ut){var _t,Et,At;const vt=!!((_t=ut.data.titleObj)!=null&&_t.str||(Et=ut.data.contentsObj)!=null&&Et.str||(At=ut.data.richText)!=null&&At.str);super(ut,{isRenderable:vt})}render(){const ut=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",ut.includes(this.data.parentType))return this.container;const vt=`[data-annotation-id="${this.data.parentId}"]`,_t=this.layer.querySelectorAll(vt);if(_t.length===0)return this.container;const Et=new gt({container:this.container,trigger:Array.from(_t),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),At=this.page,Ot=a.Util.normalizeRect([this.data.parentRect[0],At.view[3]-this.data.parentRect[1]+At.view[1],this.data.parentRect[2],At.view[3]-this.data.parentRect[3]+At.view[1]]),Xt=Ot[0]+this.data.parentRect[2]-this.data.parentRect[0],en=Ot[1],[Vt,Qt,Gt,Zt]=this.viewport.viewBox,nn=Gt-Vt,Pt=Zt-Qt;return this.container.style.left=`${100*(Xt-Vt)/nn}%`,this.container.style.top=`${100*(en-Qt)/Pt}%`,this.container.append(Et.render()),this.container}}class gt{constructor(ut){this.container=ut.container,this.trigger=ut.trigger,this.color=ut.color,this.titleObj=ut.titleObj,this.modificationDate=ut.modificationDate,this.contentsObj=ut.contentsObj,this.richText=ut.richText,this.hideWrapper=ut.hideWrapper||!1,this.pinned=!1}render(){var Xt,en;const vt=document.createElement("div");vt.className="popupWrapper",this.hideElement=this.hideWrapper?vt:this.container,this.hideElement.hidden=!0;const _t=document.createElement("div");_t.className="popup";const Et=this.color;if(Et){const Vt=.7*(255-Et[0])+Et[0],Qt=.7*(255-Et[1])+Et[1],Gt=.7*(255-Et[2])+Et[2];_t.style.backgroundColor=a.Util.makeHexColor(Vt|0,Qt|0,Gt|0)}const At=document.createElement("h1");At.dir=this.titleObj.dir,At.textContent=this.titleObj.str,_t.append(At);const Ot=c.PDFDateString.toDateObject(this.modificationDate);if(Ot){const Vt=document.createElement("span");Vt.className="popupDate",Vt.textContent="{{date}}, {{time}}",Vt.dataset.l10nId="annotation_date_string",Vt.dataset.l10nArgs=JSON.stringify({date:Ot.toLocaleDateString(),time:Ot.toLocaleTimeString()}),_t.append(Vt)}if((Xt=this.richText)!=null&&Xt.str&&(!((en=this.contentsObj)!=null&&en.str)||this.contentsObj.str===this.richText.str))j.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:_t}),_t.lastChild.className="richText popupContent";else{const Vt=this._formatContents(this.contentsObj);_t.append(Vt)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Vt of this.trigger)Vt.addEventListener("click",this._toggle.bind(this)),Vt.addEventListener("mouseover",this._show.bind(this,!1)),Vt.addEventListener("mouseout",this._hide.bind(this,!1));return _t.addEventListener("click",this._hide.bind(this,!0)),vt.append(_t),vt}_formatContents({str:ut,dir:vt}){const _t=document.createElement("p");_t.className="popupContent",_t.dir=vt;const Et=ut.split(/(?:\r\n?|\n)/);for(let At=0,Ot=Et.length;At<Ot;++At){const Xt=Et[At];_t.append(document.createTextNode(Xt)),At<Ot-1&&_t.append(document.createElement("br"))}return _t}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(ut=!1){ut&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(ut=!0){ut&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class rt extends pt{constructor(ut){var _t,Et,At;const vt=!!(ut.data.hasPopup||(_t=ut.data.titleObj)!=null&&_t.str||(Et=ut.data.contentsObj)!=null&&Et.str||(At=ut.data.richText)!=null&&At.str);super(ut,{isRenderable:vt,ignoreBorder:!0}),this.textContent=ut.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const ut=document.createElement("div");ut.className="annotationTextContent",ut.setAttribute("role","comment");for(const vt of this.textContent){const _t=document.createElement("span");_t.textContent=vt,ut.append(_t)}this.container.append(ut)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class at extends pt{constructor(ut){var _t,Et,At;const vt=!!(ut.data.hasPopup||(_t=ut.data.titleObj)!=null&&_t.str||(Et=ut.data.contentsObj)!=null&&Et.str||(At=ut.data.richText)!=null&&At.str);super(ut,{isRenderable:vt,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const ut=this.data,{width:vt,height:_t}=ft(ut.rect),Et=this.svgFactory.create(vt,_t,!0),At=this.svgFactory.createElement("svg:line");return At.setAttribute("x1",ut.rect[2]-ut.lineCoordinates[0]),At.setAttribute("y1",ut.rect[3]-ut.lineCoordinates[1]),At.setAttribute("x2",ut.rect[2]-ut.lineCoordinates[2]),At.setAttribute("y2",ut.rect[3]-ut.lineCoordinates[3]),At.setAttribute("stroke-width",ut.borderStyle.width||1),At.setAttribute("stroke","transparent"),At.setAttribute("fill","transparent"),Et.append(At),this.container.append(Et),this._createPopup(At,ut),this.container}}class ct extends pt{constructor(ut){var _t,Et,At;const vt=!!(ut.data.hasPopup||(_t=ut.data.titleObj)!=null&&_t.str||(Et=ut.data.contentsObj)!=null&&Et.str||(At=ut.data.richText)!=null&&At.str);super(ut,{isRenderable:vt,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const ut=this.data,{width:vt,height:_t}=ft(ut.rect),Et=this.svgFactory.create(vt,_t,!0),At=ut.borderStyle.width,Ot=this.svgFactory.createElement("svg:rect");return Ot.setAttribute("x",At/2),Ot.setAttribute("y",At/2),Ot.setAttribute("width",vt-At),Ot.setAttribute("height",_t-At),Ot.setAttribute("stroke-width",At||1),Ot.setAttribute("stroke","transparent"),Ot.setAttribute("fill","transparent"),Et.append(Ot),this.container.append(Et),this._createPopup(Ot,ut),this.container}}class St extends pt{constructor(ut){var _t,Et,At;const vt=!!(ut.data.hasPopup||(_t=ut.data.titleObj)!=null&&_t.str||(Et=ut.data.contentsObj)!=null&&Et.str||(At=ut.data.richText)!=null&&At.str);super(ut,{isRenderable:vt,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const ut=this.data,{width:vt,height:_t}=ft(ut.rect),Et=this.svgFactory.create(vt,_t,!0),At=ut.borderStyle.width,Ot=this.svgFactory.createElement("svg:ellipse");return Ot.setAttribute("cx",vt/2),Ot.setAttribute("cy",_t/2),Ot.setAttribute("rx",vt/2-At/2),Ot.setAttribute("ry",_t/2-At/2),Ot.setAttribute("stroke-width",At||1),Ot.setAttribute("stroke","transparent"),Ot.setAttribute("fill","transparent"),Et.append(Ot),this.container.append(Et),this._createPopup(Ot,ut),this.container}}class wt extends pt{constructor(ut){var _t,Et,At;const vt=!!(ut.data.hasPopup||(_t=ut.data.titleObj)!=null&&_t.str||(Et=ut.data.contentsObj)!=null&&Et.str||(At=ut.data.richText)!=null&&At.str);super(ut,{isRenderable:vt,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const ut=this.data,{width:vt,height:_t}=ft(ut.rect),Et=this.svgFactory.create(vt,_t,!0);let At=[];for(const Xt of ut.vertices){const en=Xt.x-ut.rect[0],Vt=ut.rect[3]-Xt.y;At.push(en+","+Vt)}At=At.join(" ");const Ot=this.svgFactory.createElement(this.svgElementName);return Ot.setAttribute("points",At),Ot.setAttribute("stroke-width",ut.borderStyle.width||1),Ot.setAttribute("stroke","transparent"),Ot.setAttribute("fill","transparent"),Et.append(Ot),this.container.append(Et),this._createPopup(Ot,ut),this.container}}class Lt extends wt{constructor(ut){super(ut),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Mt extends pt{constructor(ut){var _t,Et,At;const vt=!!(ut.data.hasPopup||(_t=ut.data.titleObj)!=null&&_t.str||(Et=ut.data.contentsObj)!=null&&Et.str||(At=ut.data.richText)!=null&&At.str);super(ut,{isRenderable:vt,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class zt extends pt{constructor(ut){var _t,Et,At;const vt=!!(ut.data.hasPopup||(_t=ut.data.titleObj)!=null&&_t.str||(Et=ut.data.contentsObj)!=null&&Et.str||(At=ut.data.richText)!=null&&At.str);super(ut,{isRenderable:vt,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const ut=this.data,{width:vt,height:_t}=ft(ut.rect),Et=this.svgFactory.create(vt,_t,!0);for(const At of ut.inkLists){let Ot=[];for(const en of At){const Vt=en.x-ut.rect[0],Qt=ut.rect[3]-en.y;Ot.push(`${Vt},${Qt}`)}Ot=Ot.join(" ");const Xt=this.svgFactory.createElement(this.svgElementName);Xt.setAttribute("points",Ot),Xt.setAttribute("stroke-width",ut.borderStyle.width||1),Xt.setAttribute("stroke","transparent"),Xt.setAttribute("fill","transparent"),this._createPopup(Xt,ut),Et.append(Xt)}return this.container.append(Et),this.container}}class Ut extends pt{constructor(ut){var _t,Et,At;const vt=!!(ut.data.hasPopup||(_t=ut.data.titleObj)!=null&&_t.str||(Et=ut.data.contentsObj)!=null&&Et.str||(At=ut.data.richText)!=null&&At.str);super(ut,{isRenderable:vt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Dt extends pt{constructor(ut){var _t,Et,At;const vt=!!(ut.data.hasPopup||(_t=ut.data.titleObj)!=null&&_t.str||(Et=ut.data.contentsObj)!=null&&Et.str||(At=ut.data.richText)!=null&&At.str);super(ut,{isRenderable:vt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Rt extends pt{constructor(ut){var _t,Et,At;const vt=!!(ut.data.hasPopup||(_t=ut.data.titleObj)!=null&&_t.str||(Et=ut.data.contentsObj)!=null&&Et.str||(At=ut.data.richText)!=null&&At.str);super(ut,{isRenderable:vt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Bt extends pt{constructor(ut){var _t,Et,At;const vt=!!(ut.data.hasPopup||(_t=ut.data.titleObj)!=null&&_t.str||(Et=ut.data.contentsObj)!=null&&Et.str||(At=ut.data.richText)!=null&&At.str);super(ut,{isRenderable:vt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class Ht extends pt{constructor(ut){var _t,Et,At;const vt=!!(ut.data.hasPopup||(_t=ut.data.titleObj)!=null&&_t.str||(Et=ut.data.contentsObj)!=null&&Et.str||(At=ut.data.richText)!=null&&At.str);super(ut,{isRenderable:vt,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class qt extends pt{constructor(ut){var Et;super(ut,{isRenderable:!0});const{filename:vt,content:_t}=this.data.file;this.filename=(0,c.getFilenameFromUrl)(vt),this.content=_t,(Et=this.linkService.eventBus)==null||Et.dispatch("fileattachmentannotation",{source:this,filename:vt,content:_t})}render(){var vt,_t;this.container.className="fileAttachmentAnnotation";const ut=document.createElement("div");return ut.className="popupTriggerArea",ut.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((vt=this.data.titleObj)!=null&&vt.str||(_t=this.data.contentsObj)!=null&&_t.str||this.data.richText)&&this._createPopup(ut,this.data),this.container.append(ut),this.container}_download(){var ut;(ut=this.downloadManager)==null||ut.openOrDownloadData(this.container,this.content,this.filename)}}const jt=class{static render(ut){var Xt,en;const{annotations:vt,div:_t,viewport:Et,accessibilityManager:At}=ut;Jt(this,xt,dr).call(this,_t,Et);let Ot=0;for(const Vt of vt){if(Vt.annotationType!==a.AnnotationType.POPUP){const{width:Gt,height:Zt}=ft(Vt.rect);if(Gt<=0||Zt<=0)continue}const Qt=ht.create({data:Vt,layer:_t,page:ut.page,viewport:Et,linkService:ut.linkService,downloadManager:ut.downloadManager,imageResourcesPath:ut.imageResourcesPath||"",renderForms:ut.renderForms!==!1,svgFactory:new c.DOMSVGFactory,annotationStorage:ut.annotationStorage||new d.AnnotationStorage,enableScripting:ut.enableScripting,hasJSActions:ut.hasJSActions,fieldObjects:ut.fieldObjects,mouseState:ut.mouseState||{isDown:!1}});if(Qt.isRenderable){const Gt=Qt.render();if(Vt.hidden&&(Gt.style.visibility="hidden"),Array.isArray(Gt))for(const Zt of Gt)Zt.style.zIndex=Ot++,Jt(Xt=jt,yt,ur).call(Xt,Zt,Vt.id,_t,At);else Gt.style.zIndex=Ot++,Qt instanceof it?_t.prepend(Gt):Jt(en=jt,yt,ur).call(en,Gt,Vt.id,_t,At)}}Jt(this,kt,hr).call(this,_t,ut.annotationCanvasMap)}static update(ut){const{annotationCanvasMap:vt,div:_t,viewport:Et}=ut;Jt(this,xt,dr).call(this,_t,Et),Jt(this,kt,hr).call(this,_t,vt),_t.hidden=!1}};let Ct=jt;yt=new WeakSet,ur=function(ut,vt,_t,Et){const At=ut.firstChild||ut;At.id=`${c.AnnotationPrefix}${vt}`,_t.append(ut),Et==null||Et.moveElementInDOM(_t,ut,At,!1)},xt=new WeakSet,dr=function(ut,{width:vt,height:_t,rotation:Et}){const{style:At}=ut,Ot=Et%180!==0,Xt=Math.floor(vt)+"px",en=Math.floor(_t)+"px";At.width=Ot?en:Xt,At.height=Ot?Xt:en,ut.setAttribute("data-main-rotation",Et)},kt=new WeakSet,hr=function(ut,vt){if(vt){for(const[_t,Et]of vt){const At=ut.querySelector(`[data-annotation-id="${_t}"]`);if(!At)continue;const{firstChild:Ot}=At;Ot?Ot.nodeName==="CANVAS"?Ot.replaceWith(Et):Ot.before(Et):At.append(Et)}vt.clear()}},Yt(Ct,yt),Yt(Ct,xt),Yt(Ct,kt),s.AnnotationLayer=Ct},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorConverters=void 0;function o(c){return Math.floor(Math.max(0,Math.min(1,c))*255).toString(16).padStart(2,"0")}class a{static CMYK_G([d,_,j,$]){return["G",1-Math.min(1,.3*d+.59*j+.11*_+$)]}static G_CMYK([d]){return["CMYK",0,0,0,1-d]}static G_RGB([d]){return["RGB",d,d,d]}static G_HTML([d]){const _=o(d);return`#${_}${_}${_}`}static RGB_G([d,_,j]){return["G",.3*d+.59*_+.11*j]}static RGB_HTML([d,_,j]){const $=o(d),nt=o(_),dt=o(j);return`#${$}${nt}${dt}`}static T_HTML(){return"#00000000"}static CMYK_RGB([d,_,j,$]){return["RGB",1-Math.min(1,d+$),1-Math.min(1,j+$),1-Math.min(1,_+$)]}static CMYK_HTML(d){const _=this.CMYK_RGB(d).slice(1);return this.RGB_HTML(_)}static RGB_CMYK([d,_,j]){const $=1-d,nt=1-_,dt=1-j,ft=Math.min($,nt,dt);return["CMYK",$,nt,dt,ft]}}s.ColorConverters=a},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayer=void 0;var a=o(20);class c{static setupStorage(_,j,$,nt,dt){const ft=nt.getValue(j,{value:null});switch($.name){case"textarea":if(ft.value!==null&&(_.textContent=ft.value),dt==="print")break;_.addEventListener("input",ht=>{nt.setValue(j,{value:ht.target.value})});break;case"input":if($.attributes.type==="radio"||$.attributes.type==="checkbox"){if(ft.value===$.attributes.xfaOn?_.setAttribute("checked",!0):ft.value===$.attributes.xfaOff&&_.removeAttribute("checked"),dt==="print")break;_.addEventListener("change",ht=>{nt.setValue(j,{value:ht.target.checked?ht.target.getAttribute("xfaOn"):ht.target.getAttribute("xfaOff")})})}else{if(ft.value!==null&&_.setAttribute("value",ft.value),dt==="print")break;_.addEventListener("input",ht=>{nt.setValue(j,{value:ht.target.value})})}break;case"select":if(ft.value!==null)for(const ht of $.children)ht.attributes.value===ft.value&&(ht.attributes.selected=!0);_.addEventListener("input",ht=>{const pt=ht.target.options,ot=pt.selectedIndex===-1?"":pt[pt.selectedIndex].value;nt.setValue(j,{value:ot})});break}}static setAttributes({html:_,element:j,storage:$=null,intent:nt,linkService:dt}){const{attributes:ft}=j,ht=_ instanceof HTMLAnchorElement;ft.type==="radio"&&(ft.name=`${ft.name}-${nt}`);for(const[pt,ot]of Object.entries(ft))if(ot!=null)switch(pt){case"class":ot.length&&_.setAttribute(pt,ot.join(" "));break;case"dataId":break;case"id":_.setAttribute("data-element-id",ot);break;case"style":Object.assign(_.style,ot);break;case"textContent":_.textContent=ot;break;default:(!ht||pt!=="href"&&pt!=="newWindow")&&_.setAttribute(pt,ot)}ht&&dt.addLinkAttributes(_,ft.href,ft.newWindow),$&&ft.dataId&&this.setupStorage(_,ft.dataId,j,$)}static render(_){var b;const j=_.annotationStorage,$=_.linkService,nt=_.xfaHtml,dt=_.intent||"display",ft=document.createElement(nt.name);nt.attributes&&this.setAttributes({html:ft,element:nt,intent:dt,linkService:$});const ht=[[nt,-1,ft]],pt=_.div;if(pt.append(ft),_.viewport){const lt=`matrix(${_.viewport.transform.join(",")})`;pt.style.transform=lt}dt!=="richText"&&pt.setAttribute("class","xfaLayer xfaFont");const ot=[];for(;ht.length>0;){const[lt,tt,st]=ht.at(-1);if(tt+1===lt.children.length){ht.pop();continue}const et=lt.children[++ht.at(-1)[1]];if(et===null)continue;const{name:g}=et;if(g==="#text"){const it=document.createTextNode(et.value);ot.push(it),st.append(it);continue}let _e;if((b=et==null?void 0:et.attributes)!=null&&b.xmlns?_e=document.createElementNS(et.attributes.xmlns,g):_e=document.createElement(g),st.append(_e),et.attributes&&this.setAttributes({html:_e,element:et,storage:j,intent:dt,linkService:$}),et.children&&et.children.length>0)ht.push([et,-1,_e]);else if(et.value){const it=document.createTextNode(et.value);a.XfaText.shouldBuildText(g)&&ot.push(it),_e.append(it)}}for(const lt of pt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))lt.setAttribute("readOnly",!0);return{textDivs:ot}}static update(_){const j=`matrix(${_.viewport.transform.join(",")})`;_.div.style.transform=j,_.div.hidden=!1}}s.XfaLayer=c},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerRenderTask=void 0,s.renderTextLayer=st;var a=o(1),c=o(8);const d=1e5,_=30,j=.8,$=new Map,nt=/^\s+$/g;function dt(et,g){const _e=$.get(et);if(_e)return _e;g.save(),g.font=`${_}px ${et}`;const it=g.measureText("");let gt=it.fontBoundingBoxAscent,rt=Math.abs(it.fontBoundingBoxDescent);if(gt){g.restore();const ct=gt/(gt+rt);return $.set(et,ct),ct}g.strokeStyle="red",g.clearRect(0,0,_,_),g.strokeText("g",0,0);let at=g.getImageData(0,0,_,_).data;rt=0;for(let ct=at.length-1-3;ct>=0;ct-=4)if(at[ct]>0){rt=Math.ceil(ct/4/_);break}g.clearRect(0,0,_,_),g.strokeText("A",0,_),at=g.getImageData(0,0,_,_).data,gt=0;for(let ct=0,St=at.length;ct<St;ct+=4)if(at[ct]>0){gt=_-Math.floor(ct/4/_);break}if(g.restore(),gt){const ct=gt/(gt+rt);return $.set(et,ct),ct}return $.set(et,j),j}function ft(et,g,_e,it){const gt=document.createElement("span"),rt=et._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:g.str!=="",hasEOL:g.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:g.str!=="",hasEOL:g.hasEOL,fontSize:0};et._textDivs.push(gt);const at=a.Util.transform(et._viewport.transform,g.transform);let ct=Math.atan2(at[1],at[0]);const St=_e[g.fontName];St.vertical&&(ct+=Math.PI/2);const wt=Math.hypot(at[2],at[3]),Lt=wt*dt(St.fontFamily,it);let Mt,zt;ct===0?(Mt=at[4],zt=at[5]-Lt):(Mt=at[4]+Lt*Math.sin(ct),zt=at[5]-Lt*Math.cos(ct)),gt.style.left=`${Mt}px`,gt.style.top=`${zt}px`,gt.style.fontSize=`${wt}px`,gt.style.fontFamily=St.fontFamily,rt.fontSize=wt,gt.setAttribute("role","presentation"),gt.textContent=g.str,gt.dir=g.dir,et._fontInspectorEnabled&&(gt.dataset.fontName=g.fontName),ct!==0&&(rt.angle=ct*(180/Math.PI));let Ut=!1;if(g.str.length>1||et._enhanceTextSelection&&nt.test(g.str))Ut=!0;else if(g.str!==" "&&g.transform[0]!==g.transform[3]){const Dt=Math.abs(g.transform[0]),Rt=Math.abs(g.transform[3]);Dt!==Rt&&Math.max(Dt,Rt)/Math.min(Dt,Rt)>1.5&&(Ut=!0)}if(Ut&&(St.vertical?rt.canvasWidth=g.height*et._viewport.scale:rt.canvasWidth=g.width*et._viewport.scale),et._textDivProperties.set(gt,rt),et._textContentStream&&et._layoutText(gt),et._enhanceTextSelection&&rt.hasText){let Dt=1,Rt=0;ct!==0&&(Dt=Math.cos(ct),Rt=Math.sin(ct));const Bt=(St.vertical?g.height:g.width)*et._viewport.scale,Ht=wt;let qt,Ct;ct!==0?(qt=[Dt,Rt,-Rt,Dt,Mt,zt],Ct=a.Util.getAxialAlignedBoundingBox([0,0,Bt,Ht],qt)):Ct=[Mt,zt,Mt+Bt,zt+Ht],et._bounds.push({left:Ct[0],top:Ct[1],right:Ct[2],bottom:Ct[3],div:gt,size:[Bt,Ht],m:qt})}}function ht(et){if(et._canceled)return;const g=et._textDivs,_e=et._capability,it=g.length;if(it>d){et._renderingDone=!0,_e.resolve();return}if(!et._textContentStream)for(let gt=0;gt<it;gt++)et._layoutText(g[gt]);et._renderingDone=!0,_e.resolve()}function pt(et,g,_e){let it=0;for(let gt=0;gt<_e;gt++){const rt=et[g++];rt>0&&(it=it?Math.min(rt,it):rt)}return it}function ot(et){const g=et._bounds,_e=et._viewport,it=b(_e.width,_e.height,g);for(let gt=0;gt<it.length;gt++){const rt=g[gt].div,at=et._textDivProperties.get(rt);if(at.angle===0){at.paddingLeft=g[gt].left-it[gt].left,at.paddingTop=g[gt].top-it[gt].top,at.paddingRight=it[gt].right-g[gt].right,at.paddingBottom=it[gt].bottom-g[gt].bottom,et._textDivProperties.set(rt,at);continue}const ct=it[gt],St=g[gt],wt=St.m,Lt=wt[0],Mt=wt[1],zt=[[0,0],[0,St.size[1]],[St.size[0],0],St.size],Ut=new Float64Array(64);for(let Rt=0,Bt=zt.length;Rt<Bt;Rt++){const Ht=a.Util.applyTransform(zt[Rt],wt);Ut[Rt+0]=Lt&&(ct.left-Ht[0])/Lt,Ut[Rt+4]=Mt&&(ct.top-Ht[1])/Mt,Ut[Rt+8]=Lt&&(ct.right-Ht[0])/Lt,Ut[Rt+12]=Mt&&(ct.bottom-Ht[1])/Mt,Ut[Rt+16]=Mt&&(ct.left-Ht[0])/-Mt,Ut[Rt+20]=Lt&&(ct.top-Ht[1])/Lt,Ut[Rt+24]=Mt&&(ct.right-Ht[0])/-Mt,Ut[Rt+28]=Lt&&(ct.bottom-Ht[1])/Lt,Ut[Rt+32]=Lt&&(ct.left-Ht[0])/-Lt,Ut[Rt+36]=Mt&&(ct.top-Ht[1])/-Mt,Ut[Rt+40]=Lt&&(ct.right-Ht[0])/-Lt,Ut[Rt+44]=Mt&&(ct.bottom-Ht[1])/-Mt,Ut[Rt+48]=Mt&&(ct.left-Ht[0])/Mt,Ut[Rt+52]=Lt&&(ct.top-Ht[1])/-Lt,Ut[Rt+56]=Mt&&(ct.right-Ht[0])/Mt,Ut[Rt+60]=Lt&&(ct.bottom-Ht[1])/-Lt}const Dt=1+Math.min(Math.abs(Lt),Math.abs(Mt));at.paddingLeft=pt(Ut,32,16)/Dt,at.paddingTop=pt(Ut,48,16)/Dt,at.paddingRight=pt(Ut,0,16)/Dt,at.paddingBottom=pt(Ut,16,16)/Dt,et._textDivProperties.set(rt,at)}}function b(et,g,_e){const it=_e.map(function(rt,at){return{x1:rt.left,y1:rt.top,x2:rt.right,y2:rt.bottom,index:at,x1New:void 0,x2New:void 0}});lt(et,it);const gt=new Array(_e.length);for(const rt of it){const at=rt.index;gt[at]={left:rt.x1New,top:0,right:rt.x2New,bottom:0}}_e.map(function(rt,at){const ct=gt[at],St=it[at];St.x1=rt.top,St.y1=et-ct.right,St.x2=rt.bottom,St.y2=et-ct.left,St.index=at,St.x1New=void 0,St.x2New=void 0}),lt(g,it);for(const rt of it){const at=rt.index;gt[at].top=rt.x1New,gt[at].bottom=rt.x2New}return gt}function lt(et,g){g.sort(function(gt,rt){return gt.x1-rt.x1||gt.index-rt.index});const it=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const gt of g){let rt=0;for(;rt<it.length&&it[rt].end<=gt.y1;)rt++;let at=it.length-1;for(;at>=0&&it[at].start>=gt.y2;)at--;let ct,St,wt,Lt,Mt=-1/0;for(wt=rt;wt<=at;wt++){ct=it[wt],St=ct.boundary;let Dt;St.x2>gt.x1?Dt=St.index>gt.index?St.x1New:gt.x1:St.x2New===void 0?Dt=(St.x2+gt.x1)/2:Dt=St.x2New,Dt>Mt&&(Mt=Dt)}for(gt.x1New=Mt,wt=rt;wt<=at;wt++)ct=it[wt],St=ct.boundary,St.x2New===void 0?St.x2>gt.x1?St.index>gt.index&&(St.x2New=St.x2):St.x2New=Mt:St.x2New>Mt&&(St.x2New=Math.max(Mt,St.x2));const zt=[];let Ut=null;for(wt=rt;wt<=at;wt++){ct=it[wt],St=ct.boundary;const Dt=St.x2>gt.x2?St:gt;Ut===Dt?zt.at(-1).end=ct.end:(zt.push({start:ct.start,end:ct.end,boundary:Dt}),Ut=Dt)}for(it[rt].start<gt.y1&&(zt[0].start=gt.y1,zt.unshift({start:it[rt].start,end:gt.y1,boundary:it[rt].boundary})),gt.y2<it[at].end&&(zt.at(-1).end=gt.y2,zt.push({start:gt.y2,end:it[at].end,boundary:it[at].boundary})),wt=rt;wt<=at;wt++){if(ct=it[wt],St=ct.boundary,St.x2New!==void 0)continue;let Dt=!1;for(Lt=rt-1;!Dt&&Lt>=0&&it[Lt].start>=St.y1;Lt--)Dt=it[Lt].boundary===St;for(Lt=at+1;!Dt&&Lt<it.length&&it[Lt].end<=St.y2;Lt++)Dt=it[Lt].boundary===St;for(Lt=0;!Dt&&Lt<zt.length;Lt++)Dt=zt[Lt].boundary===St;Dt||(St.x2New=Mt)}Array.prototype.splice.apply(it,[rt,at-rt+1,...zt])}for(const gt of it){const rt=gt.boundary;rt.x2New===void 0&&(rt.x2New=Math.max(et,rt.x2))}}class tt{constructor({textContent:g,textContentStream:_e,container:it,viewport:gt,textDivs:rt,textContentItemsStr:at,enhanceTextSelection:ct}){var St;ct&&(0,c.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=g,this._textContentStream=_e,this._container=it,this._document=it.ownerDocument,this._viewport=gt,this._textDivs=rt||[],this._textContentItemsStr=at||[],this._enhanceTextSelection=!!ct,this._fontInspectorEnabled=!!((St=globalThis.FontInspector)!=null&&St.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,a.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new a.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(g,_e){for(let it=0,gt=g.length;it<gt;it++){if(g[it].str===void 0){if(g[it].type==="beginMarkedContentProps"||g[it].type==="beginMarkedContent"){const rt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),g[it].id!==null&&this._container.setAttribute("id",`${g[it].id}`),rt.append(this._container)}else g[it].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(g[it].str),ft(this,g[it],_e,this._layoutTextCtx)}}_layoutText(g){const _e=this._textDivProperties.get(g);let it="";if(_e.canvasWidth!==0&&_e.hasText){const{fontFamily:gt}=g.style,{fontSize:rt}=_e;(rt!==this._layoutTextLastFontSize||gt!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${rt*this._devicePixelRatio}px ${gt}`,this._layoutTextLastFontSize=rt,this._layoutTextLastFontFamily=gt);const{width:at}=this._layoutTextCtx.measureText(g.textContent);if(at>0){const ct=this._devicePixelRatio*_e.canvasWidth/at;this._enhanceTextSelection&&(_e.scale=ct),it=`scaleX(${ct})`}}if(_e.angle!==0&&(it=`rotate(${_e.angle}deg) ${it}`),it.length>0&&(this._enhanceTextSelection&&(_e.originalTransform=it),g.style.transform=it),_e.hasText&&this._container.append(g),_e.hasEOL){const gt=document.createElement("br");gt.setAttribute("role","presentation"),this._container.append(gt)}}_render(g=0){const _e=(0,a.createPromiseCapability)();let it=Object.create(null);const gt=this._document.createElement("canvas");if(gt.height=gt.width=_,this._layoutTextCtx=gt.getContext("2d",{alpha:!1}),this._textContent){const rt=this._textContent.items,at=this._textContent.styles;this._processItems(rt,at),_e.resolve()}else if(this._textContentStream){const rt=()=>{this._reader.read().then(({value:at,done:ct})=>{if(ct){_e.resolve();return}Object.assign(it,at.styles),this._processItems(at.items,it),rt()},_e.reject)};this._reader=this._textContentStream.getReader(),rt()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');_e.promise.then(()=>{it=null,g?this._renderTimer=setTimeout(()=>{ht(this),this._renderTimer=null},g):ht(this)},this._capability.reject)}expandTextDivs(g=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(ot(this),this._bounds=null);const _e=[],it=[];for(let gt=0,rt=this._textDivs.length;gt<rt;gt++){const at=this._textDivs[gt],ct=this._textDivProperties.get(at);ct.hasText&&(g?(_e.length=0,it.length=0,ct.originalTransform&&_e.push(ct.originalTransform),ct.paddingTop>0?(it.push(`${ct.paddingTop}px`),_e.push(`translateY(${-ct.paddingTop}px)`)):it.push(0),ct.paddingRight>0?it.push(`${ct.paddingRight/ct.scale}px`):it.push(0),ct.paddingBottom>0?it.push(`${ct.paddingBottom}px`):it.push(0),ct.paddingLeft>0?(it.push(`${ct.paddingLeft/ct.scale}px`),_e.push(`translateX(${-ct.paddingLeft/ct.scale}px)`)):it.push(0),at.style.padding=it.join(" "),_e.length&&(at.style.transform=_e.join(" "))):(at.style.padding=null,at.style.transform=ct.originalTransform))}}}s.TextLayerRenderTask=tt;function st(et){const g=new tt({textContent:et.textContent,textContentStream:et.textContentStream,container:et.container,viewport:et.viewport,textDivs:et.textDivs,textContentItemsStr:et.textContentItemsStr,enhanceTextSelection:et.enhanceTextSelection});return g._render(et.timeout),g}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SVGGraphics=void 0;var a=o(8),c=o(1),d=o(3);let _=class{constructor(){(0,c.unreachable)("Not implemented: SVGGraphics")}};s.SVGGraphics=_;{let st=function(rt){let at=[];const ct=[];for(const St of rt){if(St.fn==="save"){at.push({fnId:92,fn:"group",items:[]}),ct.push(at),at=at.at(-1).items;continue}St.fn==="restore"?at=ct.pop():at.push(St)}return at},et=function(rt){if(Number.isInteger(rt))return rt.toString();const at=rt.toFixed(10);let ct=at.length-1;if(at[ct]!=="0")return at;do ct--;while(at[ct]==="0");return at.substring(0,at[ct]==="."?ct:ct+1)},g=function(rt){if(rt[4]===0&&rt[5]===0){if(rt[1]===0&&rt[2]===0)return rt[0]===1&&rt[3]===1?"":`scale(${et(rt[0])} ${et(rt[3])})`;if(rt[0]===rt[3]&&rt[1]===-rt[2]){const at=Math.acos(rt[0])*180/Math.PI;return`rotate(${et(at)})`}}else if(rt[0]===1&&rt[1]===0&&rt[2]===0&&rt[3]===1)return`translate(${et(rt[4])} ${et(rt[5])})`;return`matrix(${et(rt[0])} ${et(rt[1])} ${et(rt[2])} ${et(rt[3])} ${et(rt[4])} ${et(rt[5])})`};var j=st,$=et,nt=g;const dt={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},ft="http://www.w3.org/XML/1998/namespace",ht="http://www.w3.org/1999/xlink",pt=["butt","round","square"],ot=["miter","round","bevel"],b=function(rt,at="",ct=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!ct)return URL.createObjectURL(new Blob([rt],{type:at}));const St="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let wt=`data:${at};base64,`;for(let Lt=0,Mt=rt.length;Lt<Mt;Lt+=3){const zt=rt[Lt]&255,Ut=rt[Lt+1]&255,Dt=rt[Lt+2]&255,Rt=zt>>2,Bt=(zt&3)<<4|Ut>>4,Ht=Lt+1<Mt?(Ut&15)<<2|Dt>>6:64,qt=Lt+2<Mt?Dt&63:64;wt+=St[Rt]+St[Bt]+St[Ht]+St[qt]}return wt},lt=function(){const rt=new Uint8Array([137,80,78,71,13,10,26,10]),at=12,ct=new Int32Array(256);for(let Dt=0;Dt<256;Dt++){let Rt=Dt;for(let Bt=0;Bt<8;Bt++)Rt&1?Rt=3988292384^Rt>>1&2147483647:Rt=Rt>>1&2147483647;ct[Dt]=Rt}function St(Dt,Rt,Bt){let Ht=-1;for(let qt=Rt;qt<Bt;qt++){const Ct=(Ht^Dt[qt])&255,yt=ct[Ct];Ht=Ht>>>8^yt}return Ht^-1}function wt(Dt,Rt,Bt,Ht){let qt=Ht;const Ct=Rt.length;Bt[qt]=Ct>>24&255,Bt[qt+1]=Ct>>16&255,Bt[qt+2]=Ct>>8&255,Bt[qt+3]=Ct&255,qt+=4,Bt[qt]=Dt.charCodeAt(0)&255,Bt[qt+1]=Dt.charCodeAt(1)&255,Bt[qt+2]=Dt.charCodeAt(2)&255,Bt[qt+3]=Dt.charCodeAt(3)&255,qt+=4,Bt.set(Rt,qt),qt+=Rt.length;const yt=St(Bt,Ht+4,qt);Bt[qt]=yt>>24&255,Bt[qt+1]=yt>>16&255,Bt[qt+2]=yt>>8&255,Bt[qt+3]=yt&255}function Lt(Dt,Rt,Bt){let Ht=1,qt=0;for(let Ct=Rt;Ct<Bt;++Ct)Ht=(Ht+(Dt[Ct]&255))%65521,qt=(qt+Ht)%65521;return qt<<16|Ht}function Mt(Dt){if(!d.isNodeJS)return zt(Dt);try{let Rt;parseInt(process.versions.node)>=8?Rt=Dt:Rt=Buffer.from(Dt);const Bt=require$$5.deflateSync(Rt,{level:9});return Bt instanceof Uint8Array?Bt:new Uint8Array(Bt)}catch(Rt){(0,c.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Rt)}return zt(Dt)}function zt(Dt){let Rt=Dt.length;const Bt=65535,Ht=Math.ceil(Rt/Bt),qt=new Uint8Array(2+Rt+Ht*5+4);let Ct=0;qt[Ct++]=120,qt[Ct++]=156;let yt=0;for(;Rt>Bt;)qt[Ct++]=0,qt[Ct++]=255,qt[Ct++]=255,qt[Ct++]=0,qt[Ct++]=0,qt.set(Dt.subarray(yt,yt+Bt),Ct),Ct+=Bt,yt+=Bt,Rt-=Bt;qt[Ct++]=1,qt[Ct++]=Rt&255,qt[Ct++]=Rt>>8&255,qt[Ct++]=~Rt&65535&255,qt[Ct++]=(~Rt&65535)>>8&255,qt.set(Dt.subarray(yt),Ct),Ct+=Dt.length-yt;const mt=Lt(Dt,0,Dt.length);return qt[Ct++]=mt>>24&255,qt[Ct++]=mt>>16&255,qt[Ct++]=mt>>8&255,qt[Ct++]=mt&255,qt}function Ut(Dt,Rt,Bt,Ht){const qt=Dt.width,Ct=Dt.height;let yt,mt,xt;const Tt=Dt.data;switch(Rt){case c.ImageKind.GRAYSCALE_1BPP:mt=0,yt=1,xt=qt+7>>3;break;case c.ImageKind.RGB_24BPP:mt=2,yt=8,xt=qt*3;break;case c.ImageKind.RGBA_32BPP:mt=6,yt=8,xt=qt*4;break;default:throw new Error("invalid format")}const kt=new Uint8Array((1+xt)*Ct);let Ft=0,jt=0;for(let At=0;At<Ct;++At)kt[Ft++]=0,kt.set(Tt.subarray(jt,jt+xt),Ft),jt+=xt,Ft+=xt;if(Rt===c.ImageKind.GRAYSCALE_1BPP&&Ht){Ft=0;for(let At=0;At<Ct;At++){Ft++;for(let Ot=0;Ot<xt;Ot++)kt[Ft++]^=255}}const $t=new Uint8Array([qt>>24&255,qt>>16&255,qt>>8&255,qt&255,Ct>>24&255,Ct>>16&255,Ct>>8&255,Ct&255,yt,mt,0,0,0]),ut=Mt(kt),vt=rt.length+at*3+$t.length+ut.length,_t=new Uint8Array(vt);let Et=0;return _t.set(rt,Et),Et+=rt.length,wt("IHDR",$t,_t,Et),Et+=at+$t.length,wt("IDATA",ut,_t,Et),Et+=at+ut.length,wt("IEND",new Uint8Array(0),_t,Et),b(_t,"image/png",Bt)}return function(Rt,Bt,Ht){const qt=Rt.kind===void 0?c.ImageKind.GRAYSCALE_1BPP:Rt.kind;return Ut(Rt,qt,Bt,Ht)}}();class tt{constructor(){this.fontSizeScale=1,this.fontWeight=dt.fontWeight,this.fontSize=0,this.textMatrix=c.IDENTITY_MATRIX,this.fontMatrix=c.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=c.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=dt.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(at,ct){this.x=at,this.y=ct}}let _e=0,it=0,gt=0;s.SVGGraphics=_=class{constructor(rt,at,ct=!1){(0,a.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new a.DOMSVGFactory,this.current=new tt,this.transformMatrix=c.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=rt,this.objs=at,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!ct,this._operatorIdMapping=[];for(const St in c.OPS)this._operatorIdMapping[c.OPS[St]]=St}save(){this.transformStack.push(this.transformMatrix);const rt=this.current;this.extraStack.push(rt),this.current=rt.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(rt){this.save(),this.executeOpTree(rt),this.restore()}loadDependencies(rt){const at=rt.fnArray,ct=rt.argsArray;for(let St=0,wt=at.length;St<wt;St++)if(at[St]===c.OPS.dependency)for(const Lt of ct[St]){const Mt=Lt.startsWith("g_")?this.commonObjs:this.objs,zt=new Promise(Ut=>{Mt.get(Lt,Ut)});this.current.dependencies.push(zt)}return Promise.all(this.current.dependencies)}transform(rt,at,ct,St,wt,Lt){const Mt=[rt,at,ct,St,wt,Lt];this.transformMatrix=c.Util.transform(this.transformMatrix,Mt),this.tgrp=null}getSVG(rt,at){this.viewport=at;const ct=this._initialize(at);return this.loadDependencies(rt).then(()=>(this.transformMatrix=c.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(rt)),ct))}convertOpList(rt){const at=this._operatorIdMapping,ct=rt.argsArray,St=rt.fnArray,wt=[];for(let Lt=0,Mt=St.length;Lt<Mt;Lt++){const zt=St[Lt];wt.push({fnId:zt,fn:at[zt],args:ct[Lt]})}return st(wt)}executeOpTree(rt){for(const at of rt){const ct=at.fn,St=at.fnId,wt=at.args;switch(St|0){case c.OPS.beginText:this.beginText();break;case c.OPS.dependency:break;case c.OPS.setLeading:this.setLeading(wt);break;case c.OPS.setLeadingMoveText:this.setLeadingMoveText(wt[0],wt[1]);break;case c.OPS.setFont:this.setFont(wt);break;case c.OPS.showText:this.showText(wt[0]);break;case c.OPS.showSpacedText:this.showText(wt[0]);break;case c.OPS.endText:this.endText();break;case c.OPS.moveText:this.moveText(wt[0],wt[1]);break;case c.OPS.setCharSpacing:this.setCharSpacing(wt[0]);break;case c.OPS.setWordSpacing:this.setWordSpacing(wt[0]);break;case c.OPS.setHScale:this.setHScale(wt[0]);break;case c.OPS.setTextMatrix:this.setTextMatrix(wt[0],wt[1],wt[2],wt[3],wt[4],wt[5]);break;case c.OPS.setTextRise:this.setTextRise(wt[0]);break;case c.OPS.setTextRenderingMode:this.setTextRenderingMode(wt[0]);break;case c.OPS.setLineWidth:this.setLineWidth(wt[0]);break;case c.OPS.setLineJoin:this.setLineJoin(wt[0]);break;case c.OPS.setLineCap:this.setLineCap(wt[0]);break;case c.OPS.setMiterLimit:this.setMiterLimit(wt[0]);break;case c.OPS.setFillRGBColor:this.setFillRGBColor(wt[0],wt[1],wt[2]);break;case c.OPS.setStrokeRGBColor:this.setStrokeRGBColor(wt[0],wt[1],wt[2]);break;case c.OPS.setStrokeColorN:this.setStrokeColorN(wt);break;case c.OPS.setFillColorN:this.setFillColorN(wt);break;case c.OPS.shadingFill:this.shadingFill(wt[0]);break;case c.OPS.setDash:this.setDash(wt[0],wt[1]);break;case c.OPS.setRenderingIntent:this.setRenderingIntent(wt[0]);break;case c.OPS.setFlatness:this.setFlatness(wt[0]);break;case c.OPS.setGState:this.setGState(wt[0]);break;case c.OPS.fill:this.fill();break;case c.OPS.eoFill:this.eoFill();break;case c.OPS.stroke:this.stroke();break;case c.OPS.fillStroke:this.fillStroke();break;case c.OPS.eoFillStroke:this.eoFillStroke();break;case c.OPS.clip:this.clip("nonzero");break;case c.OPS.eoClip:this.clip("evenodd");break;case c.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case c.OPS.paintImageXObject:this.paintImageXObject(wt[0]);break;case c.OPS.paintInlineImageXObject:this.paintInlineImageXObject(wt[0]);break;case c.OPS.paintImageMaskXObject:this.paintImageMaskXObject(wt[0]);break;case c.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(wt[0],wt[1]);break;case c.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case c.OPS.closePath:this.closePath();break;case c.OPS.closeStroke:this.closeStroke();break;case c.OPS.closeFillStroke:this.closeFillStroke();break;case c.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case c.OPS.nextLine:this.nextLine();break;case c.OPS.transform:this.transform(wt[0],wt[1],wt[2],wt[3],wt[4],wt[5]);break;case c.OPS.constructPath:this.constructPath(wt[0],wt[1]);break;case c.OPS.endPath:this.endPath();break;case 92:this.group(at.items);break;default:(0,c.warn)(`Unimplemented operator ${ct}`);break}}}setWordSpacing(rt){this.current.wordSpacing=rt}setCharSpacing(rt){this.current.charSpacing=rt}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(rt,at,ct,St,wt,Lt){const Mt=this.current;Mt.textMatrix=Mt.lineMatrix=[rt,at,ct,St,wt,Lt],Mt.textMatrixScale=Math.hypot(rt,at),Mt.x=Mt.lineX=0,Mt.y=Mt.lineY=0,Mt.xcoords=[],Mt.ycoords=[],Mt.tspan=this.svgFactory.createElement("svg:tspan"),Mt.tspan.setAttributeNS(null,"font-family",Mt.fontFamily),Mt.tspan.setAttributeNS(null,"font-size",`${et(Mt.fontSize)}px`),Mt.tspan.setAttributeNS(null,"y",et(-Mt.y)),Mt.txtElement=this.svgFactory.createElement("svg:text"),Mt.txtElement.append(Mt.tspan)}beginText(){const rt=this.current;rt.x=rt.lineX=0,rt.y=rt.lineY=0,rt.textMatrix=c.IDENTITY_MATRIX,rt.lineMatrix=c.IDENTITY_MATRIX,rt.textMatrixScale=1,rt.tspan=this.svgFactory.createElement("svg:tspan"),rt.txtElement=this.svgFactory.createElement("svg:text"),rt.txtgrp=this.svgFactory.createElement("svg:g"),rt.xcoords=[],rt.ycoords=[]}moveText(rt,at){const ct=this.current;ct.x=ct.lineX+=rt,ct.y=ct.lineY+=at,ct.xcoords=[],ct.ycoords=[],ct.tspan=this.svgFactory.createElement("svg:tspan"),ct.tspan.setAttributeNS(null,"font-family",ct.fontFamily),ct.tspan.setAttributeNS(null,"font-size",`${et(ct.fontSize)}px`),ct.tspan.setAttributeNS(null,"y",et(-ct.y))}showText(rt){const at=this.current,ct=at.font,St=at.fontSize;if(St===0)return;const wt=at.fontSizeScale,Lt=at.charSpacing,Mt=at.wordSpacing,zt=at.fontDirection,Ut=at.textHScale*zt,Dt=ct.vertical,Rt=Dt?1:-1,Bt=ct.defaultVMetrics,Ht=St*at.fontMatrix[0];let qt=0;for(const mt of rt){if(mt===null){qt+=zt*Mt;continue}else if(typeof mt=="number"){qt+=Rt*mt*St/1e3;continue}const xt=(mt.isSpace?Mt:0)+Lt,Tt=mt.fontChar;let kt,Ft,jt=mt.width;if(Dt){let ut;const vt=mt.vmetric||Bt;ut=mt.vmetric?vt[1]:jt*.5,ut=-ut*Ht;const _t=vt[2]*Ht;jt=vt?-vt[0]:jt,kt=ut/wt,Ft=(qt+_t)/wt}else kt=qt/wt,Ft=0;(mt.isInFont||ct.missingFile)&&(at.xcoords.push(at.x+kt),Dt&&at.ycoords.push(-at.y+Ft),at.tspan.textContent+=Tt);let $t;Dt?$t=jt*Ht-xt*zt:$t=jt*Ht+xt*zt,qt+=$t}at.tspan.setAttributeNS(null,"x",at.xcoords.map(et).join(" ")),Dt?at.tspan.setAttributeNS(null,"y",at.ycoords.map(et).join(" ")):at.tspan.setAttributeNS(null,"y",et(-at.y)),Dt?at.y-=qt:at.x+=qt*Ut,at.tspan.setAttributeNS(null,"font-family",at.fontFamily),at.tspan.setAttributeNS(null,"font-size",`${et(at.fontSize)}px`),at.fontStyle!==dt.fontStyle&&at.tspan.setAttributeNS(null,"font-style",at.fontStyle),at.fontWeight!==dt.fontWeight&&at.tspan.setAttributeNS(null,"font-weight",at.fontWeight);const Ct=at.textRenderingMode&c.TextRenderingMode.FILL_STROKE_MASK;if(Ct===c.TextRenderingMode.FILL||Ct===c.TextRenderingMode.FILL_STROKE?(at.fillColor!==dt.fillColor&&at.tspan.setAttributeNS(null,"fill",at.fillColor),at.fillAlpha<1&&at.tspan.setAttributeNS(null,"fill-opacity",at.fillAlpha)):at.textRenderingMode===c.TextRenderingMode.ADD_TO_PATH?at.tspan.setAttributeNS(null,"fill","transparent"):at.tspan.setAttributeNS(null,"fill","none"),Ct===c.TextRenderingMode.STROKE||Ct===c.TextRenderingMode.FILL_STROKE){const mt=1/(at.textMatrixScale||1);this._setStrokeAttributes(at.tspan,mt)}let yt=at.textMatrix;at.textRise!==0&&(yt=yt.slice(),yt[5]+=at.textRise),at.txtElement.setAttributeNS(null,"transform",`${g(yt)} scale(${et(Ut)}, -1)`),at.txtElement.setAttributeNS(ft,"xml:space","preserve"),at.txtElement.append(at.tspan),at.txtgrp.append(at.txtElement),this._ensureTransformGroup().append(at.txtElement)}setLeadingMoveText(rt,at){this.setLeading(-at),this.moveText(rt,at)}addFontStyle(rt){if(!rt.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const at=b(rt.data,rt.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${rt.loadedName}"; src: url(${at}); }
`}setFont(rt){const at=this.current,ct=this.commonObjs.get(rt[0]);let St=rt[1];at.font=ct,this.embedFonts&&!ct.missingFile&&!this.embeddedFonts[ct.loadedName]&&(this.addFontStyle(ct),this.embeddedFonts[ct.loadedName]=ct),at.fontMatrix=ct.fontMatrix||c.FONT_IDENTITY_MATRIX;let wt="normal";ct.black?wt="900":ct.bold&&(wt="bold");const Lt=ct.italic?"italic":"normal";St<0?(St=-St,at.fontDirection=-1):at.fontDirection=1,at.fontSize=St,at.fontFamily=ct.loadedName,at.fontWeight=wt,at.fontStyle=Lt,at.tspan=this.svgFactory.createElement("svg:tspan"),at.tspan.setAttributeNS(null,"y",et(-at.y)),at.xcoords=[],at.ycoords=[]}endText(){var at;const rt=this.current;rt.textRenderingMode&c.TextRenderingMode.ADD_TO_PATH_FLAG&&((at=rt.txtElement)!=null&&at.hasChildNodes())&&(rt.element=rt.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(rt){rt>0&&(this.current.lineWidth=rt)}setLineCap(rt){this.current.lineCap=pt[rt]}setLineJoin(rt){this.current.lineJoin=ot[rt]}setMiterLimit(rt){this.current.miterLimit=rt}setStrokeAlpha(rt){this.current.strokeAlpha=rt}setStrokeRGBColor(rt,at,ct){this.current.strokeColor=c.Util.makeHexColor(rt,at,ct)}setFillAlpha(rt){this.current.fillAlpha=rt}setFillRGBColor(rt,at,ct){this.current.fillColor=c.Util.makeHexColor(rt,at,ct),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(rt){this.current.strokeColor=this._makeColorN_Pattern(rt)}setFillColorN(rt){this.current.fillColor=this._makeColorN_Pattern(rt)}shadingFill(rt){const at=this.viewport.width,ct=this.viewport.height,St=c.Util.inverseTransform(this.transformMatrix),wt=c.Util.applyTransform([0,0],St),Lt=c.Util.applyTransform([0,ct],St),Mt=c.Util.applyTransform([at,0],St),zt=c.Util.applyTransform([at,ct],St),Ut=Math.min(wt[0],Lt[0],Mt[0],zt[0]),Dt=Math.min(wt[1],Lt[1],Mt[1],zt[1]),Rt=Math.max(wt[0],Lt[0],Mt[0],zt[0]),Bt=Math.max(wt[1],Lt[1],Mt[1],zt[1]),Ht=this.svgFactory.createElement("svg:rect");Ht.setAttributeNS(null,"x",Ut),Ht.setAttributeNS(null,"y",Dt),Ht.setAttributeNS(null,"width",Rt-Ut),Ht.setAttributeNS(null,"height",Bt-Dt),Ht.setAttributeNS(null,"fill",this._makeShadingPattern(rt)),this.current.fillAlpha<1&&Ht.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Ht)}_makeColorN_Pattern(rt){return rt[0]==="TilingPattern"?this._makeTilingPattern(rt):this._makeShadingPattern(rt)}_makeTilingPattern(rt){const at=rt[1],ct=rt[2],St=rt[3]||c.IDENTITY_MATRIX,[wt,Lt,Mt,zt]=rt[4],Ut=rt[5],Dt=rt[6],Rt=rt[7],Bt=`shading${gt++}`,[Ht,qt,Ct,yt]=c.Util.normalizeRect([...c.Util.applyTransform([wt,Lt],St),...c.Util.applyTransform([Mt,zt],St)]),[mt,xt]=c.Util.singularValueDecompose2dScale(St),Tt=Ut*mt,kt=Dt*xt,Ft=this.svgFactory.createElement("svg:pattern");Ft.setAttributeNS(null,"id",Bt),Ft.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Ft.setAttributeNS(null,"width",Tt),Ft.setAttributeNS(null,"height",kt),Ft.setAttributeNS(null,"x",`${Ht}`),Ft.setAttributeNS(null,"y",`${qt}`);const jt=this.svg,$t=this.transformMatrix,ut=this.current.fillColor,vt=this.current.strokeColor,_t=this.svgFactory.create(Ct-Ht,yt-qt);if(this.svg=_t,this.transformMatrix=St,Rt===2){const Et=c.Util.makeHexColor(...at);this.current.fillColor=Et,this.current.strokeColor=Et}return this.executeOpTree(this.convertOpList(ct)),this.svg=jt,this.transformMatrix=$t,this.current.fillColor=ut,this.current.strokeColor=vt,Ft.append(_t.childNodes[0]),this.defs.append(Ft),`url(#${Bt})`}_makeShadingPattern(rt){switch(typeof rt=="string"&&(rt=this.objs.get(rt)),rt[0]){case"RadialAxial":const at=`shading${gt++}`,ct=rt[3];let St;switch(rt[1]){case"axial":const wt=rt[4],Lt=rt[5];St=this.svgFactory.createElement("svg:linearGradient"),St.setAttributeNS(null,"id",at),St.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),St.setAttributeNS(null,"x1",wt[0]),St.setAttributeNS(null,"y1",wt[1]),St.setAttributeNS(null,"x2",Lt[0]),St.setAttributeNS(null,"y2",Lt[1]);break;case"radial":const Mt=rt[4],zt=rt[5],Ut=rt[6],Dt=rt[7];St=this.svgFactory.createElement("svg:radialGradient"),St.setAttributeNS(null,"id",at),St.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),St.setAttributeNS(null,"cx",zt[0]),St.setAttributeNS(null,"cy",zt[1]),St.setAttributeNS(null,"r",Dt),St.setAttributeNS(null,"fx",Mt[0]),St.setAttributeNS(null,"fy",Mt[1]),St.setAttributeNS(null,"fr",Ut);break;default:throw new Error(`Unknown RadialAxial type: ${rt[1]}`)}for(const wt of ct){const Lt=this.svgFactory.createElement("svg:stop");Lt.setAttributeNS(null,"offset",wt[0]),Lt.setAttributeNS(null,"stop-color",wt[1]),St.append(Lt)}return this.defs.append(St),`url(#${at})`;case"Mesh":return(0,c.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${rt[0]}`)}}setDash(rt,at){this.current.dashArray=rt,this.current.dashPhase=at}constructPath(rt,at){const ct=this.current;let St=ct.x,wt=ct.y,Lt=[],Mt=0;for(const zt of rt)switch(zt|0){case c.OPS.rectangle:St=at[Mt++],wt=at[Mt++];const Ut=at[Mt++],Dt=at[Mt++],Rt=St+Ut,Bt=wt+Dt;Lt.push("M",et(St),et(wt),"L",et(Rt),et(wt),"L",et(Rt),et(Bt),"L",et(St),et(Bt),"Z");break;case c.OPS.moveTo:St=at[Mt++],wt=at[Mt++],Lt.push("M",et(St),et(wt));break;case c.OPS.lineTo:St=at[Mt++],wt=at[Mt++],Lt.push("L",et(St),et(wt));break;case c.OPS.curveTo:St=at[Mt+4],wt=at[Mt+5],Lt.push("C",et(at[Mt]),et(at[Mt+1]),et(at[Mt+2]),et(at[Mt+3]),et(St),et(wt)),Mt+=6;break;case c.OPS.curveTo2:Lt.push("C",et(St),et(wt),et(at[Mt]),et(at[Mt+1]),et(at[Mt+2]),et(at[Mt+3])),St=at[Mt+2],wt=at[Mt+3],Mt+=4;break;case c.OPS.curveTo3:St=at[Mt+2],wt=at[Mt+3],Lt.push("C",et(at[Mt]),et(at[Mt+1]),et(St),et(wt),et(St),et(wt)),Mt+=4;break;case c.OPS.closePath:Lt.push("Z");break}Lt=Lt.join(" "),ct.path&&rt.length>0&&rt[0]!==c.OPS.rectangle&&rt[0]!==c.OPS.moveTo?Lt=ct.path.getAttributeNS(null,"d")+Lt:(ct.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(ct.path)),ct.path.setAttributeNS(null,"d",Lt),ct.path.setAttributeNS(null,"fill","none"),ct.element=ct.path,ct.setCurrentPoint(St,wt)}endPath(){const rt=this.current;if(rt.path=null,!this.pendingClip)return;if(!rt.element){this.pendingClip=null;return}const at=`clippath${_e++}`,ct=this.svgFactory.createElement("svg:clipPath");ct.setAttributeNS(null,"id",at),ct.setAttributeNS(null,"transform",g(this.transformMatrix));const St=rt.element.cloneNode(!0);if(this.pendingClip==="evenodd"?St.setAttributeNS(null,"clip-rule","evenodd"):St.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,ct.append(St),this.defs.append(ct),rt.activeClipUrl){rt.clipGroup=null;for(const wt of this.extraStack)wt.clipGroup=null;ct.setAttributeNS(null,"clip-path",rt.activeClipUrl)}rt.activeClipUrl=`url(#${at})`,this.tgrp=null}clip(rt){this.pendingClip=rt}closePath(){const rt=this.current;if(rt.path){const at=`${rt.path.getAttributeNS(null,"d")}Z`;rt.path.setAttributeNS(null,"d",at)}}setLeading(rt){this.current.leading=-rt}setTextRise(rt){this.current.textRise=rt}setTextRenderingMode(rt){this.current.textRenderingMode=rt}setHScale(rt){this.current.textHScale=rt/100}setRenderingIntent(rt){}setFlatness(rt){}setGState(rt){for(const[at,ct]of rt)switch(at){case"LW":this.setLineWidth(ct);break;case"LC":this.setLineCap(ct);break;case"LJ":this.setLineJoin(ct);break;case"ML":this.setMiterLimit(ct);break;case"D":this.setDash(ct[0],ct[1]);break;case"RI":this.setRenderingIntent(ct);break;case"FL":this.setFlatness(ct);break;case"Font":this.setFont(ct);break;case"CA":this.setStrokeAlpha(ct);break;case"ca":this.setFillAlpha(ct);break;default:(0,c.warn)(`Unimplemented graphic state operator ${at}`);break}}fill(){const rt=this.current;rt.element&&(rt.element.setAttributeNS(null,"fill",rt.fillColor),rt.element.setAttributeNS(null,"fill-opacity",rt.fillAlpha),this.endPath())}stroke(){const rt=this.current;rt.element&&(this._setStrokeAttributes(rt.element),rt.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(rt,at=1){const ct=this.current;let St=ct.dashArray;at!==1&&St.length>0&&(St=St.map(function(wt){return at*wt})),rt.setAttributeNS(null,"stroke",ct.strokeColor),rt.setAttributeNS(null,"stroke-opacity",ct.strokeAlpha),rt.setAttributeNS(null,"stroke-miterlimit",et(ct.miterLimit)),rt.setAttributeNS(null,"stroke-linecap",ct.lineCap),rt.setAttributeNS(null,"stroke-linejoin",ct.lineJoin),rt.setAttributeNS(null,"stroke-width",et(at*ct.lineWidth)+"px"),rt.setAttributeNS(null,"stroke-dasharray",St.map(et).join(" ")),rt.setAttributeNS(null,"stroke-dashoffset",et(at*ct.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const rt=this.svgFactory.createElement("svg:rect");rt.setAttributeNS(null,"x","0"),rt.setAttributeNS(null,"y","0"),rt.setAttributeNS(null,"width","1px"),rt.setAttributeNS(null,"height","1px"),rt.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(rt)}paintImageXObject(rt){const at=rt.startsWith("g_")?this.commonObjs.get(rt):this.objs.get(rt);if(!at){(0,c.warn)(`Dependent image with object ID ${rt} is not ready yet`);return}this.paintInlineImageXObject(at)}paintInlineImageXObject(rt,at){const ct=rt.width,St=rt.height,wt=lt(rt,this.forceDataSchema,!!at),Lt=this.svgFactory.createElement("svg:rect");Lt.setAttributeNS(null,"x","0"),Lt.setAttributeNS(null,"y","0"),Lt.setAttributeNS(null,"width",et(ct)),Lt.setAttributeNS(null,"height",et(St)),this.current.element=Lt,this.clip("nonzero");const Mt=this.svgFactory.createElement("svg:image");Mt.setAttributeNS(ht,"xlink:href",wt),Mt.setAttributeNS(null,"x","0"),Mt.setAttributeNS(null,"y",et(-St)),Mt.setAttributeNS(null,"width",et(ct)+"px"),Mt.setAttributeNS(null,"height",et(St)+"px"),Mt.setAttributeNS(null,"transform",`scale(${et(1/ct)} ${et(-1/St)})`),at?at.append(Mt):this._ensureTransformGroup().append(Mt)}paintImageMaskXObject(rt){const at=this.current,ct=rt.width,St=rt.height,wt=at.fillColor;at.maskId=`mask${it++}`;const Lt=this.svgFactory.createElement("svg:mask");Lt.setAttributeNS(null,"id",at.maskId);const Mt=this.svgFactory.createElement("svg:rect");Mt.setAttributeNS(null,"x","0"),Mt.setAttributeNS(null,"y","0"),Mt.setAttributeNS(null,"width",et(ct)),Mt.setAttributeNS(null,"height",et(St)),Mt.setAttributeNS(null,"fill",wt),Mt.setAttributeNS(null,"mask",`url(#${at.maskId})`),this.defs.append(Lt),this._ensureTransformGroup().append(Mt),this.paintInlineImageXObject(rt,Lt)}paintFormXObjectBegin(rt,at){if(Array.isArray(rt)&&rt.length===6&&this.transform(rt[0],rt[1],rt[2],rt[3],rt[4],rt[5]),at){const ct=at[2]-at[0],St=at[3]-at[1],wt=this.svgFactory.createElement("svg:rect");wt.setAttributeNS(null,"x",at[0]),wt.setAttributeNS(null,"y",at[1]),wt.setAttributeNS(null,"width",et(ct)),wt.setAttributeNS(null,"height",et(St)),this.current.element=wt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(rt){const at=this.svgFactory.create(rt.width,rt.height),ct=this.svgFactory.createElement("svg:defs");at.append(ct),this.defs=ct;const St=this.svgFactory.createElement("svg:g");return St.setAttributeNS(null,"transform",g(rt.transform)),at.append(St),this.svg=St,at}_ensureClipGroup(){if(!this.current.clipGroup){const rt=this.svgFactory.createElement("svg:g");rt.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(rt),this.current.clipGroup=rt}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",g(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNodeStream=void 0;var a=o(1),c=o(33);const d=require$$5,_=require$$5,j=require$$5,$=require$$5,nt=/^file:\/\/\/[a-zA-Z]:\//;function dt(et){const g=$.parse(et);return g.protocol==="file:"||g.host?g:/^[a-z]:[/\\]/i.test(et)?$.parse(`file:///${et}`):(g.host||(g.protocol="file:"),g)}class ft{constructor(g){this.source=g,this.url=dt(g.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&g.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var g;return((g=this._fullRequestReader)==null?void 0:g._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new tt(this):new b(this),this._fullRequestReader}getRangeReader(g,_e){if(_e<=this._progressiveDataLength)return null;const it=this.isFsUrl?new st(this,g,_e):new lt(this,g,_e);return this._rangeRequestReaders.push(it),it}cancelAllRequests(g){this._fullRequestReader&&this._fullRequestReader.cancel(g);for(const _e of this._rangeRequestReaders.slice(0))_e.cancel(g)}}s.PDFNodeStream=ft;class ht{constructor(g){this._url=g.url,this._done=!1,this._storedError=null,this.onProgress=null;const _e=g.source;this._contentLength=_e.length,this._loaded=0,this._filename=null,this._disableRange=_e.disableRange||!1,this._rangeChunkSize=_e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!_e.disableStream,this._isRangeSupported=!_e.disableRange,this._readableStream=null,this._readCapability=(0,a.createPromiseCapability)(),this._headersCapability=(0,a.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const g=this._readableStream.read();return g===null?(this._readCapability=(0,a.createPromiseCapability)(),this.read()):(this._loaded+=g.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(g).buffer,done:!1})}cancel(g){if(!this._readableStream){this._error(g);return}this._readableStream.destroy(g)}_error(g){this._storedError=g,this._readCapability.resolve()}_setReadableStream(g){this._readableStream=g,g.on("readable",()=>{this._readCapability.resolve()}),g.on("end",()=>{g.destroy(),this._done=!0,this._readCapability.resolve()}),g.on("error",_e=>{this._error(_e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new a.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class pt{constructor(g){this._url=g.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,a.createPromiseCapability)();const _e=g.source;this._isStreamingSupported=!_e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const g=this._readableStream.read();return g===null?(this._readCapability=(0,a.createPromiseCapability)(),this.read()):(this._loaded+=g.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(g).buffer,done:!1})}cancel(g){if(!this._readableStream){this._error(g);return}this._readableStream.destroy(g)}_error(g){this._storedError=g,this._readCapability.resolve()}_setReadableStream(g){this._readableStream=g,g.on("readable",()=>{this._readCapability.resolve()}),g.on("end",()=>{g.destroy(),this._done=!0,this._readCapability.resolve()}),g.on("error",_e=>{this._error(_e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function ot(et,g){return{protocol:et.protocol,auth:et.auth,host:et.hostname,port:et.port,path:et.path,method:"GET",headers:g}}class b extends ht{constructor(g){super(g);const _e=it=>{if(it.statusCode===404){const ct=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ct,this._headersCapability.reject(ct);return}this._headersCapability.resolve(),this._setReadableStream(it);const gt=ct=>this._readableStream.headers[ct.toLowerCase()],{allowRangeRequests:rt,suggestedLength:at}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:gt,isHttp:g.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=rt,this._contentLength=at||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(gt)};this._request=null,this._url.protocol==="http:"?this._request=_.request(ot(this._url,g.httpHeaders),_e):this._request=j.request(ot(this._url,g.httpHeaders),_e),this._request.on("error",it=>{this._storedError=it,this._headersCapability.reject(it)}),this._request.end()}}class lt extends pt{constructor(g,_e,it){super(g),this._httpHeaders={};for(const rt in g.httpHeaders){const at=g.httpHeaders[rt];typeof at>"u"||(this._httpHeaders[rt]=at)}this._httpHeaders.Range=`bytes=${_e}-${it-1}`;const gt=rt=>{if(rt.statusCode===404){const at=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=at;return}this._setReadableStream(rt)};this._request=null,this._url.protocol==="http:"?this._request=_.request(ot(this._url,this._httpHeaders),gt):this._request=j.request(ot(this._url,this._httpHeaders),gt),this._request.on("error",rt=>{this._storedError=rt}),this._request.end()}}class tt extends ht{constructor(g){super(g);let _e=decodeURIComponent(this._url.path);nt.test(this._url.href)&&(_e=_e.replace(/^\//,"")),d.lstat(_e,(it,gt)=>{if(it){it.code==="ENOENT"&&(it=new a.MissingPDFException(`Missing PDF "${_e}".`)),this._storedError=it,this._headersCapability.reject(it);return}this._contentLength=gt.size,this._setReadableStream(d.createReadStream(_e)),this._headersCapability.resolve()})}}class st extends pt{constructor(g,_e,it){super(g);let gt=decodeURIComponent(this._url.path);nt.test(this._url.href)&&(gt=gt.replace(/^\//,"")),this._setReadableStream(d.createReadStream(gt,{start:_e,end:it-1}))}}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createResponseStatusError=$,s.extractFilenameFromHeader=j,s.validateRangeRequestCapabilities=_,s.validateResponseStatus=nt;var a=o(1),c=o(34),d=o(8);function _({getResponseHeader:dt,isHttp:ft,rangeChunkSize:ht,disableRange:pt}){const ot={allowRangeRequests:!1,suggestedLength:void 0},b=parseInt(dt("Content-Length"),10);return!Number.isInteger(b)||(ot.suggestedLength=b,b<=2*ht)||pt||!ft||dt("Accept-Ranges")!=="bytes"||(dt("Content-Encoding")||"identity")!=="identity"||(ot.allowRangeRequests=!0),ot}function j(dt){const ft=dt("Content-Disposition");if(ft){let ht=(0,c.getFilenameFromContentDispositionHeader)(ft);if(ht.includes("%"))try{ht=decodeURIComponent(ht)}catch{}if((0,d.isPdfFile)(ht))return ht}return null}function $(dt,ft){return dt===404||dt===0&&ft.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+ft+'".'):new a.UnexpectedResponseException(`Unexpected server response (${dt}) while retrieving PDF "${ft}".`,dt)}function nt(dt){return dt===200||dt===206}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFilenameFromContentDispositionHeader=c;var a=o(1);function c(d){let _=!0,j=$("filename\\*","i").exec(d);if(j){j=j[1];let b=ht(j);return b=unescape(b),b=pt(b),b=ot(b),dt(b)}if(j=ft(d),j){const b=ot(j);return dt(b)}if(j=$("filename","i").exec(d),j){j=j[1];let b=ht(j);return b=ot(b),dt(b)}function $(b,lt){return new RegExp("(?:^|;)\\s*"+b+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',lt)}function nt(b,lt){if(b){if(!/^[\x00-\xFF]+$/.test(lt))return lt;try{const tt=new TextDecoder(b,{fatal:!0}),st=(0,a.stringToBytes)(lt);lt=tt.decode(st),_=!1}catch{}}return lt}function dt(b){return _&&/[\x80-\xff]/.test(b)&&(b=nt("utf-8",b),_&&(b=nt("iso-8859-1",b))),b}function ft(b){const lt=[];let tt;const st=$("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(tt=st.exec(b))!==null;){let[,g,_e,it]=tt;if(g=parseInt(g,10),g in lt){if(g===0)break;continue}lt[g]=[_e,it]}const et=[];for(let g=0;g<lt.length&&g in lt;++g){let[_e,it]=lt[g];it=ht(it),_e&&(it=unescape(it),g===0&&(it=pt(it))),et.push(it)}return et.join("")}function ht(b){if(b.startsWith('"')){const lt=b.slice(1).split('\\"');for(let tt=0;tt<lt.length;++tt){const st=lt[tt].indexOf('"');st!==-1&&(lt[tt]=lt[tt].slice(0,st),lt.length=tt+1),lt[tt]=lt[tt].replace(/\\(.)/g,"$1")}b=lt.join('"')}return b}function pt(b){const lt=b.indexOf("'");if(lt===-1)return b;const tt=b.slice(0,lt),et=b.slice(lt+1).replace(/^[^']*'/,"");return nt(tt,et)}function ot(b){return!b.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(b)?b:b.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(lt,tt,st,et){if(st==="q"||st==="Q")return et=et.replace(/_/g," "),et=et.replace(/=([0-9a-fA-F]{2})/g,function(g,_e){return String.fromCharCode(parseInt(_e,16))}),nt(tt,et);try{et=atob(et)}catch{}return nt(tt,et)})}return""}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNetworkStream=void 0;var a=o(1),c=o(33);const d=200,_=206;function j(ht){const pt=ht.response;return typeof pt!="string"?pt:(0,a.stringToBytes)(pt).buffer}class ${constructor(pt,ot={}){this.url=pt,this.isHttp=/^https?:/i.test(pt),this.httpHeaders=this.isHttp&&ot.httpHeaders||Object.create(null),this.withCredentials=ot.withCredentials||!1,this.getXhr=ot.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(pt,ot,b){const lt={begin:pt,end:ot};for(const tt in b)lt[tt]=b[tt];return this.request(lt)}requestFull(pt){return this.request(pt)}request(pt){const ot=this.getXhr(),b=this.currXhrId++,lt=this.pendingRequests[b]={xhr:ot};ot.open("GET",this.url),ot.withCredentials=this.withCredentials;for(const tt in this.httpHeaders){const st=this.httpHeaders[tt];typeof st>"u"||ot.setRequestHeader(tt,st)}return this.isHttp&&"begin"in pt&&"end"in pt?(ot.setRequestHeader("Range",`bytes=${pt.begin}-${pt.end-1}`),lt.expectedStatus=_):lt.expectedStatus=d,ot.responseType="arraybuffer",pt.onError&&(ot.onerror=function(tt){pt.onError(ot.status)}),ot.onreadystatechange=this.onStateChange.bind(this,b),ot.onprogress=this.onProgress.bind(this,b),lt.onHeadersReceived=pt.onHeadersReceived,lt.onDone=pt.onDone,lt.onError=pt.onError,lt.onProgress=pt.onProgress,ot.send(null),b}onProgress(pt,ot){var lt;const b=this.pendingRequests[pt];b&&((lt=b.onProgress)==null||lt.call(b,ot))}onStateChange(pt,ot){var g,_e,it;const b=this.pendingRequests[pt];if(!b)return;const lt=b.xhr;if(lt.readyState>=2&&b.onHeadersReceived&&(b.onHeadersReceived(),delete b.onHeadersReceived),lt.readyState!==4||!(pt in this.pendingRequests))return;if(delete this.pendingRequests[pt],lt.status===0&&this.isHttp){(g=b.onError)==null||g.call(b,lt.status);return}const tt=lt.status||d;if(!(tt===d&&b.expectedStatus===_)&&tt!==b.expectedStatus){(_e=b.onError)==null||_e.call(b,lt.status);return}const et=j(lt);if(tt===_){const gt=lt.getResponseHeader("Content-Range"),rt=/bytes (\d+)-(\d+)\/(\d+)/.exec(gt);b.onDone({begin:parseInt(rt[1],10),chunk:et})}else et?b.onDone({begin:0,chunk:et}):(it=b.onError)==null||it.call(b,lt.status)}getRequestXhr(pt){return this.pendingRequests[pt].xhr}isPendingRequest(pt){return pt in this.pendingRequests}abortRequest(pt){const ot=this.pendingRequests[pt].xhr;delete this.pendingRequests[pt],ot.abort()}}class nt{constructor(pt){this._source=pt,this._manager=new $(pt.url,{httpHeaders:pt.httpHeaders,withCredentials:pt.withCredentials}),this._rangeChunkSize=pt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(pt){const ot=this._rangeRequestReaders.indexOf(pt);ot>=0&&this._rangeRequestReaders.splice(ot,1)}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new dt(this._manager,this._source),this._fullRequestReader}getRangeReader(pt,ot){const b=new ft(this._manager,pt,ot);return b.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(b),b}cancelAllRequests(pt){var ot;(ot=this._fullRequestReader)==null||ot.cancel(pt);for(const b of this._rangeRequestReaders.slice(0))b.cancel(pt)}}s.PDFNetworkStream=nt;class dt{constructor(pt,ot){this._manager=pt;const b={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ot.url,this._fullRequestId=pt.requestFull(b),this._headersReceivedCapability=(0,a.createPromiseCapability)(),this._disableRange=ot.disableRange||!1,this._contentLength=ot.length,this._rangeChunkSize=ot.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const pt=this._fullRequestId,ot=this._manager.getRequestXhr(pt),b=st=>ot.getResponseHeader(st),{allowRangeRequests:lt,suggestedLength:tt}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});lt&&(this._isRangeSupported=!0),this._contentLength=tt||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(b),this._isRangeSupported&&this._manager.abortRequest(pt),this._headersReceivedCapability.resolve()}_onDone(pt){if(pt&&(this._requests.length>0?this._requests.shift().resolve({value:pt.chunk,done:!1}):this._cachedChunks.push(pt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const ot of this._requests)ot.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(pt){this._storedError=(0,c.createResponseStatusError)(pt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const ot of this._requests)ot.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(pt){var ot;(ot=this.onProgress)==null||ot.call(this,{loaded:pt.loaded,total:pt.lengthComputable?pt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const pt=(0,a.createPromiseCapability)();return this._requests.push(pt),pt.promise}cancel(pt){this._done=!0,this._headersReceivedCapability.reject(pt);for(const ot of this._requests)ot.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ft{constructor(pt,ot,b){this._manager=pt;const lt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=pt.url,this._requestId=pt.requestRange(ot,b,lt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var pt;(pt=this.onClosed)==null||pt.call(this,this)}_onDone(pt){const ot=pt.chunk;this._requests.length>0?this._requests.shift().resolve({value:ot,done:!1}):this._queuedChunk=ot,this._done=!0;for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(pt){this._storedError=(0,c.createResponseStatusError)(pt,this._url);for(const ot of this._requests)ot.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(pt){var ot;this.isStreamingSupported||(ot=this.onProgress)==null||ot.call(this,{loaded:pt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const ot=this._queuedChunk;return this._queuedChunk=null,{value:ot,done:!1}}if(this._done)return{value:void 0,done:!0};const pt=(0,a.createPromiseCapability)();return this._requests.push(pt),pt.promise}cancel(pt){this._done=!0;for(const ot of this._requests)ot.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFetchStream=void 0;var a=o(1),c=o(33);function d(dt,ft,ht){return{method:"GET",headers:dt,signal:ht.signal,mode:"cors",credentials:ft?"include":"same-origin",redirect:"follow"}}function _(dt){const ft=new Headers;for(const ht in dt){const pt=dt[ht];typeof pt>"u"||ft.append(ht,pt)}return ft}class j{constructor(ft){this.source=ft,this.isHttp=/^https?:/i.test(ft.url),this.httpHeaders=this.isHttp&&ft.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ft;return((ft=this._fullRequestReader)==null?void 0:ft._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new $(this),this._fullRequestReader}getRangeReader(ft,ht){if(ht<=this._progressiveDataLength)return null;const pt=new nt(this,ft,ht);return this._rangeRequestReaders.push(pt),pt}cancelAllRequests(ft){this._fullRequestReader&&this._fullRequestReader.cancel(ft);for(const ht of this._rangeRequestReaders.slice(0))ht.cancel(ft)}}s.PDFFetchStream=j;class ${constructor(ft){this._stream=ft,this._reader=null,this._loaded=0,this._filename=null;const ht=ft.source;this._withCredentials=ht.withCredentials||!1,this._contentLength=ht.length,this._headersCapability=(0,a.createPromiseCapability)(),this._disableRange=ht.disableRange||!1,this._rangeChunkSize=ht.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!ht.disableStream,this._isRangeSupported=!ht.disableRange,this._headers=_(this._stream.httpHeaders);const pt=ht.url;fetch(pt,d(this._headers,this._withCredentials,this._abortController)).then(ot=>{if(!(0,c.validateResponseStatus)(ot.status))throw(0,c.createResponseStatusError)(ot.status,pt);this._reader=ot.body.getReader(),this._headersCapability.resolve();const b=st=>ot.headers.get(st),{allowRangeRequests:lt,suggestedLength:tt}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=lt,this._contentLength=tt||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(b),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:ft,done:ht}=await this._reader.read();return ht?{value:ft,done:ht}:(this._loaded+=ft.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(ft).buffer,done:!1})}cancel(ft){this._reader&&this._reader.cancel(ft),this._abortController.abort()}}class nt{constructor(ft,ht,pt){this._stream=ft,this._reader=null,this._loaded=0;const ot=ft.source;this._withCredentials=ot.withCredentials||!1,this._readCapability=(0,a.createPromiseCapability)(),this._isStreamingSupported=!ot.disableStream,this._abortController=new AbortController,this._headers=_(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ht}-${pt-1}`);const b=ot.url;fetch(b,d(this._headers,this._withCredentials,this._abortController)).then(lt=>{if(!(0,c.validateResponseStatus)(lt.status))throw(0,c.createResponseStatusError)(lt.status,b);this._readCapability.resolve(),this._reader=lt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:ft,done:ht}=await this._reader.read();return ht?{value:ft,done:ht}:(this._loaded+=ft.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(ft).buffer,done:!1})}cancel(ft){this._reader&&this._reader.cancel(ft),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(i){var s=__webpack_module_cache__[i];if(s!==void 0)return s.exports;var o=__webpack_module_cache__[i]={exports:{}};return __webpack_modules__[i](o,o.exports,__w_pdfjs_require__),o.exports}var __webpack_exports__={};return(()=>{var i=__webpack_exports__;Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"AnnotationEditorLayer",{enumerable:!0,get:function(){return c.AnnotationEditorLayer}}),Object.defineProperty(i,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return s.AnnotationEditorParamsType}}),Object.defineProperty(i,"AnnotationEditorType",{enumerable:!0,get:function(){return s.AnnotationEditorType}}),Object.defineProperty(i,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return d.AnnotationEditorUIManager}}),Object.defineProperty(i,"AnnotationLayer",{enumerable:!0,get:function(){return _.AnnotationLayer}}),Object.defineProperty(i,"AnnotationMode",{enumerable:!0,get:function(){return s.AnnotationMode}}),Object.defineProperty(i,"CMapCompressionType",{enumerable:!0,get:function(){return s.CMapCompressionType}}),Object.defineProperty(i,"GlobalWorkerOptions",{enumerable:!0,get:function(){return j.GlobalWorkerOptions}}),Object.defineProperty(i,"InvalidPDFException",{enumerable:!0,get:function(){return s.InvalidPDFException}}),Object.defineProperty(i,"LoopbackPort",{enumerable:!0,get:function(){return o.LoopbackPort}}),Object.defineProperty(i,"MissingPDFException",{enumerable:!0,get:function(){return s.MissingPDFException}}),Object.defineProperty(i,"OPS",{enumerable:!0,get:function(){return s.OPS}}),Object.defineProperty(i,"PDFDataRangeTransport",{enumerable:!0,get:function(){return o.PDFDataRangeTransport}}),Object.defineProperty(i,"PDFDateString",{enumerable:!0,get:function(){return a.PDFDateString}}),Object.defineProperty(i,"PDFWorker",{enumerable:!0,get:function(){return o.PDFWorker}}),Object.defineProperty(i,"PasswordResponses",{enumerable:!0,get:function(){return s.PasswordResponses}}),Object.defineProperty(i,"PermissionFlag",{enumerable:!0,get:function(){return s.PermissionFlag}}),Object.defineProperty(i,"PixelsPerInch",{enumerable:!0,get:function(){return a.PixelsPerInch}}),Object.defineProperty(i,"RenderingCancelledException",{enumerable:!0,get:function(){return a.RenderingCancelledException}}),Object.defineProperty(i,"SVGGraphics",{enumerable:!0,get:function(){return dt.SVGGraphics}}),Object.defineProperty(i,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return s.UNSUPPORTED_FEATURES}}),Object.defineProperty(i,"UnexpectedResponseException",{enumerable:!0,get:function(){return s.UnexpectedResponseException}}),Object.defineProperty(i,"Util",{enumerable:!0,get:function(){return s.Util}}),Object.defineProperty(i,"VerbosityLevel",{enumerable:!0,get:function(){return s.VerbosityLevel}}),Object.defineProperty(i,"XfaLayer",{enumerable:!0,get:function(){return ft.XfaLayer}}),Object.defineProperty(i,"build",{enumerable:!0,get:function(){return o.build}}),Object.defineProperty(i,"createPromiseCapability",{enumerable:!0,get:function(){return s.createPromiseCapability}}),Object.defineProperty(i,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return s.createValidAbsoluteUrl}}),Object.defineProperty(i,"getDocument",{enumerable:!0,get:function(){return o.getDocument}}),Object.defineProperty(i,"getFilenameFromUrl",{enumerable:!0,get:function(){return a.getFilenameFromUrl}}),Object.defineProperty(i,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return a.getPdfFilenameFromUrl}}),Object.defineProperty(i,"getXfaPageViewport",{enumerable:!0,get:function(){return a.getXfaPageViewport}}),Object.defineProperty(i,"isPdfFile",{enumerable:!0,get:function(){return a.isPdfFile}}),Object.defineProperty(i,"loadScript",{enumerable:!0,get:function(){return a.loadScript}}),Object.defineProperty(i,"renderTextLayer",{enumerable:!0,get:function(){return nt.renderTextLayer}}),Object.defineProperty(i,"shadow",{enumerable:!0,get:function(){return s.shadow}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return o.version}});var s=__w_pdfjs_require__(1),o=__w_pdfjs_require__(4),a=__w_pdfjs_require__(8),c=__w_pdfjs_require__(22),d=__w_pdfjs_require__(7),_=__w_pdfjs_require__(27),j=__w_pdfjs_require__(15),$=__w_pdfjs_require__(3),nt=__w_pdfjs_require__(30),dt=__w_pdfjs_require__(31),ft=__w_pdfjs_require__(29);if($.isNodeJS){const{PDFNodeStream:ht}=__w_pdfjs_require__(32);(0,o.setPDFNetworkStreamFactory)(pt=>new ht(pt))}else{const{PDFNetworkStream:ht}=__w_pdfjs_require__(35),{PDFFetchStream:pt}=__w_pdfjs_require__(36);(0,o.setPDFNetworkStreamFactory)(ot=>(0,a.isValidFetchUrl)(ot.url)?new pt(ot):new ht(ot))}})(),__webpack_exports__})())})(pdf);function _objectWithoutProperties(i,s){if(i==null)return{};var o=_objectWithoutPropertiesLoose$1(i,s),a,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(i);for(c=0;c<d.length;c++)a=d[c],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(o[a]=i[a])}return o}function _typeof(i){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof(i)}function _classCallCheck(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}function _toPrimitive(i,s){if(_typeof(i)!=="object"||i===null)return i;var o=i[Symbol.toPrimitive];if(o!==void 0){var a=o.call(i,s||"default");if(_typeof(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(i)}function _toPropertyKey(i){var s=_toPrimitive(i,"string");return _typeof(s)==="symbol"?s:String(s)}function _defineProperties(i,s){for(var o=0;o<s.length;o++){var a=s[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,_toPropertyKey(a.key),a)}}function _createClass(i,s,o){return s&&_defineProperties(i.prototype,s),o&&_defineProperties(i,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _assertThisInitialized(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _inherits(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),s&&_setPrototypeOf(i,s)}function _possibleConstructorReturn(i,s){if(s&&(_typeof(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(i)}function _getPrototypeOf(i){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(i)}function _defineProperty(i,s,o){return s=_toPropertyKey(s),s in i?Object.defineProperty(i,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[s]=o,i}var clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],focusEvents=["onFocus","onBlur"],formEvents=["onChange","onInput","onInvalid","onReset","onSubmit"],genericEvents=["onError","onLoad"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],uiEvents=["onScroll"],wheelEvents=["onWheel"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],imageEvents=["onLoad","onError"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],allEvents=[].concat(clipboardEvents,compositionEvents,keyboardEvents,focusEvents,formEvents,genericEvents,mouseEvents,pointerEvents,selectionEvents,touchEvents,uiEvents,wheelEvents,mediaEvents,imageEvents,animationEvents,transitionEvents,otherEvents),makeEventProps=function i(s,o){var a={};return allEvents.forEach(function(c){if(c in s){if(!o){a[c]=s[c];return}a[c]=function(d){return s[c](d,o(c))}}}),a};function makeCancellablePromise(i){var s=!1,o=new Promise(function(a,c){i.then(function(){return!s&&a.apply(void 0,arguments)}).catch(function(d){return!s&&c(d)})});return{promise:o,cancel:function(){s=!0}}}function r$2(i){var s,o,a="";if(typeof i=="string"||typeof i=="number")a+=i;else if(typeof i=="object")if(Array.isArray(i))for(s=0;s<i.length;s++)i[s]&&(o=r$2(i[s]))&&(a&&(a+=" "),a+=o);else for(s in i)i[s]&&(a&&(a+=" "),a+=s);return a}function clsx(){for(var i,s,o=0,a="";o<arguments.length;)(i=arguments[o++])&&(s=r$2(i))&&(a&&(a+=" "),a+=s);return a}var isProduction$1=!0,prefix="Invariant failed";function invariant(i,s){if(!i){if(isProduction$1)throw new Error(prefix);var o=typeof s=="function"?s():s,a=o?"".concat(prefix,": ").concat(o):prefix;throw new Error(a)}}var isProduction=!0;function warning(i,s){if(!isProduction){if(i)return;var o="Warning: "+s;typeof console<"u"&&console.warn(o);try{throw Error(o)}catch{}}}const DocumentContext=reactExports.createContext(null);function Message(i){var s=i.children,o=i.type;return React.createElement("div",{className:"react-pdf__message react-pdf__message--".concat(o)},s)}Message.propTypes={children:propTypesExports.node,type:propTypesExports.oneOf(["error","loading","no-data"]).isRequired};var DEFAULT_LINK_REL="noopener noreferrer nofollow",LinkService=function(){function i(){_classCallCheck(this,i),this.externalLinkTarget=null,this.externalLinkRel=null}return _createClass(i,[{key:"setDocument",value:function(o){this.pdfDocument=o}},{key:"setViewer",value:function(o){this.pdfViewer=o}},{key:"setExternalLinkRel",value:function(o){this.externalLinkRel=o}},{key:"setExternalLinkTarget",value:function(o){this.externalLinkTarget=o}},{key:"setHistory",value:function(){}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(o){this.pdfViewer.currentPageNumber=o}},{key:"rotation",get:function(){return 0},set:function(o){}},{key:"goToDestination",value:function(o){var a=this;new Promise(function(c){typeof o=="string"?a.pdfDocument.getDestination(o).then(c):Array.isArray(o)?c(o):o.then(c)}).then(function(c){invariant(Array.isArray(c),'"'.concat(c,'" is not a valid destination array.'));var d=c[0];new Promise(function(_){d instanceof Object?a.pdfDocument.getPageIndex(d).then(function(j){_(j)}).catch(function(){invariant(!1,'"'.concat(d,'" is not a valid page reference.'))}):typeof d=="number"?_(d):invariant(!1,'"'.concat(d,'" is not a valid destination reference.'))}).then(function(_){var j=_+1;invariant(j>=1&&j<=a.pagesCount,'"'.concat(j,'" is not a valid page number.')),a.pdfViewer.scrollPageIntoView({dest:o,pageIndex:_,pageNumber:j})})})}},{key:"navigateTo",value:function(o){this.goToDestination(o)}},{key:"goToPage",value:function(){}},{key:"addLinkAttributes",value:function(o,a,c){o.href=a,o.rel=this.externalLinkRel||DEFAULT_LINK_REL,o.target=c?"_blank":this.externalLinkTarget||""}},{key:"getDestinationHash",value:function(){return"#"}},{key:"getAnchorUrl",value:function(){return"#"}},{key:"setHash",value:function(){}},{key:"executeNamedAction",value:function(){}},{key:"cachePageRef",value:function(){}},{key:"isPageVisible",value:function(){return!0}},{key:"isPageCached",value:function(){return!0}}]),i}(),PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function _arrayWithHoles(i){if(Array.isArray(i))return i}function _iterableToArrayLimit(i,s){var o=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(o!=null){var a,c,d,_,j=[],$=!0,nt=!1;try{if(d=(o=o.call(i)).next,s===0){if(Object(o)!==o)return;$=!1}else for(;!($=(a=d.call(o)).done)&&(j.push(a.value),j.length!==s);$=!0);}catch(dt){nt=!0,c=dt}finally{try{if(!$&&o.return!=null&&(_=o.return(),Object(_)!==_))return}finally{if(nt)throw c}}return j}}function _arrayLikeToArray(i,s){(s==null||s>i.length)&&(s=i.length);for(var o=0,a=new Array(s);o<s;o++)a[o]=i[o];return a}function _unsupportedIterableToArray(i,s){if(i){if(typeof i=="string")return _arrayLikeToArray(i,s);var o=Object.prototype.toString.call(i).slice(8,-1);if(o==="Object"&&i.constructor&&(o=i.constructor.name),o==="Map"||o==="Set")return Array.from(i);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray(i,s)}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray(i,s){return _arrayWithHoles(i)||_iterableToArrayLimit(i,s)||_unsupportedIterableToArray(i,s)||_nonIterableRest()}var isBrowser=typeof window<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(i){return typeof i<"u"}function isProvided(i){return isDefined(i)&&i!==null}function isString(i){return typeof i=="string"}function isArrayBuffer(i){return i instanceof ArrayBuffer}function isBlob(i){return invariant(isBrowser,"isBlob can only be used in a browser environment"),i instanceof Blob}function isFile$1(i){return invariant(isBrowser,"isFile can only be used in a browser environment"),i instanceof File}function isDataURI(i){return isString(i)&&/^data:/.test(i)}function dataURItoByteString(i){invariant(isDataURI(i),"Invalid data URI.");var s=i.split(","),o=_slicedToArray(s,2),a=o[0],c=o[1],d=a.split(";");return d.indexOf("base64")!==-1?atob(c):unescape(c)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}var allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning(!isLocalFileSystem,"Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ".concat(allowFileAccessFromFilesTip))}function displayWorkerWarning(){warning(!isLocalFileSystem,"Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ".concat(allowFileAccessFromFilesTip))}function cancelRunningTask(i){i&&i.cancel&&i.cancel()}function makePageCallback(i,s){return Object.defineProperty(i,"width",{get:function(){return this.view[2]*s},configurable:!0}),Object.defineProperty(i,"height",{get:function(){return this.view[3]*s},configurable:!0}),Object.defineProperty(i,"originalWidth",{get:function(){return this.view[2]},configurable:!0}),Object.defineProperty(i,"originalHeight",{get:function(){return this.view[3]},configurable:!0}),i}function isCancelException(i){return i.name==="RenderingCancelledException"}function loadFromFile(i){return new Promise(function(s,o){var a=new FileReader;return a.onload=function(){return s(new Uint8Array(a.result))},a.onerror=function(c){switch(c.target.error.code){case c.target.error.NOT_FOUND_ERR:return o(new Error("Error while reading a file: File not found."));case c.target.error.NOT_READABLE_ERR:return o(new Error("Error while reading a file: File not readable."));case c.target.error.SECURITY_ERR:return o(new Error("Error while reading a file: Security error."));case c.target.error.ABORT_ERR:return o(new Error("Error while reading a file: Aborted."));default:return o(new Error("Error while reading a file."))}},a.readAsArrayBuffer(i),null})}function _arrayWithoutHoles(i){if(Array.isArray(i))return _arrayLikeToArray(i)}function _iterableToArray(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray(i){return _arrayWithoutHoles(i)||_iterableToArray(i)||_unsupportedIterableToArray(i)||_nonIterableSpread()}var eventProps=function(){var i={};return[].concat(_toConsumableArray(mouseEvents),_toConsumableArray(touchEvents),_toConsumableArray(keyboardEvents)).forEach(function(s){i[s]=propTypesExports.func}),i}(),fileTypes=[propTypesExports.string,propTypesExports.instanceOf(ArrayBuffer),propTypesExports.shape({data:propTypesExports.oneOfType([propTypesExports.object,propTypesExports.string]),httpHeaders:propTypesExports.object,range:propTypesExports.object,url:propTypesExports.string,withCredentials:propTypesExports.bool})];typeof File<"u"&&fileTypes.push(propTypesExports.instanceOf(File));typeof Blob<"u"&&fileTypes.push(propTypesExports.instanceOf(Blob));var isClassName=propTypesExports.oneOfType([propTypesExports.string,propTypesExports.arrayOf(propTypesExports.string)]),isFile=propTypesExports.oneOfType(fileTypes),isLinkService=propTypesExports.instanceOf(LinkService);propTypesExports.oneOf(["_self","_blank","_parent","_top"]);var isPage=propTypesExports.shape({commonObjs:propTypesExports.shape({}).isRequired,getAnnotations:propTypesExports.func.isRequired,getTextContent:propTypesExports.func.isRequired,getViewport:propTypesExports.func.isRequired,render:propTypesExports.func.isRequired}),isPageIndex=function i(s,o,a){var c=s[o],d=s.pageNumber,_=s.pdf;if(!isDefined(_))return null;if(isDefined(c)){if(typeof c!="number")return new Error("`".concat(o,"` of type `").concat(_typeof(c),"` supplied to `").concat(a,"`, expected `number`."));if(c<0)return new Error("Expected `".concat(o,"` to be greater or equal to 0."));var j=_.numPages;if(c+1>j)return new Error("Expected `".concat(o,"` to be less or equal to ").concat(j-1,"."))}else if(!isDefined(d))return new Error("`".concat(o,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(a,"`."));return null},isPageNumber=function i(s,o,a){var c=s[o],d=s.pageIndex,_=s.pdf;if(!isDefined(_))return null;if(isDefined(c)){if(typeof c!="number")return new Error("`".concat(o,"` of type `").concat(_typeof(c),"` supplied to `").concat(a,"`, expected `number`."));if(c<1)return new Error("Expected `".concat(o,"` to be greater or equal to 1."));var j=_.numPages;if(c>j)return new Error("Expected `".concat(o,"` to be less or equal to ").concat(j,"."))}else if(!isDefined(d))return new Error("`".concat(o,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(a,"`."));return null},isPdf=propTypesExports.oneOfType([propTypesExports.shape({getDestination:propTypesExports.func.isRequired,getOutline:propTypesExports.func.isRequired,getPage:propTypesExports.func.isRequired,numPages:propTypesExports.number.isRequired}),propTypesExports.bool]),isRef=propTypesExports.oneOfType([propTypesExports.func,propTypesExports.shape({current:propTypesExports.any})]),isRenderMode=propTypesExports.oneOf(["canvas","none","svg"]),isRotate=propTypesExports.oneOf([0,90,180,270]),_excluded=["url"];function ownKeys$3(i,s){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);s&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),o.push.apply(o,a)}return o}function _objectSpread$3(i){for(var s=1;s<arguments.length;s++){var o=arguments[s]!=null?arguments[s]:{};s%2?ownKeys$3(Object(o),!0).forEach(function(a){_defineProperty(i,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):ownKeys$3(Object(o)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(o,a))})}return i}function _createSuper$5(i){var s=_isNativeReflectConstruct$5();return function(){var a=_getPrototypeOf(i),c;if(s){var d=_getPrototypeOf(this).constructor;c=Reflect.construct(a,arguments,d)}else c=a.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _isNativeReflectConstruct$5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var PDFDataRangeTransport=pdfExports.PDFDataRangeTransport,Document=function(i){_inherits(o,i);var s=_createSuper$5(o);function o(){var a;_classCallCheck(this,o);for(var c=arguments.length,d=new Array(c),_=0;_<c;_++)d[_]=arguments[_];return a=s.call.apply(s,[this].concat(d)),_defineProperty(_assertThisInitialized(a),"state",{pdf:null}),_defineProperty(_assertThisInitialized(a),"viewer",{scrollPageIntoView:function($){var nt=$.dest,dt=$.pageIndex,ft=$.pageNumber,ht=a.props.onItemClick;if(ht){ht({dest:nt,pageIndex:dt,pageNumber:ft});return}var pt=a.pages[dt];if(pt){pt.scrollIntoView();return}warning(!1,"An internal link leading to page ".concat(ft," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>."))}}),_defineProperty(_assertThisInitialized(a),"linkService",new LinkService),_defineProperty(_assertThisInitialized(a),"loadDocument",function(){cancelRunningTask(a.runningTask),a.loadingTask&&a.loadingTask.destroy();var j=makeCancellablePromise(a.findDocumentSource());a.runningTask=j,j.promise.then(function($){if(a.onSourceSuccess(),!!$){a.setState(function(ot){return ot.pdf?{pdf:null}:null});var nt=a.props,dt=nt.options,ft=nt.onLoadProgress,ht=nt.onPassword,pt=pdfExports.getDocument(_objectSpread$3(_objectSpread$3({},$),dt));pt.onPassword=ht,ft&&(pt.onProgress=ft),a.loadingTask=pt,pt.promise.then(function(ot){a.setState(function(b){return b.pdf&&b.pdf.fingerprint===ot.fingerprint?null:{pdf:ot}},a.onLoadSuccess)}).catch(function(ot){a.onLoadError(ot)})}}).catch(function($){a.onSourceError($)})}),_defineProperty(_assertThisInitialized(a),"setupLinkService",function(){var j=a.props,$=j.externalLinkRel,nt=j.externalLinkTarget;a.linkService.setViewer(a.viewer),a.linkService.setExternalLinkRel($),a.linkService.setExternalLinkTarget(nt)}),_defineProperty(_assertThisInitialized(a),"onSourceSuccess",function(){var j=a.props.onSourceSuccess;j&&j()}),_defineProperty(_assertThisInitialized(a),"onSourceError",function(j){warning(j);var $=a.props.onSourceError;$&&$(j)}),_defineProperty(_assertThisInitialized(a),"onLoadSuccess",function(){var j=a.props.onLoadSuccess,$=a.state.pdf;j&&j($),a.pages=new Array($.numPages),a.linkService.setDocument($)}),_defineProperty(_assertThisInitialized(a),"onLoadError",function(j){a.setState({pdf:!1}),warning(j);var $=a.props.onLoadError;$&&$(j)}),_defineProperty(_assertThisInitialized(a),"findDocumentSource",function(){return new Promise(function(j){var $=a.props.file;if($||j(null),typeof $=="string"){if(isDataURI($)){var nt=dataURItoByteString($);j({data:nt})}displayCORSWarning(),j({url:$})}if($ instanceof PDFDataRangeTransport&&j({range:$}),isArrayBuffer($)&&j({data:$}),isBrowser&&(isBlob($)||isFile$1($))){loadFromFile($).then(function(pt){j({data:pt})});return}if(invariant(_typeof($)==="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),invariant($.url||$.data||$.range,"Invalid parameter object: need either .data, .range or .url"),typeof $.url=="string"){if(isDataURI($.url)){var dt=$.url,ft=_objectWithoutProperties($,_excluded),ht=dataURItoByteString(dt);j(_objectSpread$3({data:ht},ft))}displayCORSWarning()}j($)})}),_defineProperty(_assertThisInitialized(a),"registerPage",function(j,$){a.pages[j]=$}),_defineProperty(_assertThisInitialized(a),"unregisterPage",function(j){delete a.pages[j]}),a}return _createClass(o,[{key:"componentDidMount",value:function(){this.loadDocument(),this.setupLinkService()}},{key:"componentDidUpdate",value:function(c){var d=this.props.file;d!==c.file&&this.loadDocument()}},{key:"componentWillUnmount",value:function(){cancelRunningTask(this.runningTask),this.loadingTask&&this.loadingTask.destroy()}},{key:"childContext",get:function(){var c=this.linkService,d=this.registerPage,_=this.unregisterPage,j=this.props,$=j.imageResourcesPath,nt=j.renderMode,dt=j.rotate,ft=this.state.pdf;return{imageResourcesPath:$,linkService:c,pdf:ft,registerPage:d,renderMode:nt,rotate:dt,unregisterPage:_}}},{key:"eventProps",get:function(){var c=this;return makeEventProps(this.props,function(){return c.state.pdf})}},{key:"renderChildren",value:function(){var c=this.props.children;return React.createElement(DocumentContext.Provider,{value:this.childContext},c)}},{key:"renderContent",value:function(){var c=this.props.file,d=this.state.pdf;if(!c){var _=this.props.noData;return React.createElement(Message,{type:"no-data"},typeof _=="function"?_():_)}if(d===null){var j=this.props.loading;return React.createElement(Message,{type:"loading"},typeof j=="function"?j():j)}if(d===!1){var $=this.props.error;return React.createElement(Message,{type:"error"},typeof $=="function"?$():$)}return this.renderChildren()}},{key:"render",value:function(){var c=this.props,d=c.className,_=c.inputRef;return React.createElement("div",_extends({className:clsx("react-pdf__Document",d),ref:_},this.eventProps),this.renderContent())}}]),o}(reactExports.PureComponent);Document.defaultProps={error:"Failed to load PDF file.",loading:"Loading PDF",noData:"No PDF file specified.",onPassword:function i(s,o){switch(o){case PasswordResponses.NEED_PASSWORD:{var a=prompt("Enter the password to open this PDF file.");s(a);break}case PasswordResponses.INCORRECT_PASSWORD:{var c=prompt("Invalid password. Please try again.");s(c);break}}}};var isFunctionOrNode$1=propTypesExports.oneOfType([propTypesExports.func,propTypesExports.node]);Document.propTypes=_objectSpread$3(_objectSpread$3({},eventProps),{},{children:propTypesExports.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:propTypesExports.string,externalLinkTarget:propTypesExports.string,file:isFile,imageResourcesPath:propTypesExports.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:propTypesExports.func,onLoadError:propTypesExports.func,onLoadProgress:propTypesExports.func,onLoadSuccess:propTypesExports.func,onPassword:propTypesExports.func,onSourceError:propTypesExports.func,onSourceSuccess:propTypesExports.func,rotate:propTypesExports.number});var isDestination=propTypesExports.oneOfType([propTypesExports.string,propTypesExports.arrayOf(propTypesExports.any)]);propTypesExports.shape({dest:isDestination,items:propTypesExports.arrayOf(propTypesExports.shape({dest:isDestination,title:propTypesExports.string})),title:propTypesExports.string}).isRequired,propTypesExports.func,isPdf.isRequired;function ownKeys$2(i,s){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);s&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),o.push.apply(o,a)}return o}function _objectSpread$2(i){for(var s=1;s<arguments.length;s++){var o=arguments[s]!=null?arguments[s]:{};s%2?ownKeys$2(Object(o),!0).forEach(function(a){_defineProperty(i,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):ownKeys$2(Object(o)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(o,a))})}return i}_objectSpread$2({className:isClassName,inputRef:isRef,onItemClick:propTypesExports.func,onLoadError:propTypesExports.func,onLoadSuccess:propTypesExports.func,pdf:isPdf},eventProps);function mergeRefs(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];var a=s.filter(Boolean);return a.length<=1?a[0]:function(d){a.forEach(function(_){typeof _=="function"?_(d):_.current=d})}}const PageContext=reactExports.createContext(null);function _createSuper$4(i){var s=_isNativeReflectConstruct$4();return function(){var a=_getPrototypeOf(i),c;if(s){var d=_getPrototypeOf(this).constructor;c=Reflect.construct(a,arguments,d)}else c=a.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _isNativeReflectConstruct$4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var ANNOTATION_MODE=pdfExports.AnnotationMode,PageCanvasInternal=function(i){_inherits(o,i);var s=_createSuper$4(o);function o(){var a;_classCallCheck(this,o);for(var c=arguments.length,d=new Array(c),_=0;_<c;_++)d[_]=arguments[_];return a=s.call.apply(s,[this].concat(d)),_defineProperty(_assertThisInitialized(a),"canvasElement",reactExports.createRef()),_defineProperty(_assertThisInitialized(a),"onRenderSuccess",function(){a.renderer=null;var j=a.props,$=j.onRenderSuccess,nt=j.page,dt=j.scale;$&&$(makePageCallback(nt,dt))}),_defineProperty(_assertThisInitialized(a),"onRenderError",function(j){if(!isCancelException(j)){warning(j);var $=a.props.onRenderError;$&&$(j)}}),_defineProperty(_assertThisInitialized(a),"drawPageOnCanvas",function(){var j=a.canvasElement.current;if(!j)return null;var $=_assertThisInitialized(a),nt=$.renderViewport,dt=$.viewport,ft=a.props,ht=ft.canvasBackground,pt=ft.page,ot=ft.renderForms;j.width=nt.width,j.height=nt.height,j.style.width="".concat(Math.floor(dt.width),"px"),j.style.height="".concat(Math.floor(dt.height),"px");var b={annotationMode:ot?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,get canvasContext(){return j.getContext("2d")},viewport:nt};ht&&(b.background=ht),a.cancelRenderingTask();var lt=pt.render(b);return a.renderer=lt,lt.promise.then(a.onRenderSuccess).catch(a.onRenderError)}),a}return _createClass(o,[{key:"componentDidMount",value:function(){this.drawPageOnCanvas()}},{key:"componentDidUpdate",value:function(c){var d=this.props,_=d.canvasBackground,j=d.devicePixelRatio,$=d.page,nt=d.renderForms;(_!==c.canvasBackground||j!==c.devicePixelRatio||nt!==c.renderForms)&&($.cleanup(),this.drawPageOnCanvas())}},{key:"componentWillUnmount",value:function(){this.cancelRenderingTask();var c=this.canvasElement.current;c&&(c.width=0,c.height=0)}},{key:"cancelRenderingTask",value:function(){this.renderer&&(this.renderer.cancel(),this.renderer=null)}},{key:"devicePixelRatio",get:function(){var c=this.props.devicePixelRatio;return c||getDevicePixelRatio()}},{key:"renderViewport",get:function(){var c=this.devicePixelRatio,d=this.props,_=d.page,j=d.rotate,$=d.scale;return _.getViewport({scale:$*c,rotation:j})}},{key:"viewport",get:function(){var c=this.props,d=c.page,_=c.rotate,j=c.scale;return d.getViewport({scale:j,rotation:_})}},{key:"render",value:function(){var c=this.props.canvasRef;return React.createElement("canvas",{className:"react-pdf__Page__canvas",dir:"ltr",ref:mergeRefs(c,this.canvasElement),style:{display:"block",userSelect:"none"}})}}]),o}(reactExports.PureComponent);PageCanvasInternal.propTypes={canvasBackground:propTypesExports.string,canvasRef:isRef,devicePixelRatio:propTypesExports.number,onRenderError:propTypesExports.func,onRenderSuccess:propTypesExports.func,page:isPage.isRequired,renderForms:propTypesExports.bool,rotate:isRotate,scale:propTypesExports.number.isRequired};function PageCanvas(i){return React.createElement(PageContext.Consumer,null,function(s){return React.createElement(PageCanvasInternal,_extends({},s,i))})}function _createSuper$3(i){var s=_isNativeReflectConstruct$3();return function(){var a=_getPrototypeOf(i),c;if(s){var d=_getPrototypeOf(this).constructor;c=Reflect.construct(a,arguments,d)}else c=a.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _isNativeReflectConstruct$3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var PageSVGInternal=function(i){_inherits(o,i);var s=_createSuper$3(o);function o(){var a;_classCallCheck(this,o);for(var c=arguments.length,d=new Array(c),_=0;_<c;_++)d[_]=arguments[_];return a=s.call.apply(s,[this].concat(d)),_defineProperty(_assertThisInitialized(a),"state",{svg:null}),_defineProperty(_assertThisInitialized(a),"onRenderSuccess",function(){a.renderer=null;var j=a.props,$=j.onRenderSuccess,nt=j.page,dt=j.scale;$&&$(makePageCallback(nt,dt))}),_defineProperty(_assertThisInitialized(a),"onRenderError",function(j){if(!isCancelException(j)){warning(j);var $=a.props.onRenderError;$&&$(j)}}),_defineProperty(_assertThisInitialized(a),"renderSVG",function(){var j=a.props.page;return a.renderer=j.getOperatorList(),a.renderer.then(function($){var nt=new pdfExports.SVGGraphics(j.commonObjs,j.objs);a.renderer=nt.getSVG($,a.viewport).then(function(dt){a.setState({svg:dt},a.onRenderSuccess)}).catch(a.onRenderError)}).catch(a.onRenderError)}),_defineProperty(_assertThisInitialized(a),"drawPageOnContainer",function(j){var $=a.state.svg;if(!(!j||!$)){j.firstElementChild||j.appendChild($);var nt=a.viewport,dt=nt.width,ft=nt.height;$.setAttribute("width",dt),$.setAttribute("height",ft)}}),a}return _createClass(o,[{key:"componentDidMount",value:function(){this.renderSVG()}},{key:"viewport",get:function(){var c=this.props,d=c.page,_=c.rotate,j=c.scale;return d.getViewport({scale:j,rotation:_})}},{key:"render",value:function(){var c=this,d=this.viewport,_=d.width,j=d.height;return React.createElement("div",{className:"react-pdf__Page__svg",ref:function(nt){return c.drawPageOnContainer(nt)},style:{display:"block",backgroundColor:"white",overflow:"hidden",width:_,height:j,userSelect:"none"}})}}]),o}(reactExports.PureComponent);PageSVGInternal.propTypes={onRenderError:propTypesExports.func,onRenderSuccess:propTypesExports.func,page:isPage.isRequired,rotate:isRotate,scale:propTypesExports.number.isRequired};function PageSVG(i){return React.createElement(PageContext.Consumer,null,function(s){return React.createElement(PageSVGInternal,_extends({},s,i))})}function ownKeys$1(i,s){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);s&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),o.push.apply(o,a)}return o}function _objectSpread$1(i){for(var s=1;s<arguments.length;s++){var o=arguments[s]!=null?arguments[s]:{};s%2?ownKeys$1(Object(o),!0).forEach(function(a){_defineProperty(i,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):ownKeys$1(Object(o)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(o,a))})}return i}function _createSuper$2(i){var s=_isNativeReflectConstruct$2();return function(){var a=_getPrototypeOf(i),c;if(s){var d=_getPrototypeOf(this).constructor;c=Reflect.construct(a,arguments,d)}else c=a.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _isNativeReflectConstruct$2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var TextLayerInternal=function(i){_inherits(o,i);var s=_createSuper$2(o);function o(){var a;_classCallCheck(this,o);for(var c=arguments.length,d=new Array(c),_=0;_<c;_++)d[_]=arguments[_];return a=s.call.apply(s,[this].concat(d)),_defineProperty(_assertThisInitialized(a),"state",{textContent:null}),_defineProperty(_assertThisInitialized(a),"layerElement",reactExports.createRef()),_defineProperty(_assertThisInitialized(a),"endElement",reactExports.createRef()),_defineProperty(_assertThisInitialized(a),"loadTextContent",function(){var j=a.props.page,$=makeCancellablePromise(j.getTextContent());a.runningTask=$,$.promise.then(function(nt){a.setState({textContent:nt},a.onLoadSuccess)}).catch(function(nt){a.onLoadError(nt)})}),_defineProperty(_assertThisInitialized(a),"onLoadSuccess",function(){var j=a.props.onGetTextSuccess,$=a.state.textContent;j&&j($)}),_defineProperty(_assertThisInitialized(a),"onLoadError",function(j){a.setState({textItems:!1}),warning(j);var $=a.props.onGetTextError;$&&$(j)}),_defineProperty(_assertThisInitialized(a),"onRenderSuccess",function(){var j=a.props.onRenderTextLayerSuccess;j&&j()}),_defineProperty(_assertThisInitialized(a),"onRenderError",function(j){warning(j);var $=a.props.onRenderTextLayerError;$&&$(j)}),_defineProperty(_assertThisInitialized(a),"onMouseDown",function(){var j=a.endElement.current;j&&j.classList.add("active")}),_defineProperty(_assertThisInitialized(a),"onMouseUp",function(){var j=a.endElement.current;j&&j.classList.remove("active")}),a}return _createClass(o,[{key:"componentDidMount",value:function(){var c=this.props.page;invariant(c,"Attempted to load page text content, but no page was specified."),warning(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),this.loadTextContent()}},{key:"componentDidUpdate",value:function(c){var d=this.props.page;c.page&&d!==c.page&&this.loadTextContent()}},{key:"componentWillUnmount",value:function(){cancelRunningTask(this.runningTask)}},{key:"viewport",get:function(){var c=this.props,d=c.page,_=c.rotate,j=c.scale;return d.getViewport({scale:j,rotation:_})}},{key:"unrotatedViewport",get:function(){var c=this.props,d=c.page,_=c.scale;return d.getViewport({scale:_})}},{key:"rotate",get:function(){var c=this.props,d=c.page,_=c.rotate;return _-d.rotate}},{key:"renderTextLayer",value:function(){var c=this,d=this.state.textContent;if(!d)return null;var _=this.layerElement.current,j=this.viewport,$=this.props.customTextRenderer;cancelRunningTask(this.runningTask),_.innerHTML="";var nt={container:_,textContent:d,viewport:j},dt=pdfExports.renderTextLayer(nt);this.runningTask=dt,dt.promise.then(function(){var ft=document.createElement("div");if(ft.className="endOfContent",_.append(ft),c.endElement.current=ft,$){var ht=0;d.items.forEach(function(pt,ot){var b=c.layerElement.current.children[ht],lt=$(_objectSpread$1({itemIndex:ot},pt));b.innerHTML=lt,ht+=pt.str&&pt.hasEOL?2:1})}c.onRenderSuccess()}).catch(function(ft){c.onRenderError(ft)})}},{key:"render",value:function(){return React.createElement("div",{className:"react-pdf__Page__textContent textLayer",onMouseUp:this.onMouseUp,onMouseDown:this.onMouseDown,ref:this.layerElement},this.renderTextLayer())}}]),o}(reactExports.PureComponent);TextLayerInternal.propTypes={customTextRenderer:propTypesExports.func,onGetTextError:propTypesExports.func,onGetTextSuccess:propTypesExports.func,onRenderTextLayerError:propTypesExports.func,onRenderTextLayerSuccess:propTypesExports.func,page:isPage.isRequired,rotate:isRotate,scale:propTypesExports.number};function TextLayer$1(i){return React.createElement(PageContext.Consumer,null,function(s){return React.createElement(TextLayerInternal,_extends({},s,i))})}function _createSuper$1(i){var s=_isNativeReflectConstruct$1();return function(){var a=_getPrototypeOf(i),c;if(s){var d=_getPrototypeOf(this).constructor;c=Reflect.construct(a,arguments,d)}else c=a.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _isNativeReflectConstruct$1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var AnnotationLayerInternal=function(i){_inherits(o,i);var s=_createSuper$1(o);function o(){var a;_classCallCheck(this,o);for(var c=arguments.length,d=new Array(c),_=0;_<c;_++)d[_]=arguments[_];return a=s.call.apply(s,[this].concat(d)),_defineProperty(_assertThisInitialized(a),"state",{annotations:null}),_defineProperty(_assertThisInitialized(a),"layerElement",reactExports.createRef()),_defineProperty(_assertThisInitialized(a),"loadAnnotations",function(){var j=a.props.page,$=makeCancellablePromise(j.getAnnotations());a.runningTask=$,$.promise.then(function(nt){a.setState({annotations:nt},a.onLoadSuccess)}).catch(function(nt){a.onLoadError(nt)})}),_defineProperty(_assertThisInitialized(a),"onLoadSuccess",function(){var j=a.props.onGetAnnotationsSuccess,$=a.state.annotations;j&&j($)}),_defineProperty(_assertThisInitialized(a),"onLoadError",function(j){a.setState({annotations:!1}),warning(j);var $=a.props.onGetAnnotationsError;$&&$(j)}),_defineProperty(_assertThisInitialized(a),"onRenderSuccess",function(){var j=a.props.onRenderAnnotationLayerSuccess;j&&j()}),_defineProperty(_assertThisInitialized(a),"onRenderError",function(j){warning(j);var $=a.props.onRenderAnnotationLayerError;$&&$(j)}),a}return _createClass(o,[{key:"componentDidMount",value:function(){var c=this.props.page;invariant(c,"Attempted to load page annotations, but no page was specified."),warning(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),this.loadAnnotations()}},{key:"componentDidUpdate",value:function(c){var d=this.props,_=d.page,j=d.renderForms;(c.page&&_!==c.page||j!==c.renderForms)&&this.loadAnnotations()}},{key:"componentWillUnmount",value:function(){cancelRunningTask(this.runningTask)}},{key:"viewport",get:function(){var c=this.props,d=c.page,_=c.rotate,j=c.scale;return d.getViewport({scale:j,rotation:_})}},{key:"renderAnnotationLayer",value:function(){var c=this.state.annotations;if(c){var d=this.props,_=d.imageResourcesPath,j=d.linkService,$=d.page,nt=d.renderForms,dt=this.viewport.clone({dontFlip:!0}),ft={annotations:c,div:this.layerElement.current,imageResourcesPath:_,linkService:j,page:$,renderForms:nt,viewport:dt};this.layerElement.current.innerHTML="";try{pdfExports.AnnotationLayer.render(ft),this.onRenderSuccess()}catch(ht){this.onRenderError(ht)}}}},{key:"render",value:function(){return React.createElement("div",{className:"react-pdf__Page__annotations annotationLayer",ref:this.layerElement},this.renderAnnotationLayer())}}]),o}(reactExports.PureComponent);AnnotationLayerInternal.propTypes={imageResourcesPath:propTypesExports.string,linkService:isLinkService.isRequired,onGetAnnotationsError:propTypesExports.func,onGetAnnotationsSuccess:propTypesExports.func,onRenderAnnotationLayerError:propTypesExports.func,onRenderAnnotationLayerSuccess:propTypesExports.func,page:isPage,renderForms:propTypesExports.bool,rotate:isRotate,scale:propTypesExports.number};var AnnotationLayer$1=function i(s){return React.createElement(DocumentContext.Consumer,null,function(o){return React.createElement(PageContext.Consumer,null,function(a){return React.createElement(AnnotationLayerInternal,_extends({},o,a,s))})})};function ownKeys(i,s){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);s&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),o.push.apply(o,a)}return o}function _objectSpread(i){for(var s=1;s<arguments.length;s++){var o=arguments[s]!=null?arguments[s]:{};s%2?ownKeys(Object(o),!0).forEach(function(a){_defineProperty(i,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(o,a))})}return i}function _createSuper(i){var s=_isNativeReflectConstruct();return function(){var a=_getPrototypeOf(i),c;if(s){var d=_getPrototypeOf(this).constructor;c=Reflect.construct(a,arguments,d)}else c=a.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var defaultScale=1,PageInternal=function(i){_inherits(o,i);var s=_createSuper(o);function o(){var a;_classCallCheck(this,o);for(var c=arguments.length,d=new Array(c),_=0;_<c;_++)d[_]=arguments[_];return a=s.call.apply(s,[this].concat(d)),_defineProperty(_assertThisInitialized(a),"state",{page:null}),_defineProperty(_assertThisInitialized(a),"pageElement",reactExports.createRef()),_defineProperty(_assertThisInitialized(a),"onLoadSuccess",function(){var j=a.props,$=j.onLoadSuccess,nt=j.registerPage,dt=a.state.page;$&&$(makePageCallback(dt,a.scale)),nt&&nt(a.pageIndex,a.pageElement.current)}),_defineProperty(_assertThisInitialized(a),"onLoadError",function(j){a.setState({page:!1}),warning(j);var $=a.props.onLoadError;$&&$(j)}),_defineProperty(_assertThisInitialized(a),"loadPage",function(){var j=a.props.pdf,$=a.getPageNumber();if($){a.setState(function(dt){return dt.page?{page:null}:null});var nt=makeCancellablePromise(j.getPage($));a.runningTask=nt,nt.promise.then(function(dt){a.setState({page:dt},a.onLoadSuccess)}).catch(function(dt){a.onLoadError(dt)})}}),a}return _createClass(o,[{key:"componentDidMount",value:function(){var c=this.props.pdf;invariant(c,"Attempted to load a page, but no document was specified."),this.loadPage()}},{key:"componentDidUpdate",value:function(c){var d=this.props.pdf;if(c.pdf&&d!==c.pdf||this.getPageNumber()!==this.getPageNumber(c)){var _=this.props.unregisterPage;_&&_(this.getPageIndex(c)),this.loadPage()}}},{key:"componentWillUnmount",value:function(){var c=this.props.unregisterPage;c&&c(this.pageIndex),cancelRunningTask(this.runningTask)}},{key:"childContext",get:function(){var c=this.state.page;if(!c)return{};var d=this.props,_=d.canvasBackground,j=d.customTextRenderer,$=d.devicePixelRatio,nt=d.onGetAnnotationsError,dt=d.onGetAnnotationsSuccess,ft=d.onGetTextError,ht=d.onGetTextSuccess,pt=d.onRenderAnnotationLayerError,ot=d.onRenderAnnotationLayerSuccess,b=d.onRenderError,lt=d.onRenderSuccess,tt=d.onRenderTextLayerError,st=d.onRenderTextLayerSuccess,et=d.renderForms,g=d.renderInteractiveForms;return{canvasBackground:_,customTextRenderer:j,devicePixelRatio:$,onGetAnnotationsError:nt,onGetAnnotationsSuccess:dt,onGetTextError:ft,onGetTextSuccess:ht,onRenderAnnotationLayerError:pt,onRenderAnnotationLayerSuccess:ot,onRenderError:b,onRenderSuccess:lt,onRenderTextLayerError:tt,onRenderTextLayerSuccess:st,page:c,renderForms:et??g,rotate:this.rotate,scale:this.scale}}},{key:"getPageIndex",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return isProvided(c.pageNumber)?c.pageNumber-1:isProvided(c.pageIndex)?c.pageIndex:null}},{key:"getPageNumber",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return isProvided(c.pageNumber)?c.pageNumber:isProvided(c.pageIndex)?c.pageIndex+1:null}},{key:"pageIndex",get:function(){return this.getPageIndex()}},{key:"pageNumber",get:function(){return this.getPageNumber()}},{key:"rotate",get:function(){var c=this.props.rotate;if(isProvided(c))return c;var d=this.state.page;return d?d.rotate:null}},{key:"scale",get:function(){var c=this.state.page;if(!c)return null;var d=this.props,_=d.scale,j=d.width,$=d.height,nt=this.rotate,dt=1,ft=_===null?defaultScale:_;if(j||$){var ht=c.getViewport({scale:1,rotation:nt});dt=j?j/ht.width:$/ht.height}return ft*dt}},{key:"eventProps",get:function(){var c=this;return makeEventProps(this.props,function(){var d=c.state.page;return d&&makePageCallback(d,c.scale)})}},{key:"pageKey",get:function(){return"".concat(this.pageIndex,"@").concat(this.scale,"/").concat(this.rotate)}},{key:"pageKeyNoScale",get:function(){return"".concat(this.pageIndex,"/").concat(this.rotate)}},{key:"renderMainLayer",value:function(){var c=this.props,d=c.canvasRef,_=c.renderMode;switch(_){case"none":return null;case"svg":return React.createElement(PageSVG,{key:"".concat(this.pageKeyNoScale,"_svg")});case"canvas":default:return React.createElement(PageCanvas,{key:"".concat(this.pageKey,"_canvas"),canvasRef:d})}}},{key:"renderTextLayer",value:function(){var c=this.props.renderTextLayer;return c?React.createElement(TextLayer$1,{key:"".concat(this.pageKey,"_text")}):null}},{key:"renderAnnotationLayer",value:function(){var c=this.props.renderAnnotationLayer;return c?React.createElement(AnnotationLayer$1,{key:"".concat(this.pageKey,"_annotations")}):null}},{key:"renderChildren",value:function(){var c=this.props.children;return React.createElement(PageContext.Provider,{value:this.childContext},this.renderMainLayer(),this.renderTextLayer(),this.renderAnnotationLayer(),c)}},{key:"renderContent",value:function(){var c=this.pageNumber,d=this.props.pdf,_=this.state.page;if(!c){var j=this.props.noData;return React.createElement(Message,{type:"no-data"},typeof j=="function"?j():j)}if(d===null||_===null){var $=this.props.loading;return React.createElement(Message,{type:"loading"},typeof $=="function"?$():$)}if(d===!1||_===!1){var nt=this.props.error;return React.createElement(Message,{type:"error"},typeof nt=="function"?nt():nt)}return this.renderChildren()}},{key:"render",value:function(){var c=this.pageNumber,d=this.props,_=d.className,j=d.inputRef;return React.createElement("div",_extends({className:clsx("react-pdf__Page",_),"data-page-number":c,ref:mergeRefs(j,this.pageElement),style:{position:"relative",minWidth:"min-content",minHeight:"min-content"}},this.eventProps),this.renderContent())}}]),o}(reactExports.PureComponent);PageInternal.defaultProps={error:"Failed to load the page.",loading:"Loading page",noData:"No page specified.",renderAnnotationLayer:!0,renderMode:"canvas",renderTextLayer:!0,scale:defaultScale};var isFunctionOrNode=propTypesExports.oneOfType([propTypesExports.func,propTypesExports.node]);PageInternal.propTypes=_objectSpread(_objectSpread({},eventProps),{},{canvasBackground:propTypesExports.string,children:propTypesExports.node,className:isClassName,customTextRenderer:propTypesExports.func,devicePixelRatio:propTypesExports.number,error:isFunctionOrNode,height:propTypesExports.number,imageResourcesPath:propTypesExports.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:propTypesExports.func,onGetTextSuccess:propTypesExports.func,onLoadError:propTypesExports.func,onLoadSuccess:propTypesExports.func,onRenderError:propTypesExports.func,onRenderSuccess:propTypesExports.func,onRenderTextLayerError:propTypesExports.func,onRenderTextLayerSuccess:propTypesExports.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,registerPage:propTypesExports.func,renderAnnotationLayer:propTypesExports.bool,renderForms:propTypesExports.bool,renderInteractiveForms:propTypesExports.bool,renderMode:isRenderMode,renderTextLayer:propTypesExports.bool,rotate:isRotate,scale:propTypesExports.number,unregisterPage:propTypesExports.func,width:propTypesExports.number});function Page(i,s){return React.createElement(DocumentContext.Consumer,null,function(o){return React.createElement(PageInternal,_extends({ref:s},o,i))})}const Page$1=React.forwardRef(Page);displayWorkerWarning();pdfExports.GlobalWorkerOptions.workerSrc="pdf.worker.js";const TextLayer="",AnnotationLayer="",blank="../blank.pdf";pdfExports.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfExports.version}/pdf.worker.js`;const HTMLFlipBookForward=React.forwardRef((i,s)=>{const[o,a]=reactExports.useState(!0),[c,d]=reactExports.useState(null),[_,j]=reactExports.useState(0),$=reactExports.useRef();reactExports.useImperativeHandle(s,()=>({pageFlip:()=>c}));const nt=reactExports.useCallback(()=>{const ft=c;ft&&(ft.off("flip"),ft.off("changeOrientation"),ft.off("changeState"),ft.off("init"),ft.off("update"))},[]);reactExports.useEffect(()=>{const ft=()=>{const ht=c;d(c),ht&&(i.onFlip&&ht.on("flip",pt=>{var ot;return(ot=i.onFlip)==null?void 0:ot.call(i,pt)}),i.onChangeOrientation&&ht.on("changeOrientation",pt=>{var ot;return(ot=i.onChangeOrientation)==null?void 0:ot.call(i,pt)}),i.onChangeState&&ht.on("changeState",pt=>{var ot;return(ot=i.onChangeState)==null?void 0:ot.call(i,pt)}),i.onInit&&ht.on("init",pt=>{var ot;return(ot=i.onInit)==null?void 0:ot.call(i,pt)}),i.onUpdate&&ht.on("update",pt=>{var ot;return(ot=i.onUpdate)==null?void 0:ot.call(i,pt)}))};document.querySelectorAll(".react-pdf__Page").length&&(nt(),c&&(c.getFlipController()?c.updateFromHtml(document.querySelectorAll(".react-pdf__Page")):c.loadFromHTML(document.querySelectorAll(".react-pdf__Page"))),ft())},[o]),reactExports.useEffect(()=>{document.querySelector(".react-pdf__Document")&&d(new pageFlip_browserExports.PageFlip(document.querySelector(".react-pdf__Document"),i))},[o]);function dt({numPages:ft}){j(ft),a(!1)}return jsx(Document,{file:i.book?i.book:blank,className:i.className,style:i.style,ref:$,onLoadSuccess:dt,children:Array.from(new Array(_),(ft,ht)=>jsx(Page$1,{scale:i.scale,pageNumber:ht+1},`page_${ht+1}`))})}),HTMLFlipBook=React.memo(HTMLFlipBookForward);function NavLeft(){return jsx(Navbar$1,{bg:"light",expand:!1,className:"mb-3",children:jsxs(Container$1,{fluid:!0,children:[jsx(Navbar$1.Toggle,{"aria-controls":"offcanvasNavbar-expand-lg"}),jsxs(Navbar$1.Offcanvas,{id:"offcanvasNavbar-expand-lg","aria-labelledby":"offcanvasNavbarLabel-expand-lg",placement:"end",children:[jsx(Offcanvas$1.Header,{closeButton:!0,children:jsx(Offcanvas$1.Title,{id:"offcanvasNavbarLabel-expand-lg",children:"Available Books"})}),jsx(Offcanvas$1.Body,{})]})]})})}const createStoreImpl=i=>{let s;const o=new Set,a=($,nt)=>{const dt=typeof $=="function"?$(s):$;if(!Object.is(dt,s)){const ft=s;s=nt??typeof dt!="object"?dt:Object.assign({},s,dt),o.forEach(ht=>ht(s,ft))}},c=()=>s,j={setState:a,getState:c,subscribe:$=>(o.add($),()=>o.delete($)),destroy:()=>o.clear()};return s=i(a,c,j),j},createStore=i=>i?createStoreImpl(i):createStoreImpl;var withSelectorExports={},withSelector={get exports(){return withSelectorExports},set exports(i){withSelectorExports=i}},withSelector_production_min={},shimExports={},shim={get exports(){return shimExports},set exports(i){shimExports=i}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=reactExports;function h$1(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var k=typeof Object.is=="function"?Object.is:h$1,l=e.useState,m=e.useEffect,n$1=e.useLayoutEffect,p$1=e.useDebugValue;function q$1(i,s){var o=s(),a=l({inst:{value:o,getSnapshot:s}}),c=a[0].inst,d=a[1];return n$1(function(){c.value=o,c.getSnapshot=s,r$1(c)&&d({inst:c})},[i,o,s]),m(function(){return r$1(c)&&d({inst:c}),i(function(){r$1(c)&&d({inst:c})})},[i]),p$1(o),o}function r$1(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!k(i,o)}catch{return!0}}function t$1(i,s){return s()}var u$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$1:q$1;useSyncExternalStoreShim_production_min.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u$1;(function(i){i.exports=useSyncExternalStoreShim_production_min})(shim);/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h=reactExports,n=shimExports;function p(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var q=typeof Object.is=="function"?Object.is:p,r=n.useSyncExternalStore,t=h.useRef,u=h.useEffect,v=h.useMemo,w=h.useDebugValue;withSelector_production_min.useSyncExternalStoreWithSelector=function(i,s,o,a,c){var d=t(null);if(d.current===null){var _={hasValue:!1,value:null};d.current=_}else _=d.current;d=v(function(){function $(pt){if(!nt){if(nt=!0,dt=pt,pt=a(pt),c!==void 0&&_.hasValue){var ot=_.value;if(c(ot,pt))return ft=ot}return ft=pt}if(ot=ft,q(dt,pt))return ot;var b=a(pt);return c!==void 0&&c(ot,b)?ot:(dt=pt,ft=b)}var nt=!1,dt,ft,ht=o===void 0?null:o;return[function(){return $(s())},ht===null?void 0:function(){return $(ht())}]},[s,o,a,c]);var j=r(i,d[0],d[1]);return u(function(){_.hasValue=!0,_.value=j},[j]),w(j),j};(function(i){i.exports=withSelector_production_min})(withSelector);const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelectorExports),{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports;function useStore(i,s=i.getState,o){const a=useSyncExternalStoreWithSelector(i.subscribe,i.getState,i.getServerState||i.getState,s,o);return reactExports.useDebugValue(a),a}const createImpl=i=>{const s=typeof i=="function"?createStore(i):i,o=(a,c)=>useStore(s,a,c);return Object.assign(o,s),o},create=i=>i?createImpl(i):createImpl,useBookStore=create(i=>({book:null,storeBook:s=>i(()=>({book:s}))}));function PickBook(i){const s=useBookStore(a=>a.storeBook),o=a=>{s(a.target.files[0])};return jsx(InputGroup$1,{className:"mb-3",style:{width:700},children:jsx(Form$1.Control,{"aria-label":"PDF",type:"file",accept:".pdf",onChange:o})})}function App(){const i=useBookStore(dt=>dt.book),[s,o]=reactExports.useState(null),[a,c]=reactExports.useState(!1),[d,_]=reactExports.useState(!1);function j(){const[dt,ft]=reactExports.useState([0,0]);return reactExports.useLayoutEffect(()=>{function ht(){ft([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",ht),ht(),()=>window.removeEventListener("resize",ht)},[]),dt}const[$,nt]=j();return reactExports.useEffect(()=>{$<=1e3?_(!0):_(!1)},[$]),reactExports.useEffect(()=>(c(!0),setTimeout(()=>c(!1),50),()=>c(!1)),[i]),jsx(Fragment,{children:d?jsxs(Container$1,{style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",height:"100vh"},children:[jsx("h1",{className:"mb-3",style:{color:"#fff",textAlign:"center"},children:"App is not ready yet on small screens :("}),jsx("h3",{style:{color:"#fff",textAlign:"center"},children:"please open on a larger one"})]}):jsxs(Fragment,{children:[jsx(NavLeft,{}),jsxs(Container$1,{style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",height:"100vh"},children:[jsx(PickBook,{bookRef:s}),a?null:jsx(HTMLFlipBook,{width:350,height:450,showCover:!0,maxShadowOpacity:.2,setBookRef:o,book:i,scale:1})]})]})})}const index="";client.createRoot(document.getElementById("root")).render(jsx(React.StrictMode,{children:jsx(App,{})}));
